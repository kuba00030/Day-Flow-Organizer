function E2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cA={exports:{}},Ff={},uA={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),_2=Symbol.for("react.portal"),S2=Symbol.for("react.fragment"),b2=Symbol.for("react.strict_mode"),T2=Symbol.for("react.profiler"),C2=Symbol.for("react.provider"),x2=Symbol.for("react.context"),A2=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),I2=Symbol.for("react.memo"),k2=Symbol.for("react.lazy"),F_=Symbol.iterator;function D2(t){return t===null||typeof t!="object"?null:(t=F_&&t[F_]||t["@@iterator"],typeof t=="function"?t:null)}var dA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hA=Object.assign,fA={};function Va(t,e,n){this.props=t,this.context=e,this.refs=fA,this.updater=n||dA}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pA(){}pA.prototype=Va.prototype;function e0(t,e,n){this.props=t,this.context=e,this.refs=fA,this.updater=n||dA}var t0=e0.prototype=new pA;t0.constructor=e0;hA(t0,Va.prototype);t0.isPureReactComponent=!0;var B_=Array.isArray,mA=Object.prototype.hasOwnProperty,n0={current:null},gA={key:!0,ref:!0,__self:!0,__source:!0};function vA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mA.call(e,r)&&!gA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ru,type:t,key:s,ref:o,props:i,_owner:n0.current}}function P2(t,e){return{$$typeof:ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function N2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U_=/\/+/g;function rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N2(""+t.key):e.toString(36)}function jd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ru:case _2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rm(o,0):r,B_(i)?(n="",t!=null&&(n=t.replace(U_,"$&/")+"/"),jd(i,e,n,"",function(c){return c})):i!=null&&(r0(i)&&(i=P2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(U_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",B_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rm(s,a);o+=jd(s,e,n,l,i)}else if(l=D2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rm(s,a++),o+=jd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yu(t,e,n){if(t==null)return t;var r=[],i=0;return jd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function M2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Fd={transition:null},O2={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:n0};se.Children={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!r0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Va;se.Fragment=S2;se.Profiler=T2;se.PureComponent=e0;se.StrictMode=b2;se.Suspense=R2;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=n0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mA.call(e,l)&&!gA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ru,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:x2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C2,_context:t},t.Consumer=t};se.createElement=vA;se.createFactory=function(t){var e=vA.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:A2,render:t}};se.isValidElement=r0;se.lazy=function(t){return{$$typeof:k2,_payload:{_status:-1,_result:t},_init:M2}};se.memo=function(t,e){return{$$typeof:I2,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Fd.transition;Fd.transition={};try{t()}finally{Fd.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return Kt.current.useCallback(t,e)};se.useContext=function(t){return Kt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Kt.current.useEffect(t,e)};se.useId=function(){return Kt.current.useId()};se.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Kt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)};se.useRef=function(t){return Kt.current.useRef(t)};se.useState=function(t){return Kt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Kt.current.useTransition()};se.version="18.2.0";uA.exports=se;var p=uA.exports;const te=jf(p),L2=E2({__proto__:null,default:te},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2=p,j2=Symbol.for("react.element"),F2=Symbol.for("react.fragment"),B2=Object.prototype.hasOwnProperty,U2=V2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$2={key:!0,ref:!0,__self:!0,__source:!0};function yA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)B2.call(e,r)&&!$2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j2,type:t,key:s,ref:o,props:i,_owner:U2.current}}Ff.Fragment=F2;Ff.jsx=yA;Ff.jsxs=yA;cA.exports=Ff;var m=cA.exports,Og={},wA={exports:{}},yn={},EA={exports:{}},_A={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,F){var $=D.length;D.push(F);e:for(;0<$;){var B=$-1>>>1,q=D[B];if(0<i(q,F))D[B]=F,D[$]=q,$=B;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],$=D.pop();if($!==F){D[0]=$;e:for(var B=0,q=D.length,Se=q>>>1;B<Se;){var Oe=2*(B+1)-1,st=D[Oe],me=Oe+1,bt=D[me];if(0>i(st,$))me<q&&0>i(bt,st)?(D[B]=bt,D[me]=$,B=me):(D[B]=st,D[Oe]=$,B=Oe);else if(me<q&&0>i(bt,$))D[B]=bt,D[me]=$,B=me;else break e}}return F}function i(D,F){var $=D.sortIndex-F.sortIndex;return $!==0?$:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function S(D){if(v=!1,_(D),!g)if(n(l)!==null)g=!0,oe(T);else{var F=n(c);F!==null&&de(S,F.startTime-D)}}function T(D,F){g=!1,v&&(v=!1,w(A),A=-1),f=!0;var $=h;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||D&&!z());){var B=d.callback;if(typeof B=="function"){d.callback=null,h=d.priorityLevel;var q=B(d.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var Se=!0;else{var Oe=n(c);Oe!==null&&de(S,Oe.startTime-F),Se=!1}return Se}finally{d=null,h=$,f=!1}}var C=!1,x=null,A=-1,N=5,M=-1;function z(){return!(t.unstable_now()-M<N)}function re(){if(x!==null){var D=t.unstable_now();M=D;var F=!0;try{F=x(!0,D)}finally{F?fe():(C=!1,x=null)}}else C=!1}var fe;if(typeof y=="function")fe=function(){y(re)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,it=ue.port2;ue.port1.onmessage=re,fe=function(){it.postMessage(null)}}else fe=function(){E(re,0)};function oe(D){x=D,C||(C=!0,fe())}function de(D,F){A=E(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,oe(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var $=h;h=F;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return F()}finally{h=$}},t.unstable_scheduleCallback=function(D,F,$){var B=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?B+$:B):$=B,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,D={id:u++,callback:F,priorityLevel:D,startTime:$,expirationTime:q,sortIndex:-1},$>B?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(v?(w(A),A=-1):v=!0,de(S,$-B))):(D.sortIndex=q,e(l,D),g||f||(g=!0,oe(T))),D},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(D){var F=h;return function(){var $=h;h=F;try{return D.apply(this,arguments)}finally{h=$}}}})(_A);EA.exports=_A;var H2=EA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SA=p,mn=H2;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bA=new Set,uc={};function ao(t,e){pa(t,e),pa(t+"Capture",e)}function pa(t,e){for(uc[t]=e,t=0;t<e.length;t++)bA.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=Object.prototype.hasOwnProperty,z2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$_={},H_={};function W2(t){return Lg.call(H_,t)?!0:Lg.call($_,t)?!1:z2.test(t)?H_[t]=!0:($_[t]=!0,!1)}function G2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q2(t,e,n,r){if(e===null||typeof e>"u"||G2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var i0=/[\-:]([a-z])/g;function s0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i0,s0);_t[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i0,s0);_t[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i0,s0);_t[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function o0(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q2(e,n,i,r)&&(n=null),r||i===null?W2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=SA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),No=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),TA=Symbol.for("react.provider"),CA=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),jg=Symbol.for("react.suspense"),Fg=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),xA=Symbol.for("react.offscreen"),z_=Symbol.iterator;function ll(t){return t===null||typeof t!="object"?null:(t=z_&&t[z_]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,im;function Cl(t){if(im===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);im=e&&e[1]||""}return`
`+im+t}var sm=!1;function om(t,e){if(!t||sm)return"";sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cl(t):""}function Q2(t){switch(t.tag){case 5:return Cl(t.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return t=om(t.type,!1),t;case 11:return t=om(t.type.render,!1),t;case 1:return t=om(t.type,!0),t;default:return""}}function Bg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case No:return"Portal";case Vg:return"Profiler";case a0:return"StrictMode";case jg:return"Suspense";case Fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CA:return(t.displayName||"Context")+".Consumer";case TA:return(t._context.displayName||"Context")+".Provider";case l0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c0:return e=t.displayName||null,e!==null?e:Bg(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Bg(t(e))}catch{}}return null}function K2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bg(e);case 8:return e===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y2(t){var e=AA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=Y2(t))}function RA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ug(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function W_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IA(t,e){e=e.checked,e!=null&&o0(t,"checked",e,!1)}function $g(t,e){IA(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hg(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hg(t,e,n){(e!=="number"||fh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xl=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function q_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(xl(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function kA(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Q_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ju,PA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X2=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){X2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function NA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function MA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Z2=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gg(t,e){if(e){if(Z2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function qg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=null;function u0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kg=null,ea=null,ta=null;function K_(t){if(t=ou(t)){if(typeof Kg!="function")throw Error(P(280));var e=t.stateNode;e&&(e=zf(e),Kg(t.stateNode,t.type,e))}}function OA(t){ea?ta?ta.push(t):ta=[t]:ea=t}function LA(){if(ea){var t=ea,e=ta;if(ta=ea=null,K_(t),e)for(t=0;t<e.length;t++)K_(e[t])}}function VA(t,e){return t(e)}function jA(){}var am=!1;function FA(t,e,n){if(am)return t(e,n);am=!0;try{return VA(t,e,n)}finally{am=!1,(ea!==null||ta!==null)&&(jA(),LA())}}function hc(t,e){var n=t.stateNode;if(n===null)return null;var r=zf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Yg=!1;if(Wr)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Yg=!1}function J2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Fl=!1,ph=null,mh=!1,Xg=null,eV={onError:function(t){Fl=!0,ph=t}};function tV(t,e,n,r,i,s,o,a,l){Fl=!1,ph=null,J2.apply(eV,arguments)}function nV(t,e,n,r,i,s,o,a,l){if(tV.apply(this,arguments),Fl){if(Fl){var c=ph;Fl=!1,ph=null}else throw Error(P(198));mh||(mh=!0,Xg=c)}}function lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y_(t){if(lo(t)!==t)throw Error(P(188))}function rV(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Y_(i),t;if(s===r)return Y_(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function UA(t){return t=rV(t),t!==null?$A(t):null}function $A(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$A(t);if(e!==null)return e;t=t.sibling}return null}var HA=mn.unstable_scheduleCallback,X_=mn.unstable_cancelCallback,iV=mn.unstable_shouldYield,sV=mn.unstable_requestPaint,ze=mn.unstable_now,oV=mn.unstable_getCurrentPriorityLevel,d0=mn.unstable_ImmediatePriority,zA=mn.unstable_UserBlockingPriority,gh=mn.unstable_NormalPriority,aV=mn.unstable_LowPriority,WA=mn.unstable_IdlePriority,Bf=null,fr=null;function lV(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Bf,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:dV,cV=Math.log,uV=Math.LN2;function dV(t){return t>>>=0,t===0?32:31-(cV(t)/uV|0)|0}var ed=64,td=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Al(a):(s&=o,s!==0&&(r=Al(s)))}else o=n&~i,o!==0?r=Al(o):s!==0&&(r=Al(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),i=1<<n,r|=t[n],e&=~i;return r}function hV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Zg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GA(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function lm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function pV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function h0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ee=0;function qA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var QA,f0,KA,YA,XA,Jg=!1,nd=[],Li=null,Vi=null,ji=null,fc=new Map,pc=new Map,bi=[],mV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z_(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(e.pointerId)}}function ul(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ou(e),e!==null&&f0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gV(t,e,n,r,i){switch(e){case"focusin":return Li=ul(Li,t,e,n,r,i),!0;case"dragenter":return Vi=ul(Vi,t,e,n,r,i),!0;case"mouseover":return ji=ul(ji,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fc.set(s,ul(fc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pc.set(s,ul(pc.get(s)||null,t,e,n,r,i)),!0}return!1}function ZA(t){var e=ks(t.target);if(e!==null){var n=lo(e);if(n!==null){if(e=n.tag,e===13){if(e=BA(n),e!==null){t.blockedOn=e,XA(t.priority,function(){KA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ev(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qg=r,n.target.dispatchEvent(r),Qg=null}else return e=ou(n),e!==null&&f0(e),t.blockedOn=n,!1;e.shift()}return!0}function J_(t,e,n){Bd(t)&&n.delete(e)}function vV(){Jg=!1,Li!==null&&Bd(Li)&&(Li=null),Vi!==null&&Bd(Vi)&&(Vi=null),ji!==null&&Bd(ji)&&(ji=null),fc.forEach(J_),pc.forEach(J_)}function dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Jg||(Jg=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,vV)))}function mc(t){function e(i){return dl(i,t)}if(0<nd.length){dl(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Li!==null&&dl(Li,t),Vi!==null&&dl(Vi,t),ji!==null&&dl(ji,t),fc.forEach(e),pc.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)ZA(n),n.blockedOn===null&&bi.shift()}var na=ni.ReactCurrentBatchConfig,yh=!0;function yV(t,e,n,r){var i=Ee,s=na.transition;na.transition=null;try{Ee=1,p0(t,e,n,r)}finally{Ee=i,na.transition=s}}function wV(t,e,n,r){var i=Ee,s=na.transition;na.transition=null;try{Ee=4,p0(t,e,n,r)}finally{Ee=i,na.transition=s}}function p0(t,e,n,r){if(yh){var i=ev(t,e,n,r);if(i===null)ym(t,e,r,wh,n),Z_(t,r);else if(gV(i,t,e,n,r))r.stopPropagation();else if(Z_(t,r),e&4&&-1<mV.indexOf(t)){for(;i!==null;){var s=ou(i);if(s!==null&&QA(s),s=ev(t,e,n,r),s===null&&ym(t,e,r,wh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ym(t,e,r,null,n)}}var wh=null;function ev(t,e,n,r){if(wh=null,t=u0(r),t=ks(t),t!==null)if(e=lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wh=t,null}function JA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oV()){case d0:return 1;case zA:return 4;case gh:case aV:return 16;case WA:return 536870912;default:return 16}default:return 16}}var Ii=null,m0=null,Ud=null;function e1(){if(Ud)return Ud;var t,e=m0,n=e.length,r,i="value"in Ii?Ii.value:Ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ud=i.slice(t,1<r?1-r:void 0)}function $d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function eS(){return!1}function wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rd:eS,this.isPropagationStopped=eS,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g0=wn(ja),su=Fe({},ja,{view:0,detail:0}),EV=wn(su),cm,um,hl,Uf=Fe({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hl&&(hl&&t.type==="mousemove"?(cm=t.screenX-hl.screenX,um=t.screenY-hl.screenY):um=cm=0,hl=t),cm)},movementY:function(t){return"movementY"in t?t.movementY:um}}),tS=wn(Uf),_V=Fe({},Uf,{dataTransfer:0}),SV=wn(_V),bV=Fe({},su,{relatedTarget:0}),dm=wn(bV),TV=Fe({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),CV=wn(TV),xV=Fe({},ja,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AV=wn(xV),RV=Fe({},ja,{data:0}),nS=wn(RV),IV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DV[t])?!!e[t]:!1}function v0(){return PV}var NV=Fe({},su,{key:function(t){if(t.key){var e=IV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v0,charCode:function(t){return t.type==="keypress"?$d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MV=wn(NV),OV=Fe({},Uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rS=wn(OV),LV=Fe({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v0}),VV=wn(LV),jV=Fe({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),FV=wn(jV),BV=Fe({},Uf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UV=wn(BV),$V=[9,13,27,32],y0=Wr&&"CompositionEvent"in window,Bl=null;Wr&&"documentMode"in document&&(Bl=document.documentMode);var HV=Wr&&"TextEvent"in window&&!Bl,t1=Wr&&(!y0||Bl&&8<Bl&&11>=Bl),iS=String.fromCharCode(32),sS=!1;function n1(t,e){switch(t){case"keyup":return $V.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oo=!1;function zV(t,e){switch(t){case"compositionend":return r1(e);case"keypress":return e.which!==32?null:(sS=!0,iS);case"textInput":return t=e.data,t===iS&&sS?null:t;default:return null}}function WV(t,e){if(Oo)return t==="compositionend"||!y0&&n1(t,e)?(t=e1(),Ud=m0=Ii=null,Oo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t1&&e.locale!=="ko"?null:e.data;default:return null}}var GV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GV[t.type]:e==="textarea"}function i1(t,e,n,r){OA(r),e=Eh(e,"onChange"),0<e.length&&(n=new g0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ul=null,gc=null;function qV(t){m1(t,0)}function $f(t){var e=jo(t);if(RA(e))return t}function QV(t,e){if(t==="change")return e}var s1=!1;if(Wr){var hm;if(Wr){var fm="oninput"in document;if(!fm){var aS=document.createElement("div");aS.setAttribute("oninput","return;"),fm=typeof aS.oninput=="function"}hm=fm}else hm=!1;s1=hm&&(!document.documentMode||9<document.documentMode)}function lS(){Ul&&(Ul.detachEvent("onpropertychange",o1),gc=Ul=null)}function o1(t){if(t.propertyName==="value"&&$f(gc)){var e=[];i1(e,gc,t,u0(t)),FA(qV,e)}}function KV(t,e,n){t==="focusin"?(lS(),Ul=e,gc=n,Ul.attachEvent("onpropertychange",o1)):t==="focusout"&&lS()}function YV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $f(gc)}function XV(t,e){if(t==="click")return $f(e)}function ZV(t,e){if(t==="input"||t==="change")return $f(e)}function JV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:JV;function vc(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lg.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function cS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uS(t,e){var n=cS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cS(n)}}function a1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?a1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l1(){for(var t=window,e=fh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fh(t.document)}return e}function w0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ej(t){var e=l1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&a1(n.ownerDocument.documentElement,n)){if(r!==null&&w0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=uS(n,s);var o=uS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tj=Wr&&"documentMode"in document&&11>=document.documentMode,Lo=null,tv=null,$l=null,nv=!1;function dS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nv||Lo==null||Lo!==fh(r)||(r=Lo,"selectionStart"in r&&w0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&vc($l,r)||($l=r,r=Eh(tv,"onSelect"),0<r.length&&(e=new g0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lo)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vo={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},pm={},c1={};Wr&&(c1=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Hf(t){if(pm[t])return pm[t];if(!Vo[t])return t;var e=Vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in c1)return pm[t]=e[n];return t}var u1=Hf("animationend"),d1=Hf("animationiteration"),h1=Hf("animationstart"),f1=Hf("transitionend"),p1=new Map,hS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(t,e){p1.set(t,e),ao(e,[t])}for(var mm=0;mm<hS.length;mm++){var gm=hS[mm],nj=gm.toLowerCase(),rj=gm[0].toUpperCase()+gm.slice(1);cs(nj,"on"+rj)}cs(u1,"onAnimationEnd");cs(d1,"onAnimationIteration");cs(h1,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(f1,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ij=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function fS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nV(r,e,void 0,t),t.currentTarget=null}function m1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fS(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fS(i,a,c),s=l}}}if(mh)throw t=Xg,mh=!1,Xg=null,t}function Ae(t,e){var n=e[av];n===void 0&&(n=e[av]=new Set);var r=t+"__bubble";n.has(r)||(g1(e,t,2,!1),n.add(r))}function vm(t,e,n){var r=0;e&&(r|=4),g1(n,t,r,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function yc(t){if(!t[sd]){t[sd]=!0,bA.forEach(function(n){n!=="selectionchange"&&(ij.has(n)||vm(n,!1,t),vm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,vm("selectionchange",!1,e))}}function g1(t,e,n,r){switch(JA(e)){case 1:var i=yV;break;case 4:i=wV;break;default:i=p0}n=i.bind(null,e,n,t),i=void 0,!Yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ym(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ks(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FA(function(){var c=s,u=u0(n),d=[];e:{var h=p1.get(t);if(h!==void 0){var f=g0,g=t;switch(t){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":f=MV;break;case"focusin":g="focus",f=dm;break;case"focusout":g="blur",f=dm;break;case"beforeblur":case"afterblur":f=dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=SV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=VV;break;case u1:case d1:case h1:f=CV;break;case f1:f=FV;break;case"scroll":f=EV;break;case"wheel":f=UV;break;case"copy":case"cut":case"paste":f=AV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=rS}var v=(e&4)!==0,E=!v&&t==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var y=c,_;y!==null;){_=y;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,w!==null&&(S=hc(y,w),S!=null&&v.push(wc(y,S,_)))),E)break;y=y.return}0<v.length&&(h=new f(h,g,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Qg&&(g=n.relatedTarget||n.fromElement)&&(ks(g)||g[Gr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=c,g=g?ks(g):null,g!==null&&(E=lo(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(v=tS,S="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=rS,S="onPointerLeave",w="onPointerEnter",y="pointer"),E=f==null?h:jo(f),_=g==null?h:jo(g),h=new v(S,y+"leave",f,n,u),h.target=E,h.relatedTarget=_,S=null,ks(u)===c&&(v=new v(w,y+"enter",g,n,u),v.target=_,v.relatedTarget=E,S=v),E=S,f&&g)t:{for(v=f,w=g,y=0,_=v;_;_=To(_))y++;for(_=0,S=w;S;S=To(S))_++;for(;0<y-_;)v=To(v),y--;for(;0<_-y;)w=To(w),_--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=To(v),w=To(w)}v=null}else v=null;f!==null&&pS(d,h,f,v,!1),g!==null&&E!==null&&pS(d,E,g,v,!0)}}e:{if(h=c?jo(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var T=QV;else if(oS(h))if(s1)T=ZV;else{T=YV;var C=KV}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=XV);if(T&&(T=T(t,c))){i1(d,T,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Hg(h,"number",h.value)}switch(C=c?jo(c):window,t){case"focusin":(oS(C)||C.contentEditable==="true")&&(Lo=C,tv=c,$l=null);break;case"focusout":$l=tv=Lo=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,dS(d,n,u);break;case"selectionchange":if(tj)break;case"keydown":case"keyup":dS(d,n,u)}var x;if(y0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Oo?n1(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(t1&&n.locale!=="ko"&&(Oo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Oo&&(x=e1()):(Ii=u,m0="value"in Ii?Ii.value:Ii.textContent,Oo=!0)),C=Eh(c,A),0<C.length&&(A=new nS(A,t,null,n,u),d.push({event:A,listeners:C}),x?A.data=x:(x=r1(n),x!==null&&(A.data=x)))),(x=HV?zV(t,n):WV(t,n))&&(c=Eh(c,"onBeforeInput"),0<c.length&&(u=new nS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=x))}m1(d,e)})}function wc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=hc(t,n),s!=null&&r.unshift(wc(t,s,i)),s=hc(t,e),s!=null&&r.push(wc(t,s,i))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=hc(n,s),l!=null&&o.unshift(wc(n,l,a))):i||(l=hc(n,s),l!=null&&o.push(wc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sj=/\r\n?/g,oj=/\u0000|\uFFFD/g;function mS(t){return(typeof t=="string"?t:""+t).replace(sj,`
`).replace(oj,"")}function od(t,e,n){if(e=mS(e),mS(t)!==e&&n)throw Error(P(425))}function _h(){}var rv=null,iv=null;function sv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ov=typeof setTimeout=="function"?setTimeout:void 0,aj=typeof clearTimeout=="function"?clearTimeout:void 0,gS=typeof Promise=="function"?Promise:void 0,lj=typeof queueMicrotask=="function"?queueMicrotask:typeof gS<"u"?function(t){return gS.resolve(null).then(t).catch(cj)}:ov;function cj(t){setTimeout(function(){throw t})}function wm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);mc(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),or="__reactFiber$"+Fa,Ec="__reactProps$"+Fa,Gr="__reactContainer$"+Fa,av="__reactEvents$"+Fa,uj="__reactListeners$"+Fa,dj="__reactHandles$"+Fa;function ks(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vS(t);t!==null;){if(n=t[or])return n;t=vS(t)}return e}t=n,n=t.parentNode}return null}function ou(t){return t=t[or]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function zf(t){return t[Ec]||null}var lv=[],Fo=-1;function us(t){return{current:t}}function De(t){0>Fo||(t.current=lv[Fo],lv[Fo]=null,Fo--)}function be(t,e){Fo++,lv[Fo]=t.current,t.current=e}var es={},Lt=us(es),tn=us(!1),zs=es;function ma(t,e){var n=t.type.contextTypes;if(!n)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function Sh(){De(tn),De(Lt)}function yS(t,e,n){if(Lt.current!==es)throw Error(P(168));be(Lt,e),be(tn,n)}function v1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,K2(t)||"Unknown",i));return Fe({},n,r)}function bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,zs=Lt.current,be(Lt,t),be(tn,tn.current),!0}function wS(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=v1(t,e,zs),r.__reactInternalMemoizedMergedChildContext=t,De(tn),De(Lt),be(Lt,t)):De(tn),be(tn,n)}var Rr=null,Wf=!1,Em=!1;function y1(t){Rr===null?Rr=[t]:Rr.push(t)}function hj(t){Wf=!0,y1(t)}function ds(){if(!Em&&Rr!==null){Em=!0;var t=0,e=Ee;try{var n=Rr;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,Wf=!1}catch(i){throw Rr!==null&&(Rr=Rr.slice(t+1)),HA(d0,ds),i}finally{Ee=e,Em=!1}}return null}var Bo=[],Uo=0,Th=null,Ch=0,An=[],Rn=0,Ws=null,Dr=1,Pr="";function Ss(t,e){Bo[Uo++]=Ch,Bo[Uo++]=Th,Th=t,Ch=e}function w1(t,e,n){An[Rn++]=Dr,An[Rn++]=Pr,An[Rn++]=Ws,Ws=t;var r=Dr;t=Pr;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var s=32-qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dr=1<<32-qn(e)+i|n<<i|r,Pr=s+t}else Dr=1<<s|n<<i|r,Pr=t}function E0(t){t.return!==null&&(Ss(t,1),w1(t,1,0))}function _0(t){for(;t===Th;)Th=Bo[--Uo],Bo[Uo]=null,Ch=Bo[--Uo],Bo[Uo]=null;for(;t===Ws;)Ws=An[--Rn],An[Rn]=null,Pr=An[--Rn],An[Rn]=null,Dr=An[--Rn],An[Rn]=null}var hn=null,dn=null,Pe=!1,zn=null;function E1(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ES(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,dn=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ws!==null?{id:Dr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,dn=null,!0):!1;default:return!1}}function cv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uv(t){if(Pe){var e=dn;if(e){var n=e;if(!ES(t,e)){if(cv(t))throw Error(P(418));e=Fi(n.nextSibling);var r=hn;e&&ES(t,e)?E1(r,n):(t.flags=t.flags&-4097|2,Pe=!1,hn=t)}}else{if(cv(t))throw Error(P(418));t.flags=t.flags&-4097|2,Pe=!1,hn=t}}}function _S(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function ad(t){if(t!==hn)return!1;if(!Pe)return _S(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sv(t.type,t.memoizedProps)),e&&(e=dn)){if(cv(t))throw _1(),Error(P(418));for(;e;)E1(t,e),e=Fi(e.nextSibling)}if(_S(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=hn?Fi(t.stateNode.nextSibling):null;return!0}function _1(){for(var t=dn;t;)t=Fi(t.nextSibling)}function ga(){dn=hn=null,Pe=!1}function S0(t){zn===null?zn=[t]:zn.push(t)}var fj=ni.ReactCurrentBatchConfig;function $n(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var xh=us(null),Ah=null,$o=null,b0=null;function T0(){b0=$o=Ah=null}function C0(t){var e=xh.current;De(xh),t._currentValue=e}function dv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ra(t,e){Ah=t,b0=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(b0!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(Ah===null)throw Error(P(308));$o=t,Ah.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Ds=null;function x0(t){Ds===null?Ds=[t]:Ds.push(t)}function S1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,x0(e)):(n.next=i.next,i.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function A0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qr(t,n)}return i=r.interleaved,i===null?(e.next=e,x0(r)):(e.next=i.next,i.next=e),r.interleaved=e,qr(t,n)}function Hd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h0(t,n)}}function SS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rh(t,e,n,r){var i=t.updateQueue;wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Fe({},d,h);break e;case 2:wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qs|=o,t.lanes=o,t.memoizedState=d}}function bS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var T1=new SA.Component().refs;function hv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gf={isMounted:function(t){return(t=t._reactInternals)?lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=$i(t),s=jr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(Qn(e,t,i,r),Hd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=$i(t),s=jr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(Qn(e,t,i,r),Hd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=$i(t),i=jr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(Qn(e,t,r,n),Hd(e,t,r))}};function TS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vc(n,r)||!vc(i,s):!0}function C1(t,e,n){var r=!1,i=es,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=nn(e)?zs:Lt.current,r=e.contextTypes,s=(r=r!=null)?ma(t,i):es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function CS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gf.enqueueReplaceState(e,e.state,null)}function fv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=T1,A0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=nn(e)?zs:Lt.current,i.context=ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gf.enqueueReplaceState(i,i.state,null),Rh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===T1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xS(t){var e=t._init;return e(t._payload)}function x1(t){function e(w,y){if(t){var _=w.deletions;_===null?(w.deletions=[y],w.flags|=16):_.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Hi(w,y),w.index=0,w.sibling=null,w}function s(w,y,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<y?(w.flags|=2,y):_):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,_,S){return y===null||y.tag!==6?(y=Am(_,w.mode,S),y.return=w,y):(y=i(y,_),y.return=w,y)}function l(w,y,_,S){var T=_.type;return T===Mo?u(w,y,_.props.children,S,_.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===yi&&xS(T)===y.type)?(S=i(y,_.props),S.ref=fl(w,y,_),S.return=w,S):(S=Kd(_.type,_.key,_.props,null,w.mode,S),S.ref=fl(w,y,_),S.return=w,S)}function c(w,y,_,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Rm(_,w.mode,S),y.return=w,y):(y=i(y,_.children||[]),y.return=w,y)}function u(w,y,_,S,T){return y===null||y.tag!==7?(y=Fs(_,w.mode,S,T),y.return=w,y):(y=i(y,_),y.return=w,y)}function d(w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Am(""+y,w.mode,_),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xu:return _=Kd(y.type,y.key,y.props,null,w.mode,_),_.ref=fl(w,null,y),_.return=w,_;case No:return y=Rm(y,w.mode,_),y.return=w,y;case yi:var S=y._init;return d(w,S(y._payload),_)}if(xl(y)||ll(y))return y=Fs(y,w.mode,_,null),y.return=w,y;ld(w,y)}return null}function h(w,y,_,S){var T=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(w,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:return _.key===T?l(w,y,_,S):null;case No:return _.key===T?c(w,y,_,S):null;case yi:return T=_._init,h(w,y,T(_._payload),S)}if(xl(_)||ll(_))return T!==null?null:u(w,y,_,S,null);ld(w,_)}return null}function f(w,y,_,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(_)||null,a(y,w,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xu:return w=w.get(S.key===null?_:S.key)||null,l(y,w,S,T);case No:return w=w.get(S.key===null?_:S.key)||null,c(y,w,S,T);case yi:var C=S._init;return f(w,y,_,C(S._payload),T)}if(xl(S)||ll(S))return w=w.get(_)||null,u(y,w,S,T,null);ld(y,S)}return null}function g(w,y,_,S){for(var T=null,C=null,x=y,A=y=0,N=null;x!==null&&A<_.length;A++){x.index>A?(N=x,x=null):N=x.sibling;var M=h(w,x,_[A],S);if(M===null){x===null&&(x=N);break}t&&x&&M.alternate===null&&e(w,x),y=s(M,y,A),C===null?T=M:C.sibling=M,C=M,x=N}if(A===_.length)return n(w,x),Pe&&Ss(w,A),T;if(x===null){for(;A<_.length;A++)x=d(w,_[A],S),x!==null&&(y=s(x,y,A),C===null?T=x:C.sibling=x,C=x);return Pe&&Ss(w,A),T}for(x=r(w,x);A<_.length;A++)N=f(x,w,A,_[A],S),N!==null&&(t&&N.alternate!==null&&x.delete(N.key===null?A:N.key),y=s(N,y,A),C===null?T=N:C.sibling=N,C=N);return t&&x.forEach(function(z){return e(w,z)}),Pe&&Ss(w,A),T}function v(w,y,_,S){var T=ll(_);if(typeof T!="function")throw Error(P(150));if(_=T.call(_),_==null)throw Error(P(151));for(var C=T=null,x=y,A=y=0,N=null,M=_.next();x!==null&&!M.done;A++,M=_.next()){x.index>A?(N=x,x=null):N=x.sibling;var z=h(w,x,M.value,S);if(z===null){x===null&&(x=N);break}t&&x&&z.alternate===null&&e(w,x),y=s(z,y,A),C===null?T=z:C.sibling=z,C=z,x=N}if(M.done)return n(w,x),Pe&&Ss(w,A),T;if(x===null){for(;!M.done;A++,M=_.next())M=d(w,M.value,S),M!==null&&(y=s(M,y,A),C===null?T=M:C.sibling=M,C=M);return Pe&&Ss(w,A),T}for(x=r(w,x);!M.done;A++,M=_.next())M=f(x,w,A,M.value,S),M!==null&&(t&&M.alternate!==null&&x.delete(M.key===null?A:M.key),y=s(M,y,A),C===null?T=M:C.sibling=M,C=M);return t&&x.forEach(function(re){return e(w,re)}),Pe&&Ss(w,A),T}function E(w,y,_,S){if(typeof _=="object"&&_!==null&&_.type===Mo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Xu:e:{for(var T=_.key,C=y;C!==null;){if(C.key===T){if(T=_.type,T===Mo){if(C.tag===7){n(w,C.sibling),y=i(C,_.props.children),y.return=w,w=y;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===yi&&xS(T)===C.type){n(w,C.sibling),y=i(C,_.props),y.ref=fl(w,C,_),y.return=w,w=y;break e}n(w,C);break}else e(w,C);C=C.sibling}_.type===Mo?(y=Fs(_.props.children,w.mode,S,_.key),y.return=w,w=y):(S=Kd(_.type,_.key,_.props,null,w.mode,S),S.ref=fl(w,y,_),S.return=w,w=S)}return o(w);case No:e:{for(C=_.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(w,y.sibling),y=i(y,_.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Rm(_,w.mode,S),y.return=w,w=y}return o(w);case yi:return C=_._init,E(w,y,C(_._payload),S)}if(xl(_))return g(w,y,_,S);if(ll(_))return v(w,y,_,S);ld(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,_),y.return=w,w=y):(n(w,y),y=Am(_,w.mode,S),y.return=w,w=y),o(w)):n(w,y)}return E}var va=x1(!0),A1=x1(!1),au={},pr=us(au),_c=us(au),Sc=us(au);function Ps(t){if(t===au)throw Error(P(174));return t}function R0(t,e){switch(be(Sc,e),be(_c,t),be(pr,au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wg(e,t)}De(pr),be(pr,e)}function ya(){De(pr),De(_c),De(Sc)}function R1(t){Ps(Sc.current);var e=Ps(pr.current),n=Wg(e,t.type);e!==n&&(be(_c,t),be(pr,n))}function I0(t){_c.current===t&&(De(pr),De(_c))}var Le=us(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _m=[];function k0(){for(var t=0;t<_m.length;t++)_m[t]._workInProgressVersionPrimary=null;_m.length=0}var zd=ni.ReactCurrentDispatcher,Sm=ni.ReactCurrentBatchConfig,Gs=0,je=null,Je=null,at=null,kh=!1,Hl=!1,bc=0,pj=0;function Ct(){throw Error(P(321))}function D0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function P0(t,e,n,r,i,s){if(Gs=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zd.current=t===null||t.memoizedState===null?yj:wj,t=n(r,i),Hl){s=0;do{if(Hl=!1,bc=0,25<=s)throw Error(P(301));s+=1,at=Je=null,e.updateQueue=null,zd.current=Ej,t=n(r,i)}while(Hl)}if(zd.current=Dh,e=Je!==null&&Je.next!==null,Gs=0,at=Je=je=null,kh=!1,e)throw Error(P(300));return t}function N0(){var t=bc!==0;return bc=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?je.memoizedState=at=t:at=at.next=t,at}function On(){if(Je===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=at===null?je.memoizedState:at.next;if(e!==null)at=e,Je=t;else{if(t===null)throw Error(P(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},at===null?je.memoizedState=at=t:at=at.next=t}return at}function Tc(t,e){return typeof e=="function"?e(t):e}function bm(t){var e=On(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Gs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,je.lanes|=u,qs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,qs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tm(t){var e=On(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function I1(){}function k1(t,e){var n=je,r=On(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,Jt=!0),r=r.queue,M0(N1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Cc(9,P1.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(P(349));Gs&30||D1(n,e,i)}return i}function D1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function P1(t,e,n,r){e.value=n,e.getSnapshot=r,M1(e)&&O1(t)}function N1(t,e,n){return n(function(){M1(e)&&O1(t)})}function M1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function O1(t){var e=qr(t,1);e!==null&&Qn(e,t,1,-1)}function AS(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:t},e.queue=t,t=t.dispatch=vj.bind(null,je,t),[e.memoizedState,t]}function Cc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function L1(){return On().memoizedState}function Wd(t,e,n,r){var i=ir();je.flags|=t,i.memoizedState=Cc(1|e,n,void 0,r===void 0?null:r)}function qf(t,e,n,r){var i=On();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&D0(r,o.deps)){i.memoizedState=Cc(e,n,s,r);return}}je.flags|=t,i.memoizedState=Cc(1|e,n,s,r)}function RS(t,e){return Wd(8390656,8,t,e)}function M0(t,e){return qf(2048,8,t,e)}function V1(t,e){return qf(4,2,t,e)}function j1(t,e){return qf(4,4,t,e)}function F1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B1(t,e,n){return n=n!=null?n.concat([t]):null,qf(4,4,F1.bind(null,e,t),n)}function O0(){}function U1(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $1(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&D0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H1(t,e,n){return Gs&21?(Yn(n,e)||(n=GA(),je.lanes|=n,qs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function mj(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=Sm.transition;Sm.transition={};try{t(!1),e()}finally{Ee=n,Sm.transition=r}}function z1(){return On().memoizedState}function gj(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W1(t))G1(e,n);else if(n=S1(t,e,n,r),n!==null){var i=zt();Qn(n,t,r,i),q1(n,e,r)}}function vj(t,e,n){var r=$i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W1(t))G1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,x0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=S1(t,e,i,r),n!==null&&(i=zt(),Qn(n,t,r,i),q1(n,e,r))}}function W1(t){var e=t.alternate;return t===je||e!==null&&e===je}function G1(t,e){Hl=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h0(t,n)}}var Dh={readContext:Mn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},yj={readContext:Mn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:RS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4194308,4,F1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wd(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gj.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:AS,useDebugValue:O0,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=AS(!1),e=t[0];return t=mj.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=ir();if(Pe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),ct===null)throw Error(P(349));Gs&30||D1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,RS(N1.bind(null,r,s,t),[t]),r.flags|=2048,Cc(9,P1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=ct.identifierPrefix;if(Pe){var n=Pr,r=Dr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wj={readContext:Mn,useCallback:U1,useContext:Mn,useEffect:M0,useImperativeHandle:B1,useInsertionEffect:V1,useLayoutEffect:j1,useMemo:$1,useReducer:bm,useRef:L1,useState:function(){return bm(Tc)},useDebugValue:O0,useDeferredValue:function(t){var e=On();return H1(e,Je.memoizedState,t)},useTransition:function(){var t=bm(Tc)[0],e=On().memoizedState;return[t,e]},useMutableSource:I1,useSyncExternalStore:k1,useId:z1,unstable_isNewReconciler:!1},Ej={readContext:Mn,useCallback:U1,useContext:Mn,useEffect:M0,useImperativeHandle:B1,useInsertionEffect:V1,useLayoutEffect:j1,useMemo:$1,useReducer:Tm,useRef:L1,useState:function(){return Tm(Tc)},useDebugValue:O0,useDeferredValue:function(t){var e=On();return Je===null?e.memoizedState=t:H1(e,Je.memoizedState,t)},useTransition:function(){var t=Tm(Tc)[0],e=On().memoizedState;return[t,e]},useMutableSource:I1,useSyncExternalStore:k1,useId:z1,unstable_isNewReconciler:!1};function wa(t,e){try{var n="",r=e;do n+=Q2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _j=typeof WeakMap=="function"?WeakMap:Map;function Q1(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nh||(Nh=!0,Tv=r),pv(t,e)},n}function K1(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pv(t,e),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function IS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _j;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Oj.bind(null,t,e,n),e.then(t,t))}function kS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var Sj=ni.ReactCurrentOwner,Jt=!1;function $t(t,e,n,r){e.child=t===null?A1(e,null,n,r):va(e,t.child,n,r)}function PS(t,e,n,r,i){n=n.render;var s=e.ref;return ra(e,i),r=P0(t,e,n,r,s,i),n=N0(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Pe&&n&&E0(e),e.flags|=1,$t(t,e,r,i),e.child)}function NS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!H0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Y1(t,e,s,r,i)):(t=Kd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vc,n(o,r)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=Hi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Y1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vc(s,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return mv(t,e,n,r,i)}function X1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(zo,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(zo,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(zo,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,be(zo,un),un|=r;return $t(t,e,i,n),e.child}function Z1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mv(t,e,n,r,i){var s=nn(n)?zs:Lt.current;return s=ma(e,s),ra(e,i),n=P0(t,e,n,r,s,i),r=N0(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Pe&&r&&E0(e),e.flags|=1,$t(t,e,n,i),e.child)}function MS(t,e,n,r,i){if(nn(n)){var s=!0;bh(e)}else s=!1;if(ra(e,i),e.stateNode===null)Gd(t,e),C1(e,n,r),fv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mn(c):(c=nn(n)?zs:Lt.current,c=ma(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&CS(e,o,r,c),wi=!1;var h=e.memoizedState;o.state=h,Rh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||tn.current||wi?(typeof u=="function"&&(hv(e,n,u,r),l=e.memoizedState),(a=wi||TS(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,b1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$n(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=nn(n)?zs:Lt.current,l=ma(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&CS(e,o,r,l),wi=!1,h=e.memoizedState,o.state=h,Rh(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||tn.current||wi?(typeof f=="function"&&(hv(e,n,f,r),g=e.memoizedState),(c=wi||TS(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return gv(t,e,n,r,s,i)}function gv(t,e,n,r,i,s){Z1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&wS(e,n,!1),Qr(t,e,s);r=e.stateNode,Sj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=va(e,t.child,null,s),e.child=va(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&wS(e,n,!0),e.child}function J1(t){var e=t.stateNode;e.pendingContext?yS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yS(t,e.context,!1),R0(t,e.containerInfo)}function OS(t,e,n,r,i){return ga(),S0(i),e.flags|=256,$t(t,e,n,r),e.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function yv(t){return{baseLanes:t,cachePool:null,transitions:null}}function eR(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),be(Le,i&1),t===null)return uv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yf(o,r,0,null),t=Fs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yv(n),e.memoizedState=vv,t):L0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bj(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hi(a,s):(s=Fs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vv,r}return s=t.child,t=s.sibling,r=Hi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function L0(t,e){return e=Yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&S0(r),va(e,t.child,null,n),t=L0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bj(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cm(Error(P(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yf({mode:"visible",children:r.children},i,0,null),s=Fs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&va(e,t.child,null,o),e.child.memoizedState=yv(o),e.memoizedState=vv,s);if(!(e.mode&1))return cd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=Cm(s,r,void 0),cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qr(t,i),Qn(r,t,i,-1))}return $0(),r=Cm(Error(P(421))),cd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Lj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=Fi(i.nextSibling),hn=e,Pe=!0,zn=null,t!==null&&(An[Rn++]=Dr,An[Rn++]=Pr,An[Rn++]=Ws,Dr=t.id,Pr=t.overflow,Ws=e),e=L0(e,r.children),e.flags|=4096,e)}function LS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dv(t.return,e,n)}function xm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tR(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LS(t,n,e);else if(t.tag===19)LS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ih(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ih(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xm(e,!0,n,null,s);break;case"together":xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Tj(t,e,n){switch(e.tag){case 3:J1(e),ga();break;case 5:R1(e);break;case 1:nn(e.type)&&bh(e);break;case 4:R0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;be(xh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?eR(t,e,n):(be(Le,Le.current&1),t=Qr(t,e,n),t!==null?t.sibling:null);be(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,X1(t,e,n)}return Qr(t,e,n)}var nR,wv,rR,iR;nR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wv=function(){};rR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ps(pr.current);var s=null;switch(n){case"input":i=Ug(t,i),r=Ug(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=zg(t,i),r=zg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_h)}Gg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ae("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};iR=function(t,e,n,r){n!==r&&(e.flags|=4)};function pl(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Cj(t,e,n){var r=e.pendingProps;switch(_0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return nn(e.type)&&Sh(),xt(e),null;case 3:return r=e.stateNode,ya(),De(tn),De(Lt),k0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(Av(zn),zn=null))),wv(t,e),xt(e),null;case 5:I0(e);var i=Ps(Sc.current);if(n=e.type,t!==null&&e.stateNode!=null)rR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return xt(e),null}if(t=Ps(pr.current),ad(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[or]=e,r[Ec]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<Rl.length;i++)Ae(Rl[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":W_(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":q_(r,s),Ae("invalid",r)}Gg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",""+a]):uc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Zu(r),G_(r,s,!0);break;case"textarea":Zu(r),Q_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_h)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[or]=e,t[Ec]=r,nR(t,e,!1,!1),e.stateNode=t;e:{switch(o=qg(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rl.length;i++)Ae(Rl[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":W_(t,r),i=Ug(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":q_(t,r),i=zg(t,r),Ae("invalid",t);break;default:i=r}Gg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?MA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dc(t,l):typeof l=="number"&&dc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(uc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ae("scroll",t):l!=null&&o0(t,s,l,o))}switch(n){case"input":Zu(t),G_(t,r,!1);break;case"textarea":Zu(t),Q_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Jo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_h)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)iR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Ps(Sc.current),Ps(pr.current),ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[or]=e,(s=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=e,e.stateNode=r}return xt(e),null;case 13:if(De(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&dn!==null&&e.mode&1&&!(e.flags&128))_1(),ga(),e.flags|=98560,s=!1;else if(s=ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[or]=e}else ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else zn!==null&&(Av(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?tt===0&&(tt=3):$0())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return ya(),wv(t,e),t===null&&yc(e.stateNode.containerInfo),xt(e),null;case 10:return C0(e.type._context),xt(e),null;case 17:return nn(e.type)&&Sh(),xt(e),null;case 19:if(De(Le),s=e.memoizedState,s===null)return xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pl(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ih(t),o!==null){for(e.flags|=128,pl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Ea&&(e.flags|=128,r=!0,pl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ih(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return xt(e),null}else 2*ze()-s.renderingStartTime>Ea&&n!==1073741824&&(e.flags|=128,r=!0,pl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=Le.current,be(Le,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return U0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function xj(t,e){switch(_0(e),e.tag){case 1:return nn(e.type)&&Sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ya(),De(tn),De(Lt),k0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return I0(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return ya(),null;case 10:return C0(e.type._context),null;case 22:case 23:return U0(),null;case 24:return null;default:return null}}var ud=!1,kt=!1,Aj=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Ev(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var VS=!1;function Rj(t,e){if(rv=yh,t=l1(),w0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iv={focusedElem:t,selectionRange:n},yh=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,E=g.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:$n(e.type,v),E);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){Ue(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return g=VS,VS=!1,g}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ev(e,n,s)}i=i.next}while(i!==r)}}function Qf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _v(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sR(t){var e=t.alternate;e!==null&&(t.alternate=null,sR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[or],delete e[Ec],delete e[av],delete e[uj],delete e[dj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oR(t){return t.tag===5||t.tag===3||t.tag===4}function jS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_h));else if(r!==4&&(t=t.child,t!==null))for(Sv(t,e,n),t=t.sibling;t!==null;)Sv(t,e,n),t=t.sibling}function bv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bv(t,e,n),t=t.sibling;t!==null;)bv(t,e,n),t=t.sibling}var pt=null,Hn=!1;function mi(t,e,n){for(n=n.child;n!==null;)aR(t,e,n),n=n.sibling}function aR(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:kt||Ho(n,e);case 6:var r=pt,i=Hn;pt=null,mi(t,e,n),pt=r,Hn=i,pt!==null&&(Hn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Hn?(t=pt,n=n.stateNode,t.nodeType===8?wm(t.parentNode,n):t.nodeType===1&&wm(t,n),mc(t)):wm(pt,n.stateNode));break;case 4:r=pt,i=Hn,pt=n.stateNode.containerInfo,Hn=!0,mi(t,e,n),pt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ev(n,e,o),i=i.next}while(i!==r)}mi(t,e,n);break;case 1:if(!kt&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}mi(t,e,n);break;case 21:mi(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,mi(t,e,n),kt=r):mi(t,e,n);break;default:mi(t,e,n)}}function FS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Aj),e.forEach(function(r){var i=Vj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Hn=!1;break e;case 3:pt=a.stateNode.containerInfo,Hn=!0;break e;case 4:pt=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(pt===null)throw Error(P(160));aR(s,o,i),pt=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ue(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lR(e,t),e=e.sibling}function lR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),rr(t),r&4){try{zl(3,t,t.return),Qf(3,t)}catch(v){Ue(t,t.return,v)}try{zl(5,t,t.return)}catch(v){Ue(t,t.return,v)}}break;case 1:Un(e,t),rr(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if(Un(e,t),rr(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var i=t.stateNode;try{dc(i,"")}catch(v){Ue(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&IA(i,s),qg(a,o);var c=qg(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?MA(i,d):u==="dangerouslySetInnerHTML"?PA(i,d):u==="children"?dc(i,d):o0(i,u,d,c)}switch(a){case"input":$g(i,s);break;case"textarea":kA(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Jo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Jo(i,!!s.multiple,s.defaultValue,!0):Jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ec]=s}catch(v){Ue(t,t.return,v)}}break;case 6:if(Un(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ue(t,t.return,v)}}break;case 3:if(Un(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mc(e.containerInfo)}catch(v){Ue(t,t.return,v)}break;case 4:Un(e,t),rr(t);break;case 13:Un(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F0=ze())),r&4&&FS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(c=kt)||u,Un(e,t),kt=c):Un(e,t),rr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(d=L=u;L!==null;){switch(h=L,f=h.child,h.tag){case 0:case 11:case 14:case 15:zl(4,h,h.return);break;case 1:Ho(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ue(r,n,v)}}break;case 5:Ho(h,h.return);break;case 22:if(h.memoizedState!==null){US(d);continue}}f!==null?(f.return=h,L=f):US(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NA("display",o))}catch(v){Ue(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ue(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Un(e,t),rr(t),r&4&&FS(t);break;case 21:break;default:Un(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oR(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dc(i,""),r.flags&=-33);var s=jS(t);bv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jS(t);Sv(t,a,o);break;default:throw Error(P(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ij(t,e,n){L=t,cR(t)}function cR(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ud;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=ud;var c=kt;if(ud=o,(kt=l)&&!c)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?$S(i):l!==null?(l.return=o,L=l):$S(i);for(;s!==null;)L=s,cR(s),s=s.sibling;L=i,ud=a,kt=c}BS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):BS(t)}}function BS(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Qf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&mc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}kt||e.flags&512&&_v(e)}catch(h){Ue(e,e.return,h)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function US(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function $S(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qf(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ue(e,i,l)}}var s=e.return;try{_v(e)}catch(l){Ue(e,s,l)}break;case 5:var o=e.return;try{_v(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var kj=Math.ceil,Ph=ni.ReactCurrentDispatcher,V0=ni.ReactCurrentOwner,Pn=ni.ReactCurrentBatchConfig,he=0,ct=null,Ke=null,yt=0,un=0,zo=us(0),tt=0,xc=null,qs=0,Kf=0,j0=0,Wl=null,Zt=null,F0=0,Ea=1/0,Ar=null,Nh=!1,Tv=null,Ui=null,dd=!1,ki=null,Mh=0,Gl=0,Cv=null,qd=-1,Qd=0;function zt(){return he&6?ze():qd!==-1?qd:qd=ze()}function $i(t){return t.mode&1?he&2&&yt!==0?yt&-yt:fj.transition!==null?(Qd===0&&(Qd=GA()),Qd):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:JA(t.type)),t):1}function Qn(t,e,n,r){if(50<Gl)throw Gl=0,Cv=null,Error(P(185));iu(t,n,r),(!(he&2)||t!==ct)&&(t===ct&&(!(he&2)&&(Kf|=n),tt===4&&Ti(t,yt)),rn(t,r),n===1&&he===0&&!(e.mode&1)&&(Ea=ze()+500,Wf&&ds()))}function rn(t,e){var n=t.callbackNode;fV(t,e);var r=vh(t,t===ct?yt:0);if(r===0)n!==null&&X_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&X_(n),e===1)t.tag===0?hj(HS.bind(null,t)):y1(HS.bind(null,t)),lj(function(){!(he&6)&&ds()}),n=null;else{switch(qA(r)){case 1:n=d0;break;case 4:n=zA;break;case 16:n=gh;break;case 536870912:n=WA;break;default:n=gh}n=vR(n,uR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uR(t,e){if(qd=-1,Qd=0,he&6)throw Error(P(327));var n=t.callbackNode;if(ia()&&t.callbackNode!==n)return null;var r=vh(t,t===ct?yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var i=he;he|=2;var s=hR();(ct!==t||yt!==e)&&(Ar=null,Ea=ze()+500,js(t,e));do try{Nj();break}catch(a){dR(t,a)}while(1);T0(),Ph.current=s,he=i,Ke!==null?e=0:(ct=null,yt=0,e=tt)}if(e!==0){if(e===2&&(i=Zg(t),i!==0&&(r=i,e=xv(t,i))),e===1)throw n=xc,js(t,0),Ti(t,r),rn(t,ze()),n;if(e===6)Ti(t,r);else{if(i=t.current.alternate,!(r&30)&&!Dj(i)&&(e=Oh(t,r),e===2&&(s=Zg(t),s!==0&&(r=s,e=xv(t,s))),e===1))throw n=xc,js(t,0),Ti(t,r),rn(t,ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:bs(t,Zt,Ar);break;case 3:if(Ti(t,r),(r&130023424)===r&&(e=F0+500-ze(),10<e)){if(vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ov(bs.bind(null,t,Zt,Ar),e);break}bs(t,Zt,Ar);break;case 4:if(Ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kj(r/1960))-r,10<r){t.timeoutHandle=ov(bs.bind(null,t,Zt,Ar),r);break}bs(t,Zt,Ar);break;case 5:bs(t,Zt,Ar);break;default:throw Error(P(329))}}}return rn(t,ze()),t.callbackNode===n?uR.bind(null,t):null}function xv(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(js(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&Av(e)),t}function Av(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function Dj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ti(t,e){for(e&=~j0,e&=~Kf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function HS(t){if(he&6)throw Error(P(327));ia();var e=vh(t,0);if(!(e&1))return rn(t,ze()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=Zg(t);r!==0&&(e=r,n=xv(t,r))}if(n===1)throw n=xc,js(t,0),Ti(t,e),rn(t,ze()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,Zt,Ar),rn(t,ze()),null}function B0(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Ea=ze()+500,Wf&&ds())}}function Qs(t){ki!==null&&ki.tag===0&&!(he&6)&&ia();var e=he;he|=1;var n=Pn.transition,r=Ee;try{if(Pn.transition=null,Ee=1,t)return t()}finally{Ee=r,Pn.transition=n,he=e,!(he&6)&&ds()}}function U0(){un=zo.current,De(zo)}function js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aj(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(_0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:ya(),De(tn),De(Lt),k0();break;case 5:I0(r);break;case 4:ya();break;case 13:De(Le);break;case 19:De(Le);break;case 10:C0(r.type._context);break;case 22:case 23:U0()}n=n.return}if(ct=t,Ke=t=Hi(t.current,null),yt=un=e,tt=0,xc=null,j0=Kf=qs=0,Zt=Wl=null,Ds!==null){for(e=0;e<Ds.length;e++)if(n=Ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ds=null}return t}function dR(t,e){do{var n=Ke;try{if(T0(),zd.current=Dh,kh){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(Gs=0,at=Je=je=null,Hl=!1,bc=0,V0.current=null,n===null||n.return===null){tt=1,xc=e,Ke=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=kS(o);if(f!==null){f.flags&=-257,DS(f,o,a,s,e),f.mode&1&&IS(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){IS(s,c,e),$0();break e}l=Error(P(426))}}else if(Pe&&a.mode&1){var E=kS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),DS(E,o,a,s,e),S0(wa(l,a));break e}}s=l=wa(l,a),tt!==4&&(tt=2),Wl===null?Wl=[s]:Wl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Q1(s,l,e);SS(s,w);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ui===null||!Ui.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=K1(s,a,e);SS(s,S);break e}}s=s.return}while(s!==null)}pR(n)}catch(T){e=T,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(1)}function hR(){var t=Ph.current;return Ph.current=Dh,t===null?Dh:t}function $0(){(tt===0||tt===3||tt===2)&&(tt=4),ct===null||!(qs&268435455)&&!(Kf&268435455)||Ti(ct,yt)}function Oh(t,e){var n=he;he|=2;var r=hR();(ct!==t||yt!==e)&&(Ar=null,js(t,e));do try{Pj();break}catch(i){dR(t,i)}while(1);if(T0(),he=n,Ph.current=r,Ke!==null)throw Error(P(261));return ct=null,yt=0,tt}function Pj(){for(;Ke!==null;)fR(Ke)}function Nj(){for(;Ke!==null&&!iV();)fR(Ke)}function fR(t){var e=gR(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?pR(t):Ke=e,V0.current=null}function pR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xj(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ke=null;return}}else if(n=Cj(n,e,un),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);tt===0&&(tt=5)}function bs(t,e,n){var r=Ee,i=Pn.transition;try{Pn.transition=null,Ee=1,Mj(t,e,n,r)}finally{Pn.transition=i,Ee=r}return null}function Mj(t,e,n,r){do ia();while(ki!==null);if(he&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pV(t,s),t===ct&&(Ke=ct=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,vR(gh,function(){return ia(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=Ee;Ee=1;var a=he;he|=4,V0.current=null,Rj(t,n),lR(n,t),ej(iv),yh=!!rv,iv=rv=null,t.current=n,Ij(n),sV(),he=a,Ee=o,Pn.transition=s}else t.current=n;if(dd&&(dd=!1,ki=t,Mh=i),s=t.pendingLanes,s===0&&(Ui=null),lV(n.stateNode),rn(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nh)throw Nh=!1,t=Tv,Tv=null,t;return Mh&1&&t.tag!==0&&ia(),s=t.pendingLanes,s&1?t===Cv?Gl++:(Gl=0,Cv=t):Gl=0,ds(),null}function ia(){if(ki!==null){var t=qA(Mh),e=Pn.transition,n=Ee;try{if(Pn.transition=null,Ee=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,Mh=0,he&6)throw Error(P(331));var i=he;for(he|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(L=c;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:zl(8,u,s)}var d=u.child;if(d!==null)d.return=u,L=d;else for(;L!==null;){u=L;var h=u.sibling,f=u.return;if(sR(u),u===c){L=null;break}if(h!==null){h.return=f,L=h;break}L=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,L=w;break e}L=s.return}}var y=t.current;for(L=y;L!==null;){o=L;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,L=_;else e:for(o=y;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qf(9,a)}}catch(T){Ue(a,a.return,T)}if(a===o){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(he=i,ds(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Bf,t)}catch{}r=!0}return r}finally{Ee=n,Pn.transition=e}}return!1}function zS(t,e,n){e=wa(n,e),e=Q1(t,e,1),t=Bi(t,e,1),e=zt(),t!==null&&(iu(t,1,e),rn(t,e))}function Ue(t,e,n){if(t.tag===3)zS(t,t,n);else for(;e!==null;){if(e.tag===3){zS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))){t=wa(n,t),t=K1(e,t,1),e=Bi(e,t,1),t=zt(),e!==null&&(iu(e,1,t),rn(e,t));break}}e=e.return}}function Oj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(yt&n)===n&&(tt===4||tt===3&&(yt&130023424)===yt&&500>ze()-F0?js(t,0):j0|=n),rn(t,e)}function mR(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=zt();t=qr(t,e),t!==null&&(iu(t,e,n),rn(t,n))}function Lj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mR(t,n)}function Vj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),mR(t,n)}var gR;gR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,Tj(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Pe&&e.flags&1048576&&w1(e,Ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gd(t,e),t=e.pendingProps;var i=ma(e,Lt.current);ra(e,n),i=P0(null,e,r,t,i,n);var s=N0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(s=!0,bh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A0(e),i.updater=Gf,e.stateNode=i,i._reactInternals=e,fv(e,r,t,n),e=gv(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&E0(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Fj(r),t=$n(r,t),i){case 0:e=mv(null,e,r,t,n);break e;case 1:e=MS(null,e,r,t,n);break e;case 11:e=PS(null,e,r,t,n);break e;case 14:e=NS(null,e,r,$n(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),mv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),MS(t,e,r,i,n);case 3:e:{if(J1(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,b1(t,e),Rh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wa(Error(P(423)),e),e=OS(t,e,r,n,i);break e}else if(r!==i){i=wa(Error(P(424)),e),e=OS(t,e,r,n,i);break e}else for(dn=Fi(e.stateNode.containerInfo.firstChild),hn=e,Pe=!0,zn=null,n=A1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ga(),r===i){e=Qr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return R1(e),t===null&&uv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sv(r,i)?o=null:s!==null&&sv(r,s)&&(e.flags|=32),Z1(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&uv(e),null;case 13:return eR(t,e,n);case 4:return R0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=va(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),PS(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,be(xh,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!tn.current){e=Qr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=jr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ra(e,n),i=Mn(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=$n(r,e.pendingProps),i=$n(r.type,i),NS(t,e,r,i,n);case 15:return Y1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Gd(t,e),e.tag=1,nn(r)?(t=!0,bh(e)):t=!1,ra(e,n),C1(e,r,i),fv(e,r,i,n),gv(null,e,r,!0,t,n);case 19:return tR(t,e,n);case 22:return X1(t,e,n)}throw Error(P(156,e.tag))};function vR(t,e){return HA(t,e)}function jj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new jj(t,e,n,r)}function H0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fj(t){if(typeof t=="function")return H0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l0)return 11;if(t===c0)return 14}return 2}function Hi(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")H0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mo:return Fs(n.children,i,s,e);case a0:o=8,i|=8;break;case Vg:return t=Dn(12,n,e,i|2),t.elementType=Vg,t.lanes=s,t;case jg:return t=Dn(13,n,e,i),t.elementType=jg,t.lanes=s,t;case Fg:return t=Dn(19,n,e,i),t.elementType=Fg,t.lanes=s,t;case xA:return Yf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TA:o=10;break e;case CA:o=9;break e;case l0:o=11;break e;case c0:o=14;break e;case yi:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fs(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function Yf(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=xA,t.lanes=n,t.stateNode={isHidden:!1},t}function Am(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function Rm(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z0(t,e,n,r,i,s,o,a,l){return t=new Bj(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A0(s),t}function Uj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yR(t){if(!t)return es;t=t._reactInternals;e:{if(lo(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(nn(n))return v1(t,n,e)}return e}function wR(t,e,n,r,i,s,o,a,l){return t=z0(n,r,!0,t,i,s,o,a,l),t.context=yR(null),n=t.current,r=zt(),i=$i(n),s=jr(r,i),s.callback=e??null,Bi(n,s,i),t.current.lanes=i,iu(t,i,r),rn(t,r),t}function Xf(t,e,n,r){var i=e.current,s=zt(),o=$i(i);return n=yR(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,o),t!==null&&(Qn(t,i,o,s),Hd(t,i,o)),o}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function WS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function W0(t,e){WS(t,e),(t=t.alternate)&&WS(t,e)}function $j(){return null}var ER=typeof reportError=="function"?reportError:function(t){console.error(t)};function G0(t){this._internalRoot=t}Zf.prototype.render=G0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Xf(t,e,null,null)};Zf.prototype.unmount=G0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qs(function(){Xf(null,t,null,null)}),e[Gr]=null}};function Zf(t){this._internalRoot=t}Zf.prototype.unstable_scheduleHydration=function(t){if(t){var e=YA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&ZA(t)}};function q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GS(){}function Hj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Lh(o);s.call(c)}}var o=wR(e,r,t,0,null,!1,!1,"",GS);return t._reactRootContainer=o,t[Gr]=o.current,yc(t.nodeType===8?t.parentNode:t),Qs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Lh(l);a.call(c)}}var l=z0(t,0,!1,null,null,!1,!1,"",GS);return t._reactRootContainer=l,t[Gr]=l.current,yc(t.nodeType===8?t.parentNode:t),Qs(function(){Xf(e,l,n,r)}),l}function ep(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lh(o);a.call(l)}}Xf(e,o,t,i)}else o=Hj(n,e,t,i,r);return Lh(o)}QA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(h0(e,n|1),rn(e,ze()),!(he&6)&&(Ea=ze()+500,ds()))}break;case 13:Qs(function(){var r=qr(t,1);if(r!==null){var i=zt();Qn(r,t,1,i)}}),W0(t,1)}};f0=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=zt();Qn(e,t,134217728,n)}W0(t,134217728)}};KA=function(t){if(t.tag===13){var e=$i(t),n=qr(t,e);if(n!==null){var r=zt();Qn(n,t,e,r)}W0(t,e)}};YA=function(){return Ee};XA=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Kg=function(t,e,n){switch(e){case"input":if($g(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zf(r);if(!i)throw Error(P(90));RA(r),$g(r,i)}}}break;case"textarea":kA(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};VA=B0;jA=Qs;var zj={usingClientEntryPoint:!1,Events:[ou,jo,zf,OA,LA,B0]},ml={findFiberByHostInstance:ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wj={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UA(t),t===null?null:t.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||$j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Bf=hd.inject(Wj),fr=hd}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zj;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q0(e))throw Error(P(200));return Uj(t,e,null,n)};yn.createRoot=function(t,e){if(!q0(t))throw Error(P(299));var n=!1,r="",i=ER;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z0(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,yc(t.nodeType===8?t.parentNode:t),new G0(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=UA(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Qs(t)};yn.hydrate=function(t,e,n){if(!Jf(e))throw Error(P(200));return ep(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!q0(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ER;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wR(e,null,t,1,n??null,i,!1,s,o),t[Gr]=e.current,yc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zf(e)};yn.render=function(t,e,n){if(!Jf(e))throw Error(P(200));return ep(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Jf(t))throw Error(P(40));return t._reactRootContainer?(Qs(function(){ep(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};yn.unstable_batchedUpdates=B0;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jf(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return ep(t,e,n,!1,r)};yn.version="18.2.0-next-9e3b772b8-20220608";function _R(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_R)}catch(t){console.error(t)}}_R(),wA.exports=yn;var ar=wA.exports;const Wo=jf(ar);var qS=ar;Og.createRoot=qS.createRoot,Og.hydrateRoot=qS.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Gj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new qj;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qj=function(t){const e=SR(t);return bR.encodeByteArray(e,!0)},Vh=function(t){return Qj(t).replace(/\./g,"")},TR=function(t){try{return bR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=()=>Kj().__FIREBASE_DEFAULTS__,Xj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Zj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TR(t[1]);return e&&JSON.parse(e)},Q0=()=>{try{return Yj()||Xj()||Zj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CR=t=>{var e,n;return(n=(e=Q0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jj=t=>{const e=CR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xR=()=>{var t;return(t=Q0())===null||t===void 0?void 0:t.config},AR=t=>{var e;return(e=Q0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Vh(JSON.stringify(n)),Vh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function rF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sF(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oF(){try{return typeof indexedDB=="object"}catch{return!1}}function aF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lF,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ri(i,a,r)}}function cF(t,e){return t.replace(uF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uF=/\{\$([^}]+)}/g;function dF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(QS(s)&&QS(o)){if(!jh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hF(t,e){const n=new fF(t,e);return n.subscribe.bind(n)}class fF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Im),i.error===void 0&&(i.error=Im),i.complete===void 0&&(i.complete=Im);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vF(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gF(t){return t===Ts?void 0:t}function vF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const wF={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},EF=ae.INFO,_F={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},SF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_F[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K0{constructor(e){this.name=e,this._logLevel=EF,this._logHandler=SF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const bF=(t,e)=>e.some(n=>t instanceof n);let KS,YS;function TF(){return KS||(KS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CF(){return YS||(YS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RR=new WeakMap,Rv=new WeakMap,IR=new WeakMap,km=new WeakMap,Y0=new WeakMap;function xF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RR.set(n,t)}).catch(()=>{}),Y0.set(e,t),e}function AF(t){if(Rv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rv.set(t,e)}let Iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RF(t){Iv=t(Iv)}function IF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dm(this),e,...n);return IR.set(r,e.sort?e.sort():[e]),zi(r)}:CF().includes(t)?function(...e){return t.apply(Dm(this),e),zi(RR.get(this))}:function(...e){return zi(t.apply(Dm(this),e))}}function kF(t){return typeof t=="function"?IF(t):(t instanceof IDBTransaction&&AF(t),bF(t,TF())?new Proxy(t,Iv):t)}function zi(t){if(t instanceof IDBRequest)return xF(t);if(km.has(t))return km.get(t);const e=kF(t);return e!==t&&(km.set(t,e),Y0.set(e,t)),e}const Dm=t=>Y0.get(t);function DF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const PF=["get","getKey","getAll","getAllKeys","count"],NF=["put","add","delete","clear"],Pm=new Map;function XS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Pm.set(e,s),s}RF(t=>({...t,get:(e,n,r)=>XS(e,n)||t.get(e,n,r),has:(e,n)=>!!XS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kv="@firebase/app",ZS="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new K0("@firebase/app"),LF="@firebase/app-compat",VF="@firebase/analytics-compat",jF="@firebase/analytics",FF="@firebase/app-check-compat",BF="@firebase/app-check",UF="@firebase/auth",$F="@firebase/auth-compat",HF="@firebase/database",zF="@firebase/database-compat",WF="@firebase/functions",GF="@firebase/functions-compat",qF="@firebase/installations",QF="@firebase/installations-compat",KF="@firebase/messaging",YF="@firebase/messaging-compat",XF="@firebase/performance",ZF="@firebase/performance-compat",JF="@firebase/remote-config",e4="@firebase/remote-config-compat",t4="@firebase/storage",n4="@firebase/storage-compat",r4="@firebase/firestore",i4="@firebase/firestore-compat",s4="firebase",o4="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="[DEFAULT]",a4={[kv]:"fire-core",[LF]:"fire-core-compat",[jF]:"fire-analytics",[VF]:"fire-analytics-compat",[BF]:"fire-app-check",[FF]:"fire-app-check-compat",[UF]:"fire-auth",[$F]:"fire-auth-compat",[HF]:"fire-rtdb",[zF]:"fire-rtdb-compat",[WF]:"fire-fn",[GF]:"fire-fn-compat",[qF]:"fire-iid",[QF]:"fire-iid-compat",[KF]:"fire-fcm",[YF]:"fire-fcm-compat",[XF]:"fire-perf",[ZF]:"fire-perf-compat",[JF]:"fire-rc",[e4]:"fire-rc-compat",[t4]:"fire-gcs",[n4]:"fire-gcs-compat",[r4]:"fire-fst",[i4]:"fire-fst-compat","fire-js":"fire-js",[s4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Map,Pv=new Map;function l4(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _a(t){const e=t.name;if(Pv.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;Pv.set(e,t);for(const n of Fh.values())l4(n,t);return!0}function X0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wi=new lu("app","Firebase",c4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=o4;function kR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=xR()),!n)throw Wi.create("no-options");const s=Fh.get(i);if(s){if(jh(n,s.options)&&jh(r,s.config))return s;throw Wi.create("duplicate-app",{appName:i})}const o=new yF(i);for(const l of Pv.values())o.addComponent(l);const a=new u4(n,r,o);return Fh.set(i,a),a}function DR(t=Dv){const e=Fh.get(t);if(!e&&t===Dv&&xR())return kR();if(!e)throw Wi.create("no-app",{appName:t});return e}function Gi(t,e,n){var r;let i=(r=a4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(a.join(" "));return}_a(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="firebase-heartbeat-database",h4=1,Ac="firebase-heartbeat-store";let Nm=null;function PR(){return Nm||(Nm=DF(d4,h4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ac)}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function f4(t){try{return await(await PR()).transaction(Ac).objectStore(Ac).get(NR(t))}catch(e){if(e instanceof ri)Ys.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ys.warn(n.message)}}}async function JS(t,e){try{const r=(await PR()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,NR(t)),await r.done}catch(n){if(n instanceof ri)Ys.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ys.warn(r.message)}}}function NR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=1024,m4=30*24*60*60*1e3;class g4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=m4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eb(),{heartbeatsToSend:r,unsentEntries:i}=v4(this._heartbeatsCache.heartbeats),s=Vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function eb(){return new Date().toISOString().substring(0,10)}function v4(t,e=p4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oF()?aF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return JS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tb(t){return Vh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){_a(new Ks("platform-logger",e=>new MF(e),"PRIVATE")),_a(new Ks("heartbeat",e=>new g4(e),"PRIVATE")),Gi(kv,ZS,t),Gi(kv,ZS,"esm2017"),Gi("fire-js","")}w4("");function Z0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E4=MR,OR=new lu("auth","Firebase",MR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new K0("@firebase/auth");function _4(t,...e){Bh.logLevel<=ae.WARN&&Bh.warn(`Auth (${Ba}): ${t}`,...e)}function Yd(t,...e){Bh.logLevel<=ae.ERROR&&Bh.error(`Auth (${Ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw J0(t,...e)}function mr(t,...e){return J0(t,...e)}function LR(t,e,n){const r=Object.assign(Object.assign({},E4()),{[e]:n});return new lu("auth","Firebase",r).create(e,{appName:t.name})}function S4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ln(t,"argument-error"),LR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OR.create(t,...e)}function Q(t,e,...n){if(!t)throw J0(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function Kr(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b4(){return nb()==="http:"||nb()==="https:"}function nb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b4()||rF()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=nF()||iF()}get(){return T4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new uu(3e4,6e4);function hs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fs(t,e,n,r,i={}){return jR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),VR.fetch()(FR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x4),e);try{const i=new I4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fd(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw LR(t,u,c);Ln(t,u)}}catch(i){if(i instanceof ri)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function du(t,e,n,r,i={}){const s=await fs(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function FR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ew(t.config,i):`${t.config.apiScheme}://${i}`}function R4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),A4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(t,e,r);return i.customData._tokenResponse=n,i}function rb(t){return t!==void 0&&t.enterprise!==void 0}class k4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function D4(t,e){return fs(t,"GET","/v2/recaptchaConfig",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function N4(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M4(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=tw(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ql(Mm(i.auth_time)),issuedAtTime:ql(Mm(i.iat)),expirationTime:ql(Mm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Mm(t){return Number(t)*1e3}function tw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=TR(n);return i?JSON.parse(i):(Yd("Failed to decode base64 JWT payload"),null)}catch(i){return Yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function O4(t){const e=tw(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&L4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rc(t,N4(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?B4(s.providerUserInfo):[],a=F4(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new BR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function j4(t){const e=qt(t);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function B4(t){return t.map(e=>{var{providerId:n}=e,r=Z0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e){const n=await jR(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=FR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $4(t,e){return fs(t,"POST","/v2/accounts:revokeToken",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await U4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ic;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ic,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Z0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new BR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M4(this,e)}reload(){return j4(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Rc(this,P4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:S,isAnonymous:T,providerData:C,stsTokenManager:x}=n;Q(_&&x,e,"internal-error");const A=Ic.fromJSON(this.name,x);Q(typeof _=="string",e,"internal-error"),gi(d,e.name),gi(h,e.name),Q(typeof S=="boolean",e,"internal-error"),Q(typeof T=="boolean",e,"internal-error"),gi(f,e.name),gi(g,e.name),gi(v,e.name),gi(E,e.name),gi(w,e.name),gi(y,e.name);const N=new Bs({uid:_,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:T,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:A,createdAt:w,lastLoginAt:y});return C&&Array.isArray(C)&&(N.providerData=C.map(M=>Object.assign({},M))),E&&(N._redirectEventId=E),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ic;i.updateFromServerResponse(n);const s=new Bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function Mr(t){Kr(t instanceof Function,"Expected a class definition");let e=ib.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ib.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UR.type="NONE";const sb=UR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e,n){return`firebase:${t}:${e}:${n}`}class sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sa(Mr(sb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Mr(sb);const o=Xd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Bs._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new sa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new sa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($R(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GR(e))return"Blackberry";if(qR(e))return"Webos";if(nw(e))return"Safari";if((e.includes("chrome/")||HR(e))&&!e.includes("edge/"))return"Chrome";if(WR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $R(t=Vt()){return/firefox\//i.test(t)}function nw(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HR(t=Vt()){return/crios\//i.test(t)}function zR(t=Vt()){return/iemobile/i.test(t)}function WR(t=Vt()){return/android/i.test(t)}function GR(t=Vt()){return/blackberry/i.test(t)}function qR(t=Vt()){return/webos/i.test(t)}function tp(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H4(t=Vt()){var e;return tp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z4(){return sF()&&document.documentMode===10}function QR(t=Vt()){return tp(t)||WR(t)||qR(t)||GR(t)||/windows phone/i.test(t)||zR(t)}function W4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e=[]){let n;switch(t){case"Browser":n=ob(Vt());break;case"Worker":n=`${ob(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e={}){return fs(t,"GET","/v2/passwordPolicy",hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=6;class K4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Q4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ab(this),this.idTokenSubscription=new ab(this),this.beforeStateQueue=new G4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?qt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q4(this),n=new K4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ps(t){return qt(t)}class ab{constructor(e){this.auth=e,this.observer=null,this.addObserver=hF(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function YR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=mr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",X4().appendChild(r)})}function Z4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const J4="https://www.google.com/recaptcha/enterprise.js?render=",eB="recaptcha-enterprise",tB="NO_RECAPTCHA";class nB{constructor(e){this.type=eB,this.auth=ps(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{D4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new k4(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;rb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(tB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&rb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}YR(J4+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function lb(t,e,n,r=!1){const i=new nB(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Mv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await lb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await lb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t,e){const n=X0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jh(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function iB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sB(t,e,n){const r=ps(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=XR(e),{host:o,port:a}=oB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||aB()}function XR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oB(t){const e=XR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:cb(o)}}}function cb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function lB(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e){return du(t,"POST","/v1/accounts:signInWithPassword",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}async function dB(t,e){return du(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends rw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(e,n,"signInWithPassword",cB);case"emailLink":return uB(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mv(e,r,"signUpPassword",lB);case"emailLink":return dB(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t,e){return du(t,"POST","/v1/accounts:signInWithIdp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="http://localhost";class Xs extends rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Z0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oa(e,n)}buildRequest(){const e={requestUri:hB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pB(t){const e=Il(kl(t)).link,n=e?Il(kl(e)).deep_link_id:null,r=Il(kl(t)).deep_link_id;return(r?Il(kl(r)).link:null)||r||n||e||t}class iw{constructor(e){var n,r,i,s,o,a;const l=Il(kl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=fB((i=l.mode)!==null&&i!==void 0?i:null);Q(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=pB(e);try{return new iw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,n){return kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iw.parseLink(n);return Q(r,"argument-error"),kc._fromEmailAndCode(e,r.code,r.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends sw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends hu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends hu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends hu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return du(t,"POST","/v1/accounts:signUp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bs._fromIdTokenResponse(e,r,i),o=ub(r);return new Zs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ub(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ub(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends ri{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $h(e,n,r,i)}}function ZR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,s,e,r):s})}async function gB(t,e,n=!1){const r=await Rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Rc(t,ZR(r,i,e,t),n);Q(s.idToken,r,"internal-error");const o=tw(s.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e,n=!1){const r="signIn",i=await ZR(t,r,e),s=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yB(t,e){return JR(ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(t){const e=ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wB(t,e,n){const r=ps(t),o=await Mv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eI(t),l}),a=await Zs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EB(t,e,n){return yB(qt(t),Ua.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eI(t),r})}function _B(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function SB(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function bB(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function TB(t){return qt(t).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(){const t=Vt();return nw(t)||tp(t)}const xB=1e3,AB=10;class nI extends tI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=CB()&&W4(),this.fallbackToPolling=QR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);z4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nI.type="LOCAL";const RB=nI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends tI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rI.type="SESSION";const iI=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new np(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await IB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ow("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function DB(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function PB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MB(){return sI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebaseLocalStorageDb",OB=1,zh="firebaseLocalStorage",aI="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rp(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function LB(){const t=indexedDB.deleteDatabase(oI);return new fu(t).toPromise()}function Ov(){const t=indexedDB.open(oI,OB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:aI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await LB(),e(await Ov()))})})}async function db(t,e,n){const r=rp(t,!0).put({[aI]:e,value:n});return new fu(r).toPromise()}async function VB(t,e){const n=rp(t,!1).get(e),r=await new fu(n).toPromise();return r===void 0?null:r.value}function hb(t,e){const n=rp(t,!0).delete(e);return new fu(n).toPromise()}const jB=800,FB=3;class lI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ov(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(MB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PB(),!this.activeServiceWorker)return;this.sender=new kB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ov();return await db(e,Hh,"1"),await hb(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>db(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rp(i,!1).getAll();return new fu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lI.type="LOCAL";const BB=lI;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e){return e?Mr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UB(t){return JR(t.auth,new aw(t),t.bypassAuthState)}function $B(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),vB(n,new aw(t),t.bypassAuthState)}async function HB(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),gB(n,new aw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UB;case"linkViaPopup":case"linkViaRedirect":return HB;case"reauthViaPopup":case"reauthViaRedirect":return $B;default:Ln(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new uu(2e3,1e4);async function WB(t,e,n){const r=ps(t);S4(t,e,sw);const i=cI(r,n);return new Ns(r,"signInViaPopup",e,i).executeNotNull()}class Ns extends uI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zB.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="pendingRedirect",Zd=new Map;class qB extends uI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const r=await QB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QB(t,e){const n=XB(e),r=YB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function KB(t,e){Zd.set(t._key(),e)}function YB(t){return Mr(t._redirectPersistence)}function XB(t){return Xd(GB,t.config.apiKey,t.name)}async function ZB(t,e,n=!1){const r=ps(t),i=cI(r,e),o=await new qB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=10*60*1e3;class eU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JB&&this.cachedEventUids.clear(),this.cachedEventUids.has(fb(e))}saveEventToCache(e){this.cachedEventUids.add(fb(e)),this.lastProcessedEventTime=Date.now()}}function fb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iU=/^https?/;async function sU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nU(t);for(const n of e)try{if(oU(n))return}catch{}Ln(t,"unauthorized-domain")}function oU(t){const e=Nv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iU.test(n))return!1;if(rU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new uu(3e4,6e4);function pb(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lU(t){return new Promise((e,n)=>{var r,i,s;function o(){pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pb(),n(mr(t,"network-request-failed"))},timeout:aU.get()})}if(!((i=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gr().gapi)===null||s===void 0)&&s.load)o();else{const a=Z4("iframefcb");return gr()[a]=()=>{gapi.load?o():n(mr(t,"network-request-failed"))},YR(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jd=null,e})}let Jd=null;function cU(t){return Jd=Jd||lU(t),Jd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new uu(5e3,15e3),dU="__/auth/iframe",hU="emulator/auth/iframe",fU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mU(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ew(e,hU):`https://${t.config.authDomain}/${dU}`,r={apiKey:e.apiKey,appName:t.name,v:Ba},i=pU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cu(r).slice(1)}`}async function gU(t){const e=await cU(t),n=gr().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:mU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=mr(t,"network-request-failed"),a=gr().setTimeout(()=>{s(o)},uU.get());function l(){gr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yU=500,wU=600,EU="_blank",_U="http://localhost";class mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SU(t,e,n,r=yU,i=wU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vU),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Vt().toLowerCase();n&&(a=HR(c)?EU:n),$R(c)&&(e=e||_U,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(H4(c)&&a!=="_self")return bU(e||"",a),new mb(null);const d=window.open(e||"",a,u);Q(d,t,"popup-blocked");try{d.focus()}catch{}return new mb(d)}function bU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="__/auth/handler",CU="emulator/auth/handler",xU=encodeURIComponent("fac");async function gb(t,e,n,r,i,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ba,eventId:i};if(e instanceof sw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof hu){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${xU}=${encodeURIComponent(l)}`:"";return`${AU(t)}?${cu(a).slice(1)}${c}`}function AU({config:t}){return t.emulator?ew(t,CU):`https://${t.authDomain}/${TU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class RU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iI,this._completeRedirectFn=ZB,this._overrideRedirectResult=KB}async _openPopup(e,n,r,i){var s;Kr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gb(e,n,r,Nv(),i);return SU(e,o,ow())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gb(e,n,r,Nv(),i);return DB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gU(e),r=new eU(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Om];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QR()||nw()||tp()}}const IU=RU;var vb="@firebase/auth",yb="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function PU(t){_a(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KR(t)},c=new Y4(r,i,s,l);return iB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_a(new Ks("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(r=>new kU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(vb,yb,DU(t)),Gi(vb,yb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=5*60,MU=AR("authIdTokenMaxAge")||NU;let wb=null;const OU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MU)return;const i=n==null?void 0:n.token;wb!==i&&(wb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function LU(t=DR()){const e=X0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rB(t,{popupRedirectResolver:IU,persistence:[BB,RB,iI]}),r=AR("authTokenSyncURL");if(r){const s=OU(r);SB(n,s,()=>s(n.currentUser)),_B(n,o=>s(o))}const i=CR("auth");return i&&sB(n,`http://${i}`),n}PU("Browser");var VU="firebase",jU="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(VU,jU,"app");var FU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,lw=lw||{},Y=FU||self;function ip(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function BU(t){return Object.prototype.hasOwnProperty.call(t,Lm)&&t[Lm]||(t[Lm]=++UU)}var Lm="closure_uid_"+(1e9*Math.random()>>>0),UU=0;function $U(t,e,n){return t.call.apply(t.bind,arguments)}function HU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=$U:Nt=HU,Nt.apply(null,arguments)}function pd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ms(){this.s=this.s,this.o=this.o}var zU=0;ms.prototype.s=!1;ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),zU!=0)&&BU(this)};ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Eb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ip(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var WU=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Y.addEventListener("test",n,e),Y.removeEventListener("test",n,e)}catch{}return t}();function Dc(t){return/^[\s\xa0]*$/.test(t)}function sp(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function lr(t){return sp().indexOf(t)!=-1}function uw(t){return uw[" "](t),t}uw[" "]=function(){};function GU(t,e){var n=j$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var qU=lr("Opera"),Sa=lr("Trident")||lr("MSIE"),fI=lr("Edge"),Lv=fI||Sa,pI=lr("Gecko")&&!(sp().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge"))&&!(lr("Trident")||lr("MSIE"))&&!lr("Edge"),QU=sp().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge");function mI(){var t=Y.document;return t?t.documentMode:void 0}var Vv;e:{var Vm="",jm=function(){var t=sp();if(pI)return/rv:([^\);]+)(\)|;)/.exec(t);if(fI)return/Edge\/([\d\.]+)/.exec(t);if(Sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(QU)return/WebKit\/(\S+)/.exec(t);if(qU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(jm&&(Vm=jm?jm[1]:""),Sa){var Fm=mI();if(Fm!=null&&Fm>parseFloat(Vm)){Vv=String(Fm);break e}}Vv=Vm}var jv;if(Y.document&&Sa){var _b=mI();jv=_b||parseInt(Vv,10)||void 0}else jv=void 0;var KU=jv;function Pc(t,e){if(Mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pI){e:{try{uw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:YU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pc.$.h.call(this)}}dt(Pc,Mt);var YU={2:"touch",3:"pen",4:"mouse"};Pc.prototype.h=function(){Pc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mu="closure_listenable_"+(1e6*Math.random()|0),XU=0;function ZU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++XU,this.fa=this.ia=!1}function op(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function JU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function gI(t){const e={};for(const n in t)e[n]=t[n];return e}const Sb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Sb.length;s++)n=Sb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ap(t){this.src=t,this.g={},this.h=0}ap.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Bv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new ZU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Fv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=hI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(op(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var hw="closure_lm_"+(1e6*Math.random()|0),Bm={};function yI(t,e,n,r,i){if(r&&r.once)return EI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yI(t,e[s],n,r,i);return null}return n=mw(n),t&&t[mu]?t.O(e,n,pu(r)?!!r.capture:!!r,i):wI(t,e,n,!1,r,i)}function wI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=pu(i)?!!i.capture:!!i,a=pw(t);if(a||(t[hw]=a=new ap(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=e$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)WU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(SI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function e$(){function t(n){return e.call(t.src,t.listener,n)}const e=t$;return t}function EI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)EI(t,e[s],n,r,i);return null}return n=mw(n),t&&t[mu]?t.P(e,n,pu(r)?!!r.capture:!!r,i):wI(t,e,n,!0,r,i)}function _I(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_I(t,e[s],n,r,i);else r=pu(r)?!!r.capture:!!r,n=mw(n),t&&t[mu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Bv(s,n,r,i),-1<n&&(op(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=pw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bv(e,n,r,i)),(n=-1<t?e[t]:null)&&fw(n))}function fw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[mu])Fv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(SI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pw(e))?(Fv(n,t),n.h==0&&(n.src=null,e[hw]=null)):op(t)}}}function SI(t){return t in Bm?Bm[t]:Bm[t]="on"+t}function t$(t,e){if(t.fa)t=!0;else{e=new Pc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fw(t),t=n.call(r,e)}return t}function pw(t){return t=t[hw],t instanceof ap?t:null}var Um="__closure_events_fn_"+(1e9*Math.random()>>>0);function mw(t){return typeof t=="function"?t:(t[Um]||(t[Um]=function(e){return t.handleEvent(e)}),t[Um])}function ut(){ms.call(this),this.i=new ap(this),this.S=this,this.J=null}dt(ut,ms);ut.prototype[mu]=!0;ut.prototype.removeEventListener=function(t,e,n,r){_I(this,t,e,n,r)};function wt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Mt(e,t);else if(e instanceof Mt)e.target=e.target||t;else{var i=e;e=new Mt(r,t),vI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=md(o,r,!0,e)&&i}if(o=e.g=t,i=md(o,r,!0,e)&&i,i=md(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=md(o,r,!1,e)&&i}ut.prototype.N=function(){if(ut.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)op(n[r]);delete t.g[e],t.h--}}this.J=null};ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ut.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function md(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Fv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var gw=Y.JSON.stringify;class n${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function r$(){var t=vw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class i${constructor(){this.h=this.g=null}add(e,n){const r=bI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bI=new n$(()=>new s$,t=>t.reset());class s${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function o$(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function a$(t){Y.setTimeout(()=>{throw t},0)}let Nc,Mc=!1,vw=new i$,TI=()=>{const t=Y.Promise.resolve(void 0);Nc=()=>{t.then(l$)}};var l$=()=>{for(var t;t=r$();){try{t.h.call(t.g)}catch(n){a$(n)}var e=bI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mc=!1};function lp(t,e){ut.call(this),this.h=t||1,this.g=e||Y,this.j=Nt(this.qb,this),this.l=Date.now()}dt(lp,ut);O=lp.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wt(this,"tick"),this.ga&&(yw(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function yw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){lp.$.N.call(this),yw(this),delete this.g};function ww(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function CI(t){t.g=ww(()=>{t.g=null,t.i&&(t.i=!1,CI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class c$ extends ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CI(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(t){ms.call(this),this.h=t,this.g={}}dt(Oc,ms);var bb=[];function xI(t,e,n,r){Array.isArray(n)||(n&&(bb[0]=n.toString()),n=bb);for(var i=0;i<n.length;i++){var s=yI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function AI(t){dw(t.g,function(e,n){this.g.hasOwnProperty(n)&&fw(e)},t),t.g={}}Oc.prototype.N=function(){Oc.$.N.call(this),AI(this)};Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cp(){this.g=!0}cp.prototype.Ea=function(){this.g=!1};function u$(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function d$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Go(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+f$(t,n)+(r?" "+r:"")})}function h$(t,e){t.info(function(){return"TIMEOUT: "+e})}cp.prototype.info=function(){};function f$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return gw(n)}catch{return e}}var co={},Tb=null;function up(){return Tb=Tb||new ut}co.Ta="serverreachability";function RI(t){Mt.call(this,co.Ta,t)}dt(RI,Mt);function Lc(t){const e=up();wt(e,new RI(e))}co.STAT_EVENT="statevent";function II(t,e){Mt.call(this,co.STAT_EVENT,t),this.stat=e}dt(II,Mt);function Ht(t){const e=up();wt(e,new II(e,t))}co.Ua="timingevent";function kI(t,e){Mt.call(this,co.Ua,t),this.size=e}dt(kI,Mt);function gu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var dp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ew(){}Ew.prototype.h=null;function Cb(t){return t.h||(t.h=t.i())}function PI(){}var vu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _w(){Mt.call(this,"d")}dt(_w,Mt);function Sw(){Mt.call(this,"c")}dt(Sw,Mt);var Uv;function hp(){}dt(hp,Ew);hp.prototype.g=function(){return new XMLHttpRequest};hp.prototype.i=function(){return{}};Uv=new hp;function yu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oc(this),this.P=p$,t=Lv?125:void 0,this.V=new lp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NI}function NI(){this.i=null,this.g="",this.h=!1}var p$=45e3,MI={},$v={};O=yu.prototype;O.setTimeout=function(t){this.P=t};function Hv(t,e,n){t.L=1,t.A=pp(Yr(e)),t.u=n,t.S=!0,OI(t,null)}function OI(t,e){t.G=Date.now(),wu(t),t.B=Yr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),HI(n.i,"t",r),t.o=0,n=t.l.J,t.h=new NI,t.g=uk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new c$(Nt(t.Pa,t,t.g),t.O)),xI(t.U,t.g,"readystatechange",t.nb),e=t.I?gI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Lc(),u$(t.j,t.v,t.B,t.m,t.W,t.u)}O.nb=function(t){t=t.target;const e=this.M;e&&dr(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const u=dr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Lv||this.g&&(this.h.h||this.g.ja()||Ib(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Lc(3):Lc(2)),fp(this);var n=this.g.da();this.ca=n;t:if(LI(this)){var r=Ib(this.g);t="";var i=r.length,s=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),Ql(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,d$(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dc(a)){var c=a;break t}}c=null}if(n=c)Go(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zv(this,n);else{this.i=!1,this.s=3,Ht(12),Ms(this),Ql(this);break e}}this.S?(VI(this,u,o),Lv&&this.i&&u==3&&(xI(this.U,this.V,"tick",this.mb),this.V.start())):(Go(this.j,this.m,o,null),zv(this,o)),u==4&&Ms(this),this.i&&!this.J&&(u==4?ok(this.l,this):(this.i=!1,wu(this)))}else O$(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Ms(this),Ql(this)}}}catch{}finally{}};function LI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function VI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=m$(t,n),i==$v){e==4&&(t.s=4,Ht(14),r=!1),Go(t.j,t.m,null,"[Incomplete Response]");break}else if(i==MI){t.s=4,Ht(15),Go(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Go(t.j,t.m,i,null),zv(t,i);LI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ht(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rw(e),e.M=!0,Ht(11))):(Go(t.j,t.m,n,"[Invalid Chunked Response]"),Ms(t),Ql(t))}O.mb=function(){if(this.g){var t=dr(this.g),e=this.g.ja();this.o<e.length&&(fp(this),VI(this,t,e),this.i&&t!=4&&wu(this))}};function m$(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?$v:(n=Number(e.substring(n,r)),isNaN(n)?MI:(r+=1,r+n>e.length?$v:(e=e.slice(r,r+n),t.o=r+n,e)))}O.cancel=function(){this.J=!0,Ms(this)};function wu(t){t.Y=Date.now()+t.P,jI(t,t.P)}function jI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=gu(Nt(t.lb,t),e)}function fp(t){t.C&&(Y.clearTimeout(t.C),t.C=null)}O.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(h$(this.j,this.B),this.L!=2&&(Lc(),Ht(17)),Ms(this),this.s=2,Ql(this)):jI(this,this.Y-t)};function Ql(t){t.l.H==0||t.J||ok(t.l,t)}function Ms(t){fp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,yw(t.V),AI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Wv(n.i,t))){if(!t.K&&Wv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qh(n),yp(n);else break e;Aw(n),Ht(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=gu(Nt(n.ib,n),6e3));if(1>=GI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Os(n,11)}else if((t.K||n.g==t)&&qh(n),!Dc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(bw(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Re(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ck(r,r.J?r.pa:null,r.Y),o.K){qI(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(fp(a),wu(a)),r.g=o}else ik(r);0<n.j.length&&wp(n)}else c[0]!="stop"&&c[0]!="close"||Os(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Os(n,7):xw(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Lc(4)}catch{}}function g$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ip(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function v$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ip(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function FI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ip(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=v$(t),r=g$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var BI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Us){this.h=t.h,Wh(this,t.j),this.s=t.s,this.g=t.g,Gh(this,t.m),this.l=t.l;var e=t.i,n=new Vc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xb(this,n),this.o=t.o}else t&&(e=String(t).match(BI))?(this.h=!1,Wh(this,e[1]||"",!0),this.s=Dl(e[2]||""),this.g=Dl(e[3]||"",!0),Gh(this,e[4]),this.l=Dl(e[5]||"",!0),xb(this,e[6]||"",!0),this.o=Dl(e[7]||"")):(this.h=!1,this.i=new Vc(null,this.h))}Us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pl(e,Ab,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pl(e,Ab,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pl(n,n.charAt(0)=="/"?_$:E$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pl(n,b$)),t.join("")};function Yr(t){return new Us(t)}function Wh(t,e,n){t.j=n?Dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xb(t,e,n){e instanceof Vc?(t.i=e,T$(t.i,t.h)):(n||(e=Pl(e,S$)),t.i=new Vc(e,t.h))}function Re(t,e,n){t.i.set(e,n)}function pp(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,w$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function w$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ab=/[#\/\?@]/g,E$=/[#\?:]/g,_$=/[#\?]/g,S$=/[#\?@]/g,b$=/#/g;function Vc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gs(t){t.g||(t.g=new Map,t.h=0,t.i&&y$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Vc.prototype;O.add=function(t,e){gs(this),this.i=null,t=$a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function UI(t,e){gs(t),e=$a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $I(t,e){return gs(t),e=$a(t,e),t.g.has(e)}O.forEach=function(t,e){gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};O.ta=function(){gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};O.Z=function(t){gs(this);let e=[];if(typeof t=="string")$I(this,t)&&(e=e.concat(this.g.get($a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return gs(this),this.i=null,t=$a(this,t),$I(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function HI(t,e,n){UI(t,e),0<n.length&&(t.i=null,t.g.set($a(t,e),cw(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function $a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function T$(t,e){e&&!t.j&&(gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(UI(this,r),HI(this,i,n))},t)),t.j=e}var C$=class{constructor(t,e){this.g=t,this.map=e}};function zI(t){this.l=t||x$,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var x$=10;function WI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function GI(t){return t.h?1:t.g?t.g.size:0}function Wv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function bw(t,e){t.g?t.g.add(e):t.h=e}function qI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}zI.prototype.cancel=function(){if(this.i=QI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function QI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return cw(t.i)}var A$=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function R$(){this.g=new A$}function I$(t,e,n){const r=n||"";try{FI(t,function(i,s){let o=i;pu(i)&&(o=gw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function k$(t,e){const n=new cp;if(Y.Image){const r=new Image;r.onload=pd(gd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pd(gd,n,r,"TestLoadImage: error",!1,e),r.onabort=pd(gd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pd(gd,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function gd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mp(t){this.l=t.ec||null,this.j=t.ob||!1}dt(mp,Ew);mp.prototype.g=function(){return new gp(this.l,this.j)};mp.prototype.i=function(t){return function(){return t}}({});function gp(t,e){ut.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Tw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(gp,ut);var Tw=0;O=gp.prototype;O.open=function(t,e){if(this.readyState!=Tw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jc(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=Tw};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function KI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Eu(this):jc(this),this.readyState==3&&KI(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,Eu(this))};O.Ya=function(t){this.g&&(this.response=t,Eu(this))};O.ka=function(){this.g&&Eu(this)};function Eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jc(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function jc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var D$=Y.JSON.parse;function He(t){ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=YI,this.L=this.M=!1}dt(He,ut);var YI="",P$=/^https?$/i,N$=["POST","PUT"];O=He.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Uv.g(),this.C=this.u?Cb(this.u):Cb(Uv),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Rb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=hI(N$,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JI(this),0<this.B&&((this.L=M$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=ww(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Rb(this,s)}};function M$(t){return Sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof lw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wt(this,"timeout"),this.abort(8))};function Rb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XI(t),vp(t)}function XI(t){t.F||(t.F=!0,wt(t,"complete"),wt(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,wt(this,"complete"),wt(this,"abort"),vp(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vp(this,!0)),He.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?ZI(this):this.kb())};O.kb=function(){ZI(this)};function ZI(t){if(t.h&&typeof lw<"u"&&(!t.C[1]||dr(t)!=4||t.da()!=2)){if(t.v&&dr(t)==4)ww(t.La,0,t);else if(wt(t,"readystatechange"),dr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(BI)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!P$.test(i?i.toLowerCase():"")}n=r}if(n)wt(t,"complete"),wt(t,"success");else{t.m=6;try{var s=2<dr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",XI(t)}}finally{vp(t)}}}}function vp(t,e){if(t.g){JI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||wt(t,"ready");try{n.onreadystatechange=r}catch{}}}function JI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function dr(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),D$(e)}};function Ib(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case YI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O$(t){const e={};t=(t.g&&2<=dr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Dc(t[r]))continue;var n=o$(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}JU(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ek(t){let e="";return dw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Cw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ek(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Re(t,e,n))}function gl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tk(t){this.Ga=0,this.j=[],this.l=new cp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gl("baseRetryDelayMs",5e3,t),this.hb=gl("retryDelaySeedMs",1e4,t),this.eb=gl("forwardChannelMaxRetries",2,t),this.xa=gl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zI(t&&t.concurrentRequestLimit),this.Ja=new R$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=tk.prototype;O.ra=8;O.H=1;function xw(t){if(nk(t),t.H==3){var e=t.W++,n=Yr(t.I);if(Re(n,"SID",t.K),Re(n,"RID",e),Re(n,"TYPE","terminate"),_u(t,n),e=new yu(t,t.l,e),e.L=2,e.A=pp(Yr(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.A,n=!0),n||(e.g=uk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),wu(e)}lk(t)}function yp(t){t.g&&(Rw(t),t.g.cancel(),t.g=null)}function nk(t){yp(t),t.u&&(Y.clearTimeout(t.u),t.u=null),qh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function wp(t){if(!WI(t.i)&&!t.m){t.m=!0;var e=t.Na;Nc||TI(),Mc||(Nc(),Mc=!0),vw.add(e,t),t.C=0}}function L$(t,e){return GI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=gu(Nt(t.Na,t,e),ak(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new yu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=gI(s),vI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rk(this,i,e),n=Yr(this.I),Re(n,"RID",t),Re(n,"CVER",22),this.F&&Re(n,"X-HTTP-Session-Id",this.F),_u(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ek(s)))+"&"+e:this.o&&Cw(n,this.o,s)),bw(this.i,i),this.bb&&Re(n,"TYPE","init"),this.P?(Re(n,"$req",e),Re(n,"SID","null"),i.aa=!0,Hv(i,n,null)):Hv(i,n,e),this.H=2}}else this.H==3&&(t?kb(this,t):this.j.length==0||WI(this.i)||kb(this))};function kb(t,e){var n;e?n=e.m:n=t.W++;const r=Yr(t.I);Re(r,"SID",t.K),Re(r,"RID",n),Re(r,"AID",t.V),_u(t,r),t.o&&t.s&&Cw(r,t.o,t.s),n=new yu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bw(t.i,n),Hv(n,r,e)}function _u(t,e){t.na&&dw(t.na,function(n,r){Re(e,r,n)}),t.h&&FI({},function(n,r){Re(e,r,n)})}function rk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{I$(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ik(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Nc||TI(),Mc||(Nc(),Mc=!0),vw.add(e,t),t.A=0}}function Aw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=gu(Nt(t.Ma,t),ak(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,sk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=gu(Nt(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ht(10),yp(this),sk(this))};function Rw(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function sk(t){t.g=new yu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Yr(t.wa);Re(e,"RID","rpc"),Re(e,"SID",t.K),Re(e,"AID",t.V),Re(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Re(e,"TO",t.qa),Re(e,"TYPE","xmlhttp"),_u(t,e),t.o&&t.s&&Cw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=pp(Yr(e)),n.u=null,n.S=!0,OI(n,t)}O.ib=function(){this.v!=null&&(this.v=null,yp(this),Aw(this),Ht(19))};function qh(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function ok(t,e){var n=null;if(t.g==e){qh(t),Rw(t),t.g=null;var r=2}else if(Wv(t.i,e))n=e.F,qI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=up(),wt(r,new kI(r,n)),wp(t)}else ik(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&L$(t,e)||r==2&&Aw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Os(t,5);break;case 4:Os(t,10);break;case 3:Os(t,6);break;default:Os(t,2)}}}function ak(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Os(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nt(t.pb,t);n||(n=new Us("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Wh(n,"https"),pp(n)),k$(n.toString(),r)}else Ht(2);t.H=0,t.h&&t.h.za(e),lk(t),nk(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ht(2)):(this.l.info("Failed to ping google.com"),Ht(1))};function lk(t){if(t.H=0,t.ma=[],t.h){const e=QI(t.i);(e.length!=0||t.j.length!=0)&&(Eb(t.ma,e),Eb(t.ma,t.j),t.i.i.length=0,cw(t.j),t.j.length=0),t.h.ya()}}function ck(t,e,n){var r=n instanceof Us?Yr(n):new Us(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gh(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Us(null);r&&Wh(s,r),e&&(s.g=e),i&&Gh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Re(r,n,e),Re(r,"VER",t.ra),_u(t,r),r}function uk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new He(new mp({ob:n})):new He(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function dk(){}O=dk.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function Qh(){if(Sa&&!(10<=Number(KU)))throw Error("Environmental error: no available transport.")}Qh.prototype.g=function(t,e){return new gn(t,e)};function gn(t,e){ut.call(this),this.g=new tk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Dc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ha(this)}dt(gn,ut);gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ht(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ck(t,null,t.Y),wp(t)};gn.prototype.close=function(){xw(this.g)};gn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=gw(t),t=n);e.j.push(new C$(e.fb++,t)),e.H==3&&wp(e)};gn.prototype.N=function(){this.g.h=null,delete this.j,xw(this.g),delete this.g,gn.$.N.call(this)};function hk(t){_w.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}dt(hk,_w);function fk(){Sw.call(this),this.status=1}dt(fk,Sw);function Ha(t){this.g=t}dt(Ha,dk);Ha.prototype.Ba=function(){wt(this.g,"a")};Ha.prototype.Aa=function(t){wt(this.g,new hk(t))};Ha.prototype.za=function(t){wt(this.g,new fk)};Ha.prototype.ya=function(){wt(this.g,"b")};function V$(){this.blockSize=-1}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}dt(Xn,V$);Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $m(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Xn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)$m(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$m(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$m(this,r),i=0;break}}this.h=i,this.i+=e};Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function _e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var j$={};function Iw(t){return-128<=t&&128>t?GU(t,function(e){return new _e([e|0],0>e?-1:0)}):new _e([t|0],0>t?-1:0)}function hr(t){if(isNaN(t)||!isFinite(t))return aa;if(0>t)return gt(hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Gv;return new _e(e,0)}function pk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return gt(pk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hr(Math.pow(e,8)),r=aa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=hr(Math.pow(e,s)),r=r.R(s).add(hr(o))):(r=r.R(n),r=r.add(hr(o)))}return r}var Gv=4294967296,aa=Iw(0),qv=Iw(1),Db=Iw(16777216);O=_e.prototype;O.ea=function(){if(In(this))return-gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Gv+r)*e,e*=Gv}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Or(this))return"0";if(In(this))return"-"+gt(this).toString(t);for(var e=hr(Math.pow(t,6)),n=this,r="";;){var i=Yh(n,e).g;n=Kh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Or(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function In(t){return t.h==-1}O.X=function(t){return t=Kh(this,t),In(t)?-1:Or(t)?0:1};function gt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new _e(n,~t.h).add(qv)}O.abs=function(){return In(this)?gt(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new _e(n,n[n.length-1]&-2147483648?-1:0)};function Kh(t,e){return t.add(gt(e))}O.R=function(t){if(Or(this)||Or(t))return aa;if(In(this))return In(t)?gt(this).R(gt(t)):gt(gt(this).R(t));if(In(t))return gt(this.R(gt(t)));if(0>this.X(Db)&&0>t.X(Db))return hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,vd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,vd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,vd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,vd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new _e(n,0)};function vd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function vl(t,e){this.g=t,this.h=e}function Yh(t,e){if(Or(e))throw Error("division by zero");if(Or(t))return new vl(aa,aa);if(In(t))return e=Yh(gt(t),e),new vl(gt(e.g),gt(e.h));if(In(e))return e=Yh(t,gt(e)),new vl(gt(e.g),e.h);if(30<t.g.length){if(In(t)||In(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qv,r=e;0>=r.X(t);)n=Pb(n),r=Pb(r);var i=Co(n,1),s=Co(r,1);for(r=Co(r,2),n=Co(n,2);!Or(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Co(r,1),n=Co(n,1)}return e=Kh(t,i.R(e)),new vl(i,e)}for(i=aa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=hr(n),o=s.R(e);In(o)||0<o.X(t);)n-=r,s=hr(n),o=s.R(e);Or(s)&&(s=qv),i=i.add(s),t=Kh(t,o)}return new vl(i,t)}O.gb=function(t){return Yh(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new _e(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new _e(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new _e(n,this.h^t.h)};function Pb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new _e(n,t.h)}function Co(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new _e(i,t.h)}Qh.prototype.createWebChannel=Qh.prototype.g;gn.prototype.send=gn.prototype.u;gn.prototype.open=gn.prototype.m;gn.prototype.close=gn.prototype.close;dp.NO_ERROR=0;dp.TIMEOUT=8;dp.HTTP_ERROR=6;DI.COMPLETE="complete";PI.EventType=vu;vu.OPEN="a";vu.CLOSE="b";vu.ERROR="c";vu.MESSAGE="d";ut.prototype.listen=ut.prototype.O;He.prototype.listenOnce=He.prototype.P;He.prototype.getLastError=He.prototype.Sa;He.prototype.getLastErrorCode=He.prototype.Ia;He.prototype.getStatus=He.prototype.da;He.prototype.getResponseJson=He.prototype.Wa;He.prototype.getResponseText=He.prototype.ja;He.prototype.send=He.prototype.ha;He.prototype.setWithCredentials=He.prototype.Oa;Xn.prototype.digest=Xn.prototype.l;Xn.prototype.reset=Xn.prototype.reset;Xn.prototype.update=Xn.prototype.j;_e.prototype.add=_e.prototype.add;_e.prototype.multiply=_e.prototype.R;_e.prototype.modulo=_e.prototype.gb;_e.prototype.compare=_e.prototype.X;_e.prototype.toNumber=_e.prototype.ea;_e.prototype.toString=_e.prototype.toString;_e.prototype.getBits=_e.prototype.D;_e.fromNumber=hr;_e.fromString=pk;var F$=function(){return new Qh},B$=function(){return up()},Hm=dp,U$=DI,$$=co,Nb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yd=PI,H$=He,z$=Xn,la=_e;const Mb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new K0("@firebase/firestore");function yl(){return Js.logLevel}function j(t,...e){if(Js.logLevel<=ae.DEBUG){const n=e.map(kw);Js.debug(`Firestore (${za}): ${t}`,...n)}}function Xr(t,...e){if(Js.logLevel<=ae.ERROR){const n=e.map(kw);Js.error(`Firestore (${za}): ${t}`,...n)}}function ba(t,...e){if(Js.logLevel<=ae.WARN){const n=e.map(kw);Js.warn(`Firestore (${za}): ${t}`,...n)}}function kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t="Unexpected state"){const e=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function xe(t,e){t||K()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class G${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q${constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new mk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new It(e)}}class Q${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Q$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new Y$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Z$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new nt(0,0))}static max(){return new Z(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ie extends Fc{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const J$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Fc{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return J$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new V(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new V(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.path=e}static fromPath(e){return new U(Ie.fromString(e))}static fromName(e){return new U(Ie.fromString(e).popFirst(5))}static empty(){return new U(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new Ie(e.slice()))}}function eH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new ts(i,U.empty(),e)}function tH(t){return new ts(t.readTime,t.key,-1)}class ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ts(Z.min(),U.empty(),-1)}static max(){return new ts(Z.max(),U.empty(),-1)}}function nH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==rH)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,r)=>{n(e)})}static reject(e){return new k((n,r)=>{r(e)})}static waitFor(e){return new k((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=k.resolve(!1);for(const r of e)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new k((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Dw._e=-1;function Ep(t){return t==null}function Xh(t){return t===0&&1/t==-1/0}function sH(t){return typeof t=="number"&&Number.isInteger(t)&&!Xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lb(this.data.getIterator())}getIteratorFrom(e){return new Lb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Lb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Et(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yk("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const oH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(xe(!!t),typeof t=="string"){let e=0;const n=oH.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nw(t){const e=t.mapValue.fields.__previous_value__;return Pw(e)?Nw(e):e}function Bc(t){const e=ns(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Uc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pw(t)?4:lH(t)?9007199254740991:10:K()}function _r(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bc(t).isEqual(Bc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ns(i.timestampValue),a=ns(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return eo(i.bytesValue).isEqual(eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Xh(o)===Xh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ob(o)!==Ob(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!_r(o[l],a[l])))return!1;return!0}(t,e);default:return K()}}function $c(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Ca(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Vb(t.timestampValue,e.timestampValue);case 4:return Vb(Bc(t),Bc(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=eo(s),l=eo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ge(a[c],l[c]);if(u!==0)return u}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(Qe(s.latitude),Qe(o.latitude));return a!==0?a:ge(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Ca(a[c],l[c]);if(u)return u}return ge(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ed.mapValue&&o===Ed.mapValue)return 0;if(s===Ed.mapValue)return 1;if(o===Ed.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=ge(l[d],u[d]);if(h!==0)return h;const f=Ca(a[l[d]],c[u[d]]);if(f!==0)return f}return ge(l.length,u.length)}(t.mapValue,e.mapValue);default:throw K()}}function Vb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=ns(t),r=ns(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function xa(t){return Qv(t)}function Qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qv(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kv(t){return!!t&&"integerValue"in t}function Mw(t){return!!t&&"arrayValue"in t}function Fb(t){return!!t&&"nullValue"in t}function Bb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function Kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Kl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kn(Kl(this.value))}}function wk(t){const e=[];return Wa(t.fields,(n,r)=>{const i=new vt([n]);if(eh(r)){const s=wk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,Z.min(),Z.min(),Z.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,Z.min(),Z.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,Z.min(),Z.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function Ub(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=Ca(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $b(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function cH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{}class Ye extends Ek{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dH(e,n,r):n==="array-contains"?new pH(e,r):n==="in"?new mH(e,r):n==="not-in"?new gH(e,r):n==="array-contains-any"?new vH(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hH(e,r):new fH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ca(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(Ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Ek{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Zn(e,n)}matches(e){return _k(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _k(t){return t.op==="and"}function Sk(t){return uH(t)&&_k(t)}function uH(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Yv(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+xa(t.value);if(Sk(t))return t.filters.map(e=>Yv(e)).join(",");{const e=t.filters.map(n=>Yv(n)).join(",");return`${t.op}(${e})`}}function bk(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&bk(o,i.filters[a]),!0):!1}(t,e):void K()}function Tk(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${xa(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(Tk).join(" ,")+"}"}(t):"Filter"}class dH extends Ye{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class hH extends Ye{constructor(e,n){super(e,"in",n),this.keys=Ck("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fH extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=Ck("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ck(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class pH extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mw(n)&&$c(n.arrayValue,this.value)}}class mH extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$c(this.value.arrayValue,n)}}class gH extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$c(this.value.arrayValue,n)}}class vH extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$c(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Hb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yH(t,e,n,r,i,s,o)}function Ow(t){const e=J(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xa(r)).join(",")),e.ce=n}return e.ce}function Lw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$b(t.startAt,e.startAt)&&$b(t.endAt,e.endAt)}function Xv(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function wH(t,e,n,r,i,s,o,a){return new Tu(t,e,n,r,i,s,o,a)}function Vw(t){return new Tu(t)}function zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xk(t){return t.collectionGroup!==null}function Yl(t){const e=J(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Jh(s,r))}),n.has(vt.keyField().canonicalString())||e.le.push(new Jh(vt.keyField(),r))}return e.le}function vr(t){const e=J(t);return e.he||(e.he=EH(e,Yl(t))),e.he}function EH(t,e){if(t.limitType==="F")return Hb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Jh(i.field,s)});const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return Hb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zv(t,e){const n=t.filters.concat([e]);return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jv(t,e,n){return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _p(t,e){return Lw(vr(t),vr(e))&&t.limitType===e.limitType}function Ak(t){return`${Ow(vr(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Tk(i)).join(", ")}]`),Ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xa(i)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function Sp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Yl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Ub(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Yl(r),i)||r.endAt&&!function(o,a,l){const c=Ub(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Yl(r),i))}(t,e)}function _H(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rk(t){return(e,n)=>{let r=!1;for(const i of Yl(t)){const s=SH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SH(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ca(l,c):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return vk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=new Be(U.comparator);function Zr(){return bH}const Ik=new Be(U.comparator);function Nl(...t){let e=Ik;for(const n of t)e=e.insert(n.key,n);return e}function kk(t){let e=Ik;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return Xl()}function Dk(){return Xl()}function Xl(){return new Ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const TH=new Be(U.comparator),CH=new Et(U.comparator);function ie(...t){let e=CH;for(const n of t)e=e.add(n);return e}const xH=new Et(ge);function AH(){return xH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function Nk(t){return{integerValue:""+t}}function RH(t,e){return sH(e)?Nk(e):Pk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this._=void 0}}function IH(t,e,n){return t instanceof ef?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Pw(s)&&(s=Nw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Hc?Ok(t,e):t instanceof zc?Lk(t,e):function(i,s){const o=Mk(i,s),a=Wb(o)+Wb(i.Ie);return Kv(o)&&Kv(i.Ie)?Nk(a):Pk(i.serializer,a)}(t,e)}function kH(t,e,n){return t instanceof Hc?Ok(t,e):t instanceof zc?Lk(t,e):n}function Mk(t,e){return t instanceof tf?function(r){return Kv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ef extends bp{}class Hc extends bp{constructor(e){super(),this.elements=e}}function Ok(t,e){const n=Vk(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class zc extends bp{constructor(e){super(),this.elements=e}}function Lk(t,e){let n=Vk(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class tf extends bp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Wb(t){return Qe(t.integerValue||t.doubleValue)}function Vk(t){return Mw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hc&&i instanceof Hc||r instanceof zc&&i instanceof zc?Ta(r.elements,i.elements,_r):r instanceof tf&&i instanceof tf?_r(r.Ie,i.Ie):r instanceof ef&&i instanceof ef}(t.transform,e.transform)}class PH{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tp{}function jk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jw(t.key,yr.none()):new Cu(t.key,t.data,yr.none());{const n=t.data,r=kn.empty();let i=new Et(vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new uo(t.key,r,new Wn(i.toArray()),yr.none())}}function NH(t,e,n){t instanceof Cu?function(i,s,o){const a=i.value.clone(),l=qb(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(i,s,o){if(!th(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qb(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Fk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n,r){return t instanceof Cu?function(s,o,a,l){if(!th(s.precondition,o))return a;const c=s.value.clone(),u=Qb(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(s,o,a,l){if(!th(s.precondition,o))return a;const c=Qb(s.fieldTransforms,l,o),u=o.data;return u.setAll(Fk(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return th(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function MH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Mk(r.transform,i||null);s!=null&&(n===null&&(n=kn.empty()),n.set(r.field,s))}return n||null}function Gb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ta(r,i,(s,o)=>DH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends Tp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uo extends Tp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Fk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qb(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kH(o,a,n[i]))}return r}function Qb(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,IH(s,o,e))}return r}class jw extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OH extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&NH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=jk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,r)=>Gb(n,r))&&Ta(this.baseMutations,e.baseMutations,(n,r)=>Gb(n,r))}}class Fw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return TH}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,ce;function FH(t){switch(t){default:return K();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function Bk(t){if(t===void 0)return Xr("GRPC error has no .code"),I.UNKNOWN;switch(t){case Ge.OK:return I.OK;case Ge.CANCELLED:return I.CANCELLED;case Ge.UNKNOWN:return I.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return I.INTERNAL;case Ge.UNAVAILABLE:return I.UNAVAILABLE;case Ge.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Ge.NOT_FOUND:return I.NOT_FOUND;case Ge.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Ge.ABORTED:return I.ABORTED;case Ge.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Ge.DATA_LOSS:return I.DATA_LOSS;default:return K()}}(ce=Ge||(Ge={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=new la([4294967295,4294967295],0);function Kb(t){const e=BH().encode(t),n=new z$;return n.update(e),new Uint8Array(n.digest())}function Yb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new la([n,r],0),new la([i,s],0)]}class Bw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=la.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(la.fromNumber(r)));return i.compare(UH)===1&&(i=new la([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Kb(e),[r,i]=Yb(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Bw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Kb(e),[r,i]=Yb(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cp(Z.min(),i,new Be(ge),Zr(),ie())}}class xu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Uk{constructor(e,n){this.targetId=e,this.fe=n}}class $k{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xb{constructor(){this.ge=0,this.pe=Jb(),this.ye=jt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ie(),n=ie(),r=ie();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new xu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Jb()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class $H{constructor(e){this.Le=e,this.ke=new Map,this.qe=Zr(),this.Qe=Zb(),this.Ke=new Be(ge)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Xv(s))if(r===0){const o=new U(s.path);this.We(n,o,Dt.newNoDocument(o,Z.min()))}else xe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=eo(r).toUint8Array()}catch(l){if(l instanceof yk)return ba("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bw(o,i,s)}catch(l){return ba(l instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Xv(a.target)){const l=new U(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Dt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ie();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Cp(e,n,this.Ke,this.qe,r);return this.qe=Zr(),this.Qe=Zb(),this.Ke=new Be(ge),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Xb,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Et(ge),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Xb),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zb(){return new Be(U.comparator)}function Jb(){return new Be(U.comparator)}const HH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),zH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),WH=(()=>({and:"AND",or:"OR"}))();class GH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ey(t,e){return t.useProto3Json||Ep(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qH(t,e){return nf(t,e.toTimestamp())}function wr(t){return xe(!!t),Z.fromTimestamp(function(n){const r=ns(n);return new nt(r.seconds,r.nanos)}(t))}function Uw(t,e){return function(r){return new Ie(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function zk(t){const e=Ie.fromString(t);return xe(Qk(e)),e}function ty(t,e){return Uw(t.databaseId,e.path)}function zm(t,e){const n=zk(e);if(n.get(1)!==t.databaseId.projectId)throw new V(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(Wk(n))}function ny(t,e){return Uw(t.databaseId,e)}function QH(t){const e=zk(t);return e.length===4?Ie.emptyPath():Wk(e)}function ry(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wk(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eT(t,e,n){return{name:ty(t,e),fields:n.value.mapValue.fields}}function KH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(xe(u===void 0||typeof u=="string"),jt.fromBase64String(u||"")):(xe(u===void 0||u instanceof Uint8Array),jt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?I.UNKNOWN:Bk(c.code);return new V(u,c.message||"")}(o);n=new $k(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zm(t,r.document.name),s=wr(r.document.updateTime),o=r.document.createTime?wr(r.document.createTime):Z.min(),a=new kn({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new nh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zm(t,r.document),s=r.readTime?wr(r.readTime):Z.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zm(t,r.document),s=r.removedTargetIds||[];n=new nh([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jH(i,s),a=r.targetId;n=new Uk(a,o)}}return n}function YH(t,e){let n;if(e instanceof Cu)n={update:eT(t,e.key,e.value)};else if(e instanceof jw)n={delete:ty(t,e.key)};else if(e instanceof uo)n={update:eT(t,e.key,e.data),updateMask:sz(e.fieldMask)};else{if(!(e instanceof OH))return K();n={verify:ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ef)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function XH(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?wr(i.updateTime):wr(s);return o.isEqual(Z.min())&&(o=wr(s)),new PH(o,i.transformResults||[])}(n,e))):[]}function ZH(t,e){return{documents:[ny(t,e.path)]}}function JH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ny(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ny(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return qk(Zn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:ko(d.field),direction:nz(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ey(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ez(t){let e=QH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=Gk(d);return h instanceof Zn&&Sk(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Jh(Do(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ep(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Zh(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new Zh(f,h)}(n.endAt)),wH(e,i,o,s,a,"F",l,c)}function tz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Do(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Do(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Do(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Do(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Do(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>Gk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function nz(t){return HH[t]}function rz(t){return zH[t]}function iz(t){return WH[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Do(t){return vt.fromServerFormat(t.fieldPath)}function qk(t){return t instanceof Ye?function(n){if(n.op==="=="){if(Bb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(Fb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(Fb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:rz(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>qk(i));return r.length===1?r[0]:{compositeFilter:{op:iz(n.op),filters:r}}}(t):K()}function sz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Qk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.ut=e}}function az(t){const e=ez({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(){this.on=new cz}addToCollectionParentIndex(e,n){return this.on.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(ts.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class cz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Aa(0)}static Nn(){return new Aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.changes=new Ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zl(r.mutation,i,Wn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zr();const o=Xl(),a=function(){return Xl()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof uo)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Zl(u.mutation,c,u.mutation.getFieldMask(),nt.now())):o.set(c.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new dz(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xl();let i=new Be((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Wn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ie()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Dk();u.forEach(h=>{if(!s.has(h)){const f=jk(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve(Ls());let a=-1,l=s;return o.next(c=>k.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?k.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ie())).next(u=>({batchId:a,changes:kk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=Nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nl();return this.indexManager.getCollectionParents(e,s).next(a=>k.forEach(a,l=>{const c=function(d,h){return new Tu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Dt.newInvalidDocument(u)))});let a=Nl();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Zl(u.mutation,c,Wn.empty(),nt.now()),Sp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return k.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:az(i.bundledQuery),readTime:wr(i.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.overlays=new Be(U.comparator),this.lr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ls(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ls(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return k.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VH(n,r));let s=this.lr.get(n);s===void 0&&(s=ie(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.hr=new Et(ot.Pr),this.Ir=new Et(ot.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ot(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new U(new Ie([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new U(new Ie([])),r=new ot(n,e),i=new ot(n,e+1);let s=ie();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return U.comparator(e.key,n.key)||ge(e.gr,n.gr)}static Tr(e,n){return ge(e.gr,n.gr)||U.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Et(ot.Pr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LH(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(ge);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),k.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new ot(new U(s),0);let a=new Et(ge);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),k.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return k.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ot(n,0),i=this.yr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.Cr=e,this.docs=function(){return new Be(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zr();const o=n.path,a=new U(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||nH(tH(u),r)<=0||(i.has(u.key)||Sp(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}vr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vz(this)}getSize(e){return k.resolve(this.size)}}class vz extends uz{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.persistence=e,this.Fr=new Ga(n=>Ow(n),Lw),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new $w,this.targetCount=0,this.Nr=Aa.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),k.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.kn(n),k.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),k.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Dw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new yz(this),this.indexManager=new lz,this.remoteDocumentCache=function(i){return new gz(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new oz(n),this.Kr=new fz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new mz(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new Ez(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Ez extends iH{constructor(e){super(),this.currentSequenceNumber=e}}class Hw{constructor(e){this.persistence=e,this.Gr=new $w,this.zr=null}static jr(e){return new Hw(e)}get Hr(){if(this.zr)return this.zr;throw K()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),k.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,r=>{const i=U.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return k.or([()=>k.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _z;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(yl()<=ae.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(yl()<=ae.DEBUG&&j("QueryEngine","Query:",Io(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(yl()<=ae.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):k.resolve())}zi(e,n){if(zb(n))return k.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jv(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,Jv(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return zb(n)||i.isEqual(Z.min())?k.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?k.resolve(null):(yl()<=ae.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Io(n)),this.Xi(e,o,n,eH(i,-1)).next(a=>a))})}Yi(e,n){let r=new Et(Rk(e));return n.forEach((i,s)=>{Sp(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return yl()<=ae.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Io(n)),this.Gi.getDocumentsMatchingQuery(e,n,ts.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Be(ge),this.ns=new Ga(s=>Ow(s),Lw),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Tz(t,e,n,r){return new bz(t,e,n,r)}async function Kk(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ie();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function Cz(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=k.resolve();return h.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(v=>{const E=c.docVersions.get(g);xe(E!==null),v.version.compareTo(E)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Yk(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function xz(t,e){const n=J(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(jt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(v,E,w){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,f,u)&&a.push(n.qr.updateTargetData(s,f))});let l=Zr(),c=ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Az(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(Z.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function Az(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function Rz(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Iz(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function iy(t,e,n){const r=J(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bu(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function tT(t,e,n){const r=J(t);let i=Z.min(),s=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=J(l),h=d.ns.get(u);return h!==void 0?k.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(r,o,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ie())).next(a=>(kz(r,_H(e),a),{documents:a,ls:s})))}function kz(t,e,n){let r=t.rs.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class nT{constructor(){this.activeTargetIds=AH()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dz{constructor(){this.eo=new nT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new nT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function Wm(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class Oz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Wm(),l=this.So(n,r);j("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,i).then(u=>(j("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ba("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=Nz[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Wm();return new Promise((o,a)=>{const l=new H$;l.setWithCredentials(!0),l.listenOnce(U$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Hm.NO_ERROR:const u=l.getResponseJson();j(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Hm.TIMEOUT:j(At,`RPC '${e}' ${s} timed out`),a(new V(I.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:const d=l.getStatus();if(j(At,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(w)>=0?w:I.UNKNOWN}(f.status);a(new V(g,f.message))}else a(new V(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new V(I.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{j(At,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);j(At,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=Wm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=F$(),a=B$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");j(At,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const g=new Mz({co:E=>{f?j(At,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(j(At,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),j(At,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},lo:()=>d.close()}),v=(E,w,y)=>{E.listen(w,_=>{try{y(_)}catch(S){setTimeout(()=>{throw S},0)}})};return v(d,yd.EventType.OPEN,()=>{f||j(At,`RPC '${e}' stream ${i} transport opened.`)}),v(d,yd.EventType.CLOSE,()=>{f||(f=!0,j(At,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),v(d,yd.EventType.ERROR,E=>{f||(f=!0,ba(At,`RPC '${e}' stream ${i} transport errored:`,E),g.Ro(new V(I.UNAVAILABLE,"The operation could not be completed")))}),v(d,yd.EventType.MESSAGE,E=>{var w;if(!f){const y=E.data[0];xe(!!y);const _=y,S=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(S){j(At,`RPC '${e}' stream ${i} received error:`,S);const T=S.status;let C=function(N){const M=Ge[N];if(M!==void 0)return Bk(M)}(T),x=S.message;C===void 0&&(C=I.INTERNAL,x="Unknown error status: "+T+" with message "+S.message),f=!0,g.Ro(new V(C,x)),d.close()}else j(At,`RPC '${e}' stream ${i} received:`,y),g.Vo(y)}}),v(a,$$.STAT_EVENT,E=>{E.stat===Nb.PROXY?j(At,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Nb.NOPROXY&&j(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){return new GH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Xk(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new V(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lz extends Zk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=KH(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?wr(o.readTime):Z.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=ry(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Xv(l)?{documents:ZH(s,l)}:{query:JH(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Hk(s,o.resumeToken);const c=ey(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=nf(s,o.snapshotVersion.toTimestamp());const c=ey(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=tz(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=ry(this.serializer),n.removeTarget=e,this.e_(n)}}class Vz extends Zk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=XH(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.I_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ry(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YH(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new V(I.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(I.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(I.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Fz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xr(n),this.f_=!1):j("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{ho(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=J(l);c.C_.add(4),await Au(c),c.M_.set("Unknown"),c.C_.delete(4),await Ap(c)}(this))})}),this.M_=new Fz(r,i)}}async function Ap(t){if(ho(t))for(const e of t.v_)await e(!0)}async function Au(t){for(const e of t.v_)await e(!1)}function Jk(t,e){const n=J(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),qw(n)?Gw(n):qa(n).Ho()&&Ww(n,e))}function eD(t,e){const n=J(t),r=qa(n);n.D_.delete(e),r.Ho()&&tD(n,e),n.D_.size===0&&(r.Ho()?r.Zo():ho(n)&&n.M_.set("Unknown"))}function Ww(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).u_(e)}function tD(t,e){t.x_.Oe(e),qa(t).c_(e)}function Gw(t){t.x_=new $H({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.M_.g_()}function qw(t){return ho(t)&&!qa(t).jo()&&t.D_.size>0}function ho(t){return J(t).C_.size===0}function nD(t){t.x_=void 0}async function Uz(t){t.D_.forEach((e,n)=>{Ww(t,e)})}async function $z(t,e){nD(t),qw(t)?(t.M_.w_(e),Gw(t)):t.M_.set("Unknown")}async function Hz(t,e,n){if(t.M_.set("Online"),e instanceof $k&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(t,r)}else if(e instanceof nh?t.x_.$e(e):e instanceof Uk?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Z.min()))try{const r=await Yk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(jt.EMPTY_BYTE_STRING,u.snapshotVersion)),tD(s,l);const d=new Di(u.target,l,c,u.sequenceNumber);Ww(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await rf(t,r)}}async function rf(t,e,n){if(!bu(e))throw e;t.C_.add(1),await Au(t),t.M_.set("Offline"),n||(n=()=>Yk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Ap(t)})}function rD(t,e){return e().catch(n=>rf(t,n,e))}async function Rp(t){const e=J(t),n=rs(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;zz(e);)try{const i=await Rz(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Wz(e,i)}catch(i){await rf(e,i)}iD(e)&&sD(e)}function zz(t){return ho(t)&&t.b_.length<10}function Wz(t,e){t.b_.push(e);const n=rs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function iD(t){return ho(t)&&!rs(t).jo()&&t.b_.length>0}function sD(t){rs(t).start()}async function Gz(t){rs(t).E_()}async function qz(t){const e=rs(t);for(const n of t.b_)e.P_(n.mutations)}async function Qz(t,e,n){const r=t.b_.shift(),i=Fw.from(r,e,n);await rD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rp(t)}async function Kz(t,e){e&&rs(t).h_&&await async function(r,i){if(function(o){return FH(o)&&o!==I.ABORTED}(i.code)){const s=r.b_.shift();rs(r).Yo(),await rD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Rp(r)}}(t,e),iD(t)&&sD(t)}async function iT(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=ho(n);n.C_.add(3),await Au(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Ap(n)}async function Yz(t,e){const n=J(t);e?(n.C_.delete(2),await Ap(n)):e||(n.C_.add(2),await Au(n),n.M_.set("Unknown"))}function qa(t){return t.O_||(t.O_=function(n,r,i){const s=J(n);return s.A_(),new Lz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Uz.bind(null,t),Io:$z.bind(null,t),a_:Hz.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),qw(t)?Gw(t):t.M_.set("Unknown")):(await t.O_.stop(),nD(t))})),t.O_}function rs(t){return t.N_||(t.N_=function(n,r,i){const s=J(n);return s.A_(),new Vz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Gz.bind(null,t),Io:Kz.bind(null,t),T_:qz.bind(null,t),I_:Qz.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Rp(t)):(await t.N_.stop(),t.b_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Qw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kw(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),bu(t))return new V(I.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=Nl(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new ca(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.B_=new Be(U.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):K():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ra(e,n,ca.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.k_=void 0,this.listeners=[]}}class Zz{constructor(){this.queries=new Ga(e=>Ak(e),_p),this.onlineState="Unknown",this.q_=new Set}}async function oD(t,e){const n=J(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Xz),i)try{s.k_=await n.onListen(r)}catch(o){const a=Kw(o,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&Yw(n)}async function aD(t,e){const n=J(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Jz(t,e){const n=J(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Yw(n)}function e3(t,e,n){const r=J(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Yw(t){t.q_.forEach(e=>{e.next()})}class lD{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.key=e}}class uD{constructor(e){this.key=e}}class t3{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ie(),this.mutatedKeys=ie(),this._a=Rk(e),this.aa=new ca(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new sT,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Sp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),E=!0):this.ha(h,f)||(r.track({type:2,doc:f}),E=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(f?(o=o.add(f),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,d)=>function(f,g){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return v(f)-v(g)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,c=l!==this.sa;return this.sa=l,o.length!==0||c?{snapshot:new Ra(this.query,e.aa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new sT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ie(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new uD(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new cD(r))}),n}da(e){this.ia=e.ls,this.oa=ie();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ra.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class n3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class r3{constructor(e){this.key=e,this.Ra=!1}}class i3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ga(a=>Ak(a),_p),this.fa=new Map,this.ga=new Set,this.pa=new Be(U.comparator),this.ya=new Map,this.wa=new $w,this.Sa={},this.ba=new Map,this.Da=Aa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function s3(t,e){const n=m3(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await Iz(n.localStore,vr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await o3(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Jk(n.remoteStore,o)}return i}async function o3(t,e,n,r,i){t.va=(d,h,f)=>async function(v,E,w,y){let _=E.view.ca(w);_.Zi&&(_=await tT(v.localStore,E.query,!1).then(({documents:x})=>E.view.ca(x,_)));const S=y&&y.targetChanges.get(E.targetId),T=y&&y.targetMismatches.get(E.targetId)!=null,C=E.view.applyChanges(_,v.isPrimaryClient,S,T);return aT(v,E.targetId,C.Ta),C.snapshot}(t,d,h,f);const s=await tT(t.localStore,e,!0),o=new t3(e,s.ls),a=o.ca(s.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);aT(t,n,c.Ta);const u=new n3(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function a3(t,e){const n=J(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!_p(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await iy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),eD(n.remoteStore,r.targetId),sy(n,r.targetId)}).catch(Su)):(sy(n,r.targetId),await iy(n.localStore,r.targetId,!0))}async function l3(t,e,n){const r=g3(t);try{const i=await function(o,a){const l=J(o),c=nt.now(),u=a.reduce((f,g)=>f.add(g.key),ie());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Zr(),v=ie();return l.ss.getEntries(f,u).next(E=>{g=E,g.forEach((w,y)=>{y.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(E=>{d=E;const w=[];for(const y of a){const _=MH(y,d.get(y.key).overlayedDocument);_!=null&&w.push(new uo(y.key,_,wk(_.value.mapValue),yr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,w,a)}).next(E=>{h=E;const w=E.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,E.batchId,w)})}).then(()=>({batchId:h.batchId,changes:kk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Be(ge)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ru(r,i.changes),await Rp(r.remoteStore)}catch(i){const s=Kw(i,"Failed to persist write");n.reject(s)}}async function dD(t,e){const n=J(t);try{const r=await xz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?xe(o.Ra):i.removedDocuments.size>0&&(xe(o.Ra),o.Ra=!1))}),await Ru(n,r,e)}catch(r){await Su(r)}}function oT(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=J(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&Yw(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function c3(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Be(U.comparator);o=o.insert(s,Dt.newNoDocument(s,Z.min()));const a=ie().add(s),l=new Cp(Z.min(),new Map,new Be(ge),o,a);await dD(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),Xw(r)}else await iy(r.localStore,e,!1).then(()=>sy(r,e,n)).catch(Su)}async function u3(t,e){const n=J(t),r=e.batch.batchId;try{const i=await Cz(n.localStore,e);fD(n,r,null),hD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(n,i)}catch(i){await Su(i)}}async function d3(t,e,n){const r=J(t);try{const i=await function(o,a){const l=J(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(xe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);fD(r,e,n),hD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ru(r,i)}catch(i){await Su(i)}}function hD(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function fD(t,e,n){const r=J(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||pD(t,r)})}function pD(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(eD(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Xw(t))}function aT(t,e,n){for(const r of n)r instanceof cD?(t.wa.addReference(r.key,e),h3(t,r)):r instanceof uD?(j("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||pD(t,r.key)):K()}function h3(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(j("SyncEngine","New document in limbo: "+n),t.ga.add(r),Xw(t))}function Xw(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new U(Ie.fromString(e)),r=t.Da.next();t.ya.set(r,new r3(n)),t.pa=t.pa.insert(n,r),Jk(t.remoteStore,new Di(vr(Vw(n.path)),r,"TargetPurposeLimboResolution",Dw._e))}}async function Ru(t,e,n){const r=J(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=zw.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,c){const u=J(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>k.forEach(c,h=>k.forEach(h.ki,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>k.forEach(h.qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!bu(d))throw d;j("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.ts.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);u.ts=u.ts.insert(h,v)}}}(r.localStore,s))}async function f3(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await Kk(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new V(I.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ru(n,r._s)}}function p3(t,e){const n=J(t),r=n.ya.get(e);if(r&&r.Ra)return ie().add(r.key);{let i=ie();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function m3(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c3.bind(null,e),e.Va.a_=Jz.bind(null,e.eventManager),e.Va.Fa=e3.bind(null,e.eventManager),e}function g3(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d3.bind(null,e),e}class lT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=xp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Tz(this.persistence,new Sz,e.initialUser,this.serializer)}createPersistence(e){return new wz(Hw.jr,this.serializer)}createSharedClientState(e){return new Dz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class v3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f3.bind(null,this.syncEngine),await Yz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zz}()}createDatastore(e){const n=xp(e.databaseInfo.databaseId),r=function(s){return new Oz(s)}(e.databaseInfo);return function(s,o,a,l){return new jz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Bz(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oT(this.syncEngine,n,0),function(){return rT.D()?new rT:new Pz}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new i3(i,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=J(n);j("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Au(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=gk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qm(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E3(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>iT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>iT(e.remoteStore,s)),t._onlineComponents=e}function w3(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function E3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!w3(n))throw n;ba("Error using user provided cache. Falling back to memory cache: "+n),await qm(t,new lT)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await qm(t,new lT);return t._offlineComponents}async function gD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await cT(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await cT(t,new v3))),t._onlineComponents}function _3(t){return gD(t).then(e=>e.syncEngine)}async function vD(t){const e=await gD(t),n=e.eventManager;return n.onListen=s3.bind(null,e.syncEngine),n.onUnlisten=a3.bind(null,e.syncEngine),n}function S3(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new mD({next:h=>{o.enqueueAndForget(()=>aD(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new V(I.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?c.reject(new V(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new lD(Vw(a.path),u,{includeMetadataChanges:!0,J_:!0});return oD(s,d)}(await vD(t),t.asyncQueue,e,n,r)),r.promise}function b3(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new mD({next:h=>{o.enqueueAndForget(()=>aD(s,d)),h.fromCache&&l.source==="server"?c.reject(new V(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new lD(a,u,{includeMetadataChanges:!0,J_:!0});return oD(s,d)}(await vD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e,n){if(!n)throw new V(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T3(t,e,n,r){if(e===!0&&r===!0)throw new V(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dT(t){if(!U.isDocumentKey(t))throw new V(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hT(t){if(U.isDocumentKey(t))throw new V(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ip(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function is(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ip(t);throw new V(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(I.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W$;switch(r.type){case"firstParty":return new K$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uT.get(n);r&&(j("ComponentProvider","Removing Datastore"),uT.delete(n),r.terminate())}(this),Promise.resolve()}}function C3(t,e,n,r={}){var i;const s=(t=is(t,kp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=It.MOCK_USER;else{a=tF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new V(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new It(c)}t._authCredentials=new G$(new mk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qa(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class qi extends Qa{constructor(e,n,r){super(e,n,Vw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new U(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function oy(t,e,...n){if(t=qt(t),wD("collection","path",e),t instanceof kp){const r=Ie.fromString(e,...n);return hT(r),new qi(t,null,r)}{if(!(t instanceof sn||t instanceof qi))throw new V(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return hT(r),new qi(t.firestore,null,r)}}function Vn(t,e,...n){if(t=qt(t),arguments.length===1&&(e=gk.newId()),wD("doc","path",e),t instanceof kp){const r=Ie.fromString(e,...n);return dT(r),new sn(t,null,new U(r))}{if(!(t instanceof sn||t instanceof qi))throw new V(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return dT(r),new sn(t.firestore,t instanceof qi?t.converter:null,new U(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Xk(this,"async_queue_retry"),this.iu=()=>{const n=Gm();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Gm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Fr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!bu(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Qw.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&K()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Iu extends kp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new x3}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ED(this),this._firestoreClient.terminate()}}function A3(t,e){const n=typeof t=="object"?t:DR(),r=typeof t=="string"?t:e||"(default)",i=X0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Jj("firestore");s&&C3(i,...s)}return i}function Zw(t){return t._firestoreClient||ED(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ED(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new aH(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new y3(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(jt.fromBase64String(e))}catch(n){throw new V(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ia(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=/^__.*__$/;class I3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function SD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class tE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new tE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return sf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(SD(this.Iu)&&R3.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class k3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xp(e)}pu(e,n,r,i=!1){return new tE({Iu:e,methodName:n,gu:r,path:vt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bD(t){const e=t._freezeSettings(),n=xp(t._databaseId);return new k3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D3(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);xD("Data must be an object, but it was:",o,r);const a=TD(r,o);let l,c;if(s.merge)l=new Wn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=N3(e,d,n);if(!o.contains(h))throw new V(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);O3(u,h)||u.push(h)}l=new Wn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new I3(new kn(a),l,c)}function P3(t,e,n,r=!1){return nE(n,t.pu(r?4:3,e))}function nE(t,e){if(CD(t=qt(t)))return xD("Unsupported field value:",e,t),TD(t,e);if(t instanceof _D)return function(r,i){if(!SD(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=nE(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:nf(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nf(i.serializer,s)}}if(r instanceof eE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ia)return{bytesValue:Hk(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Uw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ip(r)}`)}(t,e)}function TD(t,e){const n={};return vk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(r,i)=>{const s=nE(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof eE||t instanceof Ia||t instanceof sn||t instanceof _D)}function xD(t,e,n){if(!CD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ip(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function N3(t,e,n){if((e=qt(e))instanceof Jw)return e._internalPath;if(typeof e=="string")return AD(t,e);throw sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const M3=new RegExp("[~\\*/\\[\\]]");function AD(t,e,n){if(e.search(M3)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jw(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new V(I.INVALID_ARGUMENT,a+t+l)}function O3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ID("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L3 extends RD{data(){return super.data()}}function ID(t,e){return typeof e=="string"?AD(t,e):e instanceof Jw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rE{}class j3 extends rE{}function ay(t,e,...n){let r=[];e instanceof rE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof sE).length,a=s.filter(l=>l instanceof iE).length;if(o>1||o>0&&a>0)throw new V(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class iE extends j3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new iE(e,n,r)}_apply(e){const n=this._parse(e);return kD(e._query,n),new Qa(e.firestore,e.converter,Zv(e._query,n))}_parse(e){const n=bD(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new V(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){mT(d,u);const f=[];for(const g of d)f.push(pT(l,s,g));h={arrayValue:{values:f}}}else h=pT(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||mT(d,u),h=P3(a,o,d,u==="in"||u==="not-in");return Ye.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class sE extends rE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)kD(o,l),o=Zv(o,l)}(e._query,n),new Qa(e.firestore,e.converter,Zv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pT(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new V(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xk(e)&&n.indexOf("/")!==-1)throw new V(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!U.isDocumentKey(r))throw new V(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jb(t,new U(r))}if(n instanceof sn)return jb(t,n._key);throw new V(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ip(n)}.`)}function mT(t,e){if(!Array.isArray(t)||t.length===0)throw new V(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kD(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(I.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(I.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F3{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new eE(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=ns(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);xe(Qk(r));const i=new Uc(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||Xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DD extends RD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ID("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rh extends DD{data(e={}){return super.data(e)}}class U3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ol(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ol(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:$3(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){t=is(t,sn);const e=is(t.firestore,Iu);return S3(Zw(e),t._key).then(n=>H3(e,t,n))}class PD extends F3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function ly(t){t=is(t,Qa);const e=is(t.firestore,Iu),n=Zw(e),r=new PD(e);return V3(t._query),b3(n,t._query).then(i=>new U3(e,r,t,i))}function Nn(t,e,n){t=is(t,sn);const r=is(t.firestore,Iu),i=B3(t.converter,e,n);return ND(r,[D3(bD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yr.none())])}function ih(t){return ND(is(t.firestore,Iu),[new jw(t._key,yr.none())])}function ND(t,e){return function(r,i){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>l3(await _3(r),i,s)),s.promise}(Zw(t),e)}function H3(t,e,n){const r=n.docs.get(e._key),i=new PD(t);return new DD(t,i,e._key,r,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){za=i})(Ba),_a(new Ks("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Iu(new q$(r.getProvider("auth-internal")),new X$(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new V(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gi(Mb,"4.4.0",e),Gi(Mb,"4.4.0","esm2017")})();const z3={apiKey:"AIzaSyBXpnRyvhtw9yWevGSTyp6bOOc5I4yaY48",authDomain:"todoapp-ec78d.firebaseapp.com",projectId:"todoapp-ec78d",storageBucket:"todoapp-ec78d.appspot.com",messagingSenderId:"1088021294233",appId:"1:1088021294233:web:4f449645e7ef32afc79c08"},MD=kR(z3),ku=LU(MD),Wt=A3(MD),W3=new kr,OD=p.createContext(null);function G3({children:t}){const[e,n]=p.useState({userID:window.localStorage.getItem("userID")?window.localStorage.getItem("userID"):"",isLogged:window.localStorage.getItem("isLogged")==="true"});return p.useEffect(()=>{bB(ku,async r=>{r?(n({userID:r.uid,isLogged:!0}),window.localStorage.setItem("isLogged","true"),window.localStorage.setItem("userID",r.uid)):(window.localStorage.clear(),n({userID:"",isLogged:!1}))})},[]),m.jsx(OD.Provider,{value:{authContext:e},children:t})}function on(){const t=p.useContext(OD);if(!t)throw new Error("useAuthContext should be used within a AuthContextProvider");return t}async function q3(t){const e=[],n=ay(oy(Wt,"users",t,"task-lists")),r=await ly(n);for(const i of r.docs){const s=await ly(ay(oy(Wt,"users",t,"task-lists",i.data().list_name,"tasks")));if(s.empty===!0)e.push({listName:i.data().list_name,listColor:i.data().list_color,listActive:!0,tasks:[]});else{const o=[];for(const a of s.docs)o.push({taskID:a.data().task_id,start:a.data().task_starting_date,end:a.data().task_end_date,description:a.data().task_description,title:a.data().task_title,taskStatus:a.data().task_status,list:i.data().list_name,listColor:i.data().list_color,subtasks:a.data().subtasks.map(l=>({subtaskID:l.subtask_id,title:l.subtask_title,subtaskStatus:l.subtask_status,description:l.subtask_description}))});e.push({listName:i.data().list_name,listColor:i.data().list_color,listActive:!0,tasks:o})}}return e}function LD(){const t=new Date,e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${r}-${n}-${e}T${i}:${s}`}function qo(t,e){let n=[];t.forEach(o=>{o.tasks.length&&n.push(...o.tasks)});const r=new Date(LD()),i=new Date(r.setHours(0,0,0,0)),s=new Date(r.getTime()+e*24*60*60*1e3);return n=n.filter(o=>{const a=new Date(o.start);return a>=i&&a<=s}),n}const Dp=p.createContext(null);function Q3({children:t}){const[e,n]=p.useState(void 0),[r,i]=p.useState(void 0),[s,o]=p.useState({listName:"Today",listColor:"",listActive:!0,tasks:[]}),[a,l]=p.useState([]),[c,u]=p.useState(!1),{authContext:d}=on(),h=async()=>await q3(d.userID);return p.useEffect(()=>{d.userID&&h().then(f=>{l(f),n(qo(f,0)[0]),o({listName:"Today",listColor:"",listActive:!0,tasks:[...qo(f,0)]})})},[d]),m.jsx(Dp.Provider,{value:{currentTask:e,setCurrentTask:n,editedTask:r,setEditedTask:i,currentList:s,setCurrentList:o,taskLists:a,setTaskLists:l,isTaskOpened:c,setIsTaskOpened:u},children:t})}function En(){const t=p.useContext(Dp);if(!t)throw new Error("useTaskContext should be used within a TasksContextProvider");return t}const VD=p.createContext(null);function K3({children:t}){const[e,n]=p.useState({modalContent:null,showModal:!1});return m.jsx(VD.Provider,{value:{modalContext:e,setModalContext:n},children:t})}function Ft(){const t=p.useContext(VD);if(!t)throw new Error("useModalContext should be used within a  ModalContextProvider");return t}/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}var Pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pi||(Pi={}));const gT="popstate";function Y3(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return cy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:of(i)}return Z3(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X3(){return Math.random().toString(36).substr(2,8)}function vT(t,e){return{usr:t.state,key:t.key,idx:e}}function cy(t,e,n,r){return n===void 0&&(n=null),Wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ka(e):e,{state:n,key:e&&e.key||r||X3()})}function of(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Wc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Pi.Pop;let E=u(),w=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:w})}function h(E,w){a=Pi.Push;let y=cy(v.location,E,w);n&&n(y,E),c=u()+1;let _=vT(y,c),S=v.createHref(y);try{o.pushState(_,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function f(E,w){a=Pi.Replace;let y=cy(v.location,E,w);n&&n(y,E),c=u();let _=vT(y,c),S=v.createHref(y);o.replaceState(_,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function g(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:of(E);return Xe(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gT,d),l=E,()=>{i.removeEventListener(gT,d),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let w=g(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:f,go(E){return o.go(E)}};return v}var yT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yT||(yT={}));function J3(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ka(e):e,i=lE(r.pathname||"/",n);if(i==null)return null;let s=jD(t);e5(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=c5(s[a],h5(i));return o}function jD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qi([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jD(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:a5(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of FD(s.path))i(s,o,l)}),e}function FD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=FD(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function e5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t5=/^:[\w-]+$/,n5=3,r5=2,i5=1,s5=10,o5=-2,wT=t=>t==="*";function a5(t,e){let n=t.split("/"),r=n.length;return n.some(wT)&&(r+=o5),e&&(r+=r5),n.filter(i=>!wT(i)).reduce((i,s)=>i+(t5.test(s)?n5:s===""?i5:s5),r)}function l5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function c5(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=u5({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Qi([i,u.pathname]),pathnameBase:v5(Qi([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Qi([i,u.pathnameBase]))}return s}function u5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=d5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?c[h]=void 0:c[h]=f5(g||"",h),c},{}),pathname:s,pathnameBase:o,pattern:t}}function d5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function h5(t){try{return decodeURI(t)}catch(e){return aE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function f5(t,e){try{return decodeURIComponent(t)}catch(n){return aE(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function lE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function p5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ka(t):t;return{pathname:n?n.startsWith("/")?n:m5(n,e):e,search:y5(r),hash:w5(i)}}function m5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BD(t,e){let n=g5(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ka(t):(i=Wc({},t),Xe(!i.pathname||!i.pathname.includes("?"),Qm("?","pathname","search",i)),Xe(!i.pathname||!i.pathname.includes("#"),Qm("#","pathname","hash",i)),Xe(!i.search||!i.search.includes("#"),Qm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=p5(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),v5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $D=["post","put","patch","delete"];new Set($D);const _5=["get",...$D];new Set(_5);/**
 * React Router v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}const cE=p.createContext(null),S5=p.createContext(null),fo=p.createContext(null),Pp=p.createContext(null),vs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),HD=p.createContext(null);function b5(t,e){let{relative:n}=e===void 0?{}:e;Du()||Xe(!1);let{basename:r,navigator:i}=p.useContext(fo),{hash:s,pathname:o,search:a}=GD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Du(){return p.useContext(Pp)!=null}function Np(){return Du()||Xe(!1),p.useContext(Pp).location}function zD(t){p.useContext(fo).static||p.useLayoutEffect(t)}function WD(){let{isDataRoute:t}=p.useContext(vs);return t?j5():T5()}function T5(){Du()||Xe(!1);let t=p.useContext(cE),{basename:e,future:n,navigator:r}=p.useContext(fo),{matches:i}=p.useContext(vs),{pathname:s}=Np(),o=JSON.stringify(BD(i,n.v7_relativeSplatPath)),a=p.useRef(!1);return zD(()=>{a.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=UD(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const C5=p.createContext(null);function x5(t){let e=p.useContext(vs).outlet;return e&&p.createElement(C5.Provider,{value:t},e)}function GD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(fo),{matches:i}=p.useContext(vs),{pathname:s}=Np(),o=JSON.stringify(BD(i,r.v7_relativeSplatPath));return p.useMemo(()=>UD(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function A5(t,e){return R5(t,e)}function R5(t,e,n,r){Du()||Xe(!1);let{navigator:i}=p.useContext(fo),{matches:s}=p.useContext(vs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Np(),u;if(e){var d;let E=typeof e=="string"?Ka(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||Xe(!1),u=E}else u=c;let h=u.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",g=J3(t,{pathname:f}),v=N5(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Qi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Qi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&v?p.createElement(Pp.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Pi.Pop}},v):v}function I5(){let t=V5(),e=E5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,s)}const k5=p.createElement(I5,null);class D5 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(vs.Provider,{value:this.props.routeContext},p.createElement(HD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P5(t){let{routeContext:e,match:n,children:r}=t,i=p.useContext(cE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(vs.Provider,{value:e},r)}function N5(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||Xe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,g=!1,v=null,E=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||k5,l&&(c<0&&h===0?(F5("route-fallback",!1),g=!0,E=null):c===h&&(g=!0,E=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),y=()=>{let _;return f?_=v:g?_=E:d.route.Component?_=p.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,p.createElement(P5,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?p.createElement(D5,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var qD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qD||{}),af=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(af||{});function M5(t){let e=p.useContext(cE);return e||Xe(!1),e}function O5(t){let e=p.useContext(S5);return e||Xe(!1),e}function L5(t){let e=p.useContext(vs);return e||Xe(!1),e}function QD(t){let e=L5(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function V5(){var t;let e=p.useContext(HD),n=O5(af.UseRouteError),r=QD(af.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j5(){let{router:t}=M5(qD.UseNavigateStable),e=QD(af.UseNavigateStable),n=p.useRef(!1);return zD(()=>{n.current=!0}),p.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gc({fromRouteId:e},s)))},[t,e])}const ET={};function F5(t,e,n){!e&&!ET[t]&&(ET[t]=!0)}function B5(t){return x5(t.context)}function xr(t){Xe(!1)}function U5(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pi.Pop,navigator:s,static:o=!1,future:a}=t;Du()&&Xe(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:s,static:o,future:Gc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ka(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,v=p.useMemo(()=>{let E=lE(u,l);return E==null?null:{location:{pathname:E,search:d,hash:h,state:f,key:g},navigationType:i}},[l,u,d,h,f,g,i]);return v==null?null:p.createElement(fo.Provider,{value:c},p.createElement(Pp.Provider,{children:n,value:v}))}function $5(t){let{children:e,location:n}=t;return A5(uy(e),n)}new Promise(()=>{});function uy(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,i)=>{if(!p.isValidElement(r))return;let s=[...e,i];if(r.type===p.Fragment){n.push.apply(n,uy(r.props.children,s));return}r.type!==xr&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dy.apply(this,arguments)}function H5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W5(t,e){return t.button===0&&(!e||e==="_self")&&!z5(t)}const G5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],q5="startTransition",_T=L2[q5];function Q5(t){let{basename:e,children:n,future:r,window:i}=t,s=p.useRef();s.current==null&&(s.current=Y3({window:i,v5Compat:!0}));let o=s.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=p.useCallback(d=>{c&&_T?_T(()=>l(d)):l(d)},[l,c]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.createElement(U5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const K5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KD=p.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=H5(e,G5),{basename:f}=p.useContext(fo),g,v=!1;if(typeof c=="string"&&Y5.test(c)&&(g=c,K5))try{let _=new URL(window.location.href),S=c.startsWith("//")?new URL(_.protocol+c):new URL(c),T=lE(S.pathname,f);S.origin===_.origin&&T!=null?c=T+S.search+S.hash:v=!0}catch{}let E=b5(c,{relative:i}),w=X5(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||w(_)}return p.createElement("a",dy({},h,{href:g||E,onClick:v||s?r:y,ref:n,target:l}))});var ST;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ST||(ST={}));var bT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bT||(bT={}));function X5(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=WD(),c=Np(),u=GD(t,{relative:o});return p.useCallback(d=>{if(W5(d,n)){d.preventDefault();let h=r!==void 0?r:of(c)===of(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var YD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(YD);var Z5=YD.exports;const X=jf(Z5);var XD={exports:{}},J5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e9=J5,t9=e9;function ZD(){}function JD(){}JD.resetWarningCache=ZD;var n9=function(){function t(r,i,s,o,a,l){if(l!==t9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:JD,resetWarningCache:ZD};return n.PropTypes=n,n};XD.exports=n9();var r9=XD.exports;const Br=jf(r9),i9={type:Br.string,tooltip:Br.bool,as:Br.elementType},uE=p.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>m.jsx(t,{...i,ref:s,className:X(e,`${n}-${r?"tooltip":"feedback"}`)}));uE.displayName="Feedback";uE.propTypes=i9;const eP=uE,s9=p.createContext({}),Jr=s9,o9=["xxl","xl","lg","md","sm","xs"],a9="xs",Mp=p.createContext({prefixes:{},breakpoints:o9,minBreakpoint:a9});function ne(t,e){const{prefixes:n}=p.useContext(Mp);return t||n[e]||e}function l9(){const{breakpoints:t}=p.useContext(Mp);return t}function c9(){const{minBreakpoint:t}=p.useContext(Mp);return t}function u9(){const{dir:t}=p.useContext(Mp);return t==="rtl"}const tP=p.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=p.useContext(Jr);return e=ne(e,"form-check-input"),m.jsx(o,{...a,ref:l,type:r,id:t||c,className:X(n,e,i&&"is-valid",s&&"is-invalid")})});tP.displayName="FormCheckInput";const nP=tP,rP=p.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=p.useContext(Jr);return t=ne(t,"form-check-label"),m.jsx("label",{...r,ref:i,htmlFor:n||s,className:X(e,t)})});rP.displayName="FormCheckLabel";const hy=rP;function d9(t,e){return p.Children.toArray(t).some(n=>p.isValidElement(n)&&n.type===e)}const iP=p.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:d,style:h,title:f="",type:g="checkbox",label:v,children:E,as:w="input",...y},_)=>{e=ne(e,"form-check"),n=ne(n,"form-switch");const{controlId:S}=p.useContext(Jr),T=p.useMemo(()=>({controlId:t||S}),[S,t]),C=!E&&v!=null&&v!==!1||d9(E,hy),x=m.jsx(nP,{...y,type:g==="switch"?"checkbox":g,ref:_,isValid:o,isInvalid:a,disabled:s,as:w});return m.jsx(Jr.Provider,{value:T,children:m.jsx("div",{style:h,className:X(d,C&&e,r&&`${e}-inline`,i&&`${e}-reverse`,g==="switch"&&n),children:E||m.jsxs(m.Fragment,{children:[x,C&&m.jsx(hy,{title:f,children:v}),c&&m.jsx(eP,{type:u,tooltip:l,children:c})]})})})});iP.displayName="FormCheck";const lf=Object.assign(iP,{Input:nP,Label:hy}),sP=p.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input",...d},h)=>{const{controlId:f}=p.useContext(Jr);return t=ne(t,"form-control"),m.jsx(u,{...d,type:e,size:r,ref:h,readOnly:c,id:i||f,className:X(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});sP.displayName="FormControl";const h9=Object.assign(sP,{Feedback:eP}),oP=p.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"form-floating"),m.jsx(n,{ref:i,className:X(t,e),...r})));oP.displayName="FormFloating";const f9=oP,aP=p.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=p.useMemo(()=>({controlId:t}),[t]);return m.jsx(Jr.Provider,{value:i,children:m.jsx(e,{...n,ref:r})})});aP.displayName="FormGroup";const lP=aP;function p9({as:t,bsPrefix:e,className:n,...r}){e=ne(e,"col");const i=l9(),s=c9(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let u,d,h;typeof c=="object"&&c!=null?{span:u,offset:d,order:h}=c:u=c;const f=l!==s?`-${l}`:"";u&&o.push(u===!0?`${e}${f}`:`${e}${f}-${u}`),h!=null&&a.push(`order${f}-${h}`),d!=null&&a.push(`offset${f}-${d}`)}),[{...r,className:X(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const cP=p.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=p9(t);return m.jsx(i,{...r,ref:e,className:X(n,!o.length&&s)})});cP.displayName="Col";const m9=cP,uP=p.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=p.useContext(Jr);e=ne(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=X(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?m.jsx(m9,{ref:a,as:"label",className:u,htmlFor:s,...o}):m.jsx(t,{ref:a,className:u,htmlFor:s,...o})});uP.displayName="FormLabel";const g9=uP,dP=p.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=p.useContext(Jr);return t=ne(t,"form-range"),m.jsx("input",{...r,type:"range",ref:i,className:X(e,t),id:n||s})});dP.displayName="FormRange";const v9=dP,hP=p.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=p.useContext(Jr);return t=ne(t,"form-select"),m.jsx("select",{...a,size:n,ref:l,className:X(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});hP.displayName="FormSelect";const y9=hP,fP=p.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ne(t,"form-text"),m.jsx(n,{...i,ref:s,className:X(e,t,r&&"text-muted")})));fP.displayName="FormText";const w9=fP,pP=p.forwardRef((t,e)=>m.jsx(lf,{...t,ref:e,type:"switch"}));pP.displayName="Switch";const E9=Object.assign(pP,{Input:lf.Input,Label:lf.Label}),mP=p.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ne(t,"form-floating"),m.jsxs(lP,{ref:o,className:X(e,t),controlId:r,...s,children:[n,m.jsx("label",{htmlFor:r,children:i})]})));mP.displayName="FloatingLabel";const _9=mP,S9={_ref:Br.any,validated:Br.bool,as:Br.elementType},dE=p.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>m.jsx(n,{...r,ref:i,className:X(t,e&&"was-validated")}));dE.displayName="Form";dE.propTypes=S9;const Kn=Object.assign(dE,{Group:lP,Control:h9,Floating:f9,Check:lf,Switch:E9,Label:g9,Text:w9,Range:v9,Select:y9,FloatingLabel:_9}),b9=["as","disabled"];function T9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function C9(t){return!t||t.trim()==="#"}function gP({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const u=h=>{if((e||t==="a"&&C9(n))&&h.preventDefault(),e){h.stopPropagation();return}o==null||o(h)},d=h=>{h.key===" "&&(h.preventDefault(),u(h))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:u,onKeyDown:d},c]}const x9=p.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=T9(t,b9);const[s,{tagName:o}]=gP(Object.assign({tagName:n,disabled:r},i));return m.jsx(o,Object.assign({},i,s,{ref:e}))});x9.displayName="Button";const vP=p.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=ne(e,"btn"),[u,{tagName:d}]=gP({tagName:t,disabled:s,...a}),h=d;return m.jsx(h,{...u,...a,ref:l,disabled:s,className:X(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});vP.displayName="Button";const St=vP,yP=p.forwardRef(({bsPrefix:t,size:e,vertical:n=!1,className:r,role:i="group",as:s="div",...o},a)=>{const l=ne(t,"btn-group");let c=l;return n&&(c=`${l}-vertical`),m.jsx(s,{...o,ref:a,role:i,className:X(r,c,e&&`${l}-${e}`)})});yP.displayName="ButtonGroup";const A9=yP;var wP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TT=te.createContext&&te.createContext(wP),Ki=globalThis&&globalThis.__assign||function(){return Ki=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ki.apply(this,arguments)},R9=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function EP(t){return t&&t.map(function(e,n){return te.createElement(e.tag,Ki({key:n},e.attr),EP(e.child))})}function Bt(t){return function(e){return te.createElement(I9,Ki({attr:Ki({},t.attr)},e),EP(t.child))}}function I9(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=R9(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),te.createElement("svg",Ki({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ki(Ki({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&te.createElement("title",null,s),t.children)};return TT!==void 0?te.createElement(TT.Consumer,null,function(n){return e(n)}):e(wP)}function k9(t){return Bt({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`}}]})(t)}function rt(t){return m.jsxs(Kn.Group,{className:t.containerStyle,children:[t.labelValue?m.jsx(Kn.Label,{className:t.labelStyle,children:t.labelValue}):null,m.jsx("div",{"data-animation":t.animationData,className:t.inputWrapperStyle,children:m.jsx("input",{pattern:t.pattern,className:t.inputStyle,type:t.inputType,placeholder:t.inputPlaceholder,value:t.inputValue,onChange:t.onChange,style:{outline:"none"}},t.inputKey)})]})}async function D9(t,e){EB(ku,t,e).catch(n=>{const r=n.code,i=n.message;console.log(r),console.log(i)})}async function P9(t){try{const{user:e}=await WB(ku,t),n=Vn(Wt,"users",e.uid);(await oE(n)).exists()||await Nn(n,{})}catch(e){const n=e.code,r=e.message;console.log(n),console.log(r)}}function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fy.apply(this,arguments)}function _P(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CT(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function N9(t){var e=M9(t,"string");return typeof e=="symbol"?e:String(e)}function M9(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O9(t,e,n){var r=p.useRef(t!==void 0),i=p.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,p.useCallback(function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];n&&n.apply(void 0,[c].concat(d)),o(c)},[n])]}function L9(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[CT(r)],a=s[r],l=_P(s,[CT(r),r].map(N9)),c=e[r],u=O9(a,o,t[c]),d=u[0],h=u[1];return fy({},l,(i={},i[r]=d,i[c]=h,i))},t)}function py(t,e){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},py(t,e)}function V9(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,py(t,e)}function Op(t){return t&&t.ownerDocument||document}function j9(t){var e=Op(t);return e&&e.defaultView||window}function F9(t,e){return j9(t).getComputedStyle(t,e)}var B9=/([A-Z])/g;function U9(t){return t.replace(B9,"-$1").toLowerCase()}var $9=/^ms-/;function Sd(t){return U9(t).replace($9,"-ms-")}var H9=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function z9(t){return!!(t&&H9.test(t))}function Ur(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Sd(e))||F9(t).getPropertyValue(Sd(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Sd(i)):z9(i)?r+=i+"("+s+") ":n+=Sd(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const xT={disabled:!1},SP=te.createContext(null);var W9=function(e){return e.scrollTop},Ll="unmounted",Ei="exited",Ir="entering",Ri="entered",cf="exiting",ii=function(t){V9(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ei,s.appearStatus=Ir):l=Ri:r.unmountOnExit||r.mountOnEnter?l=Ll:l=Ei,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ll?{status:Ei}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ir&&o!==Ri&&(s=Ir):(o===Ir||o===Ri)&&(s=cf)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ir){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Wo.findDOMNode(this);o&&W9(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ei&&this.setState({status:Ll})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Wo.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||xT.disabled){this.safeSetState({status:Ri},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ir},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:Ri},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Wo.findDOMNode(this);if(!s||xT.disabled){this.safeSetState({status:Ei},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:cf},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ei},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Wo.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ll)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=_P(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return te.createElement(SP.Provider,{value:null},typeof o=="function"?o(i,a):te.cloneElement(te.Children.only(o),a))},e}(te.Component);ii.contextType=SP;ii.propTypes={};function xo(){}ii.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xo,onEntering:xo,onEntered:xo,onExit:xo,onExiting:xo,onExited:xo};ii.UNMOUNTED=Ll;ii.EXITED=Ei;ii.ENTERING=Ir;ii.ENTERED=Ri;ii.EXITING=cf;const G9=ii,Ya=!!(typeof window<"u"&&window.document&&window.document.createElement);var my=!1,gy=!1;try{var Km={get passive(){return my=!0},get once(){return gy=my=!0}};Ya&&(window.addEventListener("test",Km,Km),window.removeEventListener("test",Km,!0))}catch{}function bP(t,e,n,r){if(r&&typeof r!="boolean"&&!gy){var i=r.once,s=r.capture,o=n;!gy&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,my?r:s)}t.addEventListener(e,n,r)}function vy(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function uf(t,e,n,r){return bP(t,e,n,r),function(){vy(t,e,n,r)}}function q9(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function Q9(t){var e=Ur(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function K9(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||q9(t,"transitionend",!0)},e+n),s=uf(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function TP(t,e,n,r){n==null&&(n=Q9(t)||0);var i=K9(t,n,r),s=uf(t,"transitionend",e);return function(){i(),s()}}function AT(t,e){const n=Ur(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function CP(t,e){const n=AT(t,"transitionDuration"),r=AT(t,"transitionDelay"),i=TP(t,s=>{s.target===t&&(i(),e(s))},n+r)}function wl(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function xP(t){t.offsetHeight}const RT=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Y9(t,e){const n=RT(t),r=RT(e);return i=>{n&&n(i),r&&r(i)}}function Lp(t,e){return p.useMemo(()=>Y9(t,e),[t,e])}function X9(t){return t&&"setState"in t?Wo.findDOMNode(t):t??null}const Z9=te.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},u)=>{const d=p.useRef(null),h=Lp(d,l),f=C=>{h(X9(C))},g=C=>x=>{C&&d.current&&C(d.current,x)},v=p.useCallback(g(t),[t]),E=p.useCallback(g(e),[e]),w=p.useCallback(g(n),[n]),y=p.useCallback(g(r),[r]),_=p.useCallback(g(i),[i]),S=p.useCallback(g(s),[s]),T=p.useCallback(g(o),[o]);return m.jsx(G9,{ref:u,...c,onEnter:v,onEntered:w,onEntering:E,onExit:y,onExited:S,onExiting:_,addEndListener:T,nodeRef:d,children:typeof a=="function"?(C,x)=>a(C,{...x,ref:f}):te.cloneElement(a,{ref:f})})}),AP=Z9,J9={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function e6(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=J9[t];return r+parseInt(Ur(e,i[0]),10)+parseInt(Ur(e,i[1]),10)}const t6={[Ei]:"collapse",[cf]:"collapsing",[Ir]:"collapsing",[Ri]:"collapse show"},n6=te.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:u=!1,unmountOnExit:d=!1,appear:h=!1,getDimensionValue:f=e6,...g},v)=>{const E=typeof a=="function"?a():a,w=p.useMemo(()=>wl(C=>{C.style[E]="0"},t),[E,t]),y=p.useMemo(()=>wl(C=>{const x=`scroll${E[0].toUpperCase()}${E.slice(1)}`;C.style[E]=`${C[x]}px`},e),[E,e]),_=p.useMemo(()=>wl(C=>{C.style[E]=null},n),[E,n]),S=p.useMemo(()=>wl(C=>{C.style[E]=`${f(E,C)}px`,xP(C)},r),[r,f,E]),T=p.useMemo(()=>wl(C=>{C.style[E]=null},i),[E,i]);return m.jsx(AP,{ref:v,addEndListener:CP,...g,"aria-expanded":g.role?l:null,onEnter:w,onEntering:y,onEntered:_,onExit:S,onExiting:T,childRef:o.ref,in:l,timeout:c,mountOnEnter:u,unmountOnExit:d,appear:h,children:(C,x)=>te.cloneElement(o,{...x,className:X(s,o.props.className,t6[C],E==="width"&&"collapse-horizontal")})})}),r6=n6;function RP(t,e){return Array.isArray(t)?t.includes(e):t===e}const IP=p.createContext({});IP.displayName="AccordionContext";const Vp=IP,kP=p.forwardRef(({as:t="div",bsPrefix:e,className:n,children:r,eventKey:i,...s},o)=>{const{activeEventKey:a}=p.useContext(Vp);return e=ne(e,"accordion-collapse"),m.jsx(r6,{ref:o,in:RP(a,i),...s,className:X(n,e),children:m.jsx(t,{children:p.Children.only(r)})})});kP.displayName="AccordionCollapse";const DP=kP,PP=p.createContext({eventKey:""});PP.displayName="AccordionItemContext";const hE=PP,NP=p.forwardRef(({as:t="div",bsPrefix:e,className:n,onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,onExited:l,...c},u)=>{e=ne(e,"accordion-body");const{eventKey:d}=p.useContext(hE);return m.jsx(DP,{eventKey:d,onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,onExited:l,children:m.jsx(t,{ref:u,...c,className:X(n,e)})})});NP.displayName="AccordionBody";const i6=NP;function MP(t,e){const{activeEventKey:n,onSelect:r,alwaysOpen:i}=p.useContext(Vp);return s=>{let o=t===n?null:t;i&&(Array.isArray(n)?n.includes(t)?o=n.filter(a=>a!==t):o=[...n,t]:o=[t]),r==null||r(o,s),e==null||e(s)}}const OP=p.forwardRef(({as:t="button",bsPrefix:e,className:n,onClick:r,...i},s)=>{e=ne(e,"accordion-button");const{eventKey:o}=p.useContext(hE),a=MP(o,r),{activeEventKey:l}=p.useContext(Vp);return t==="button"&&(i.type="button"),m.jsx(t,{ref:s,onClick:a,...i,"aria-expanded":Array.isArray(l)?l.includes(o):o===l,className:X(n,e,!RP(l,o)&&"collapsed")})});OP.displayName="AccordionButton";const LP=OP,VP=p.forwardRef(({as:t="h2",bsPrefix:e,className:n,children:r,onClick:i,...s},o)=>(e=ne(e,"accordion-header"),m.jsx(t,{ref:o,...s,className:X(n,e),children:m.jsx(LP,{onClick:i,children:r})})));VP.displayName="AccordionHeader";const s6=VP,jP=p.forwardRef(({as:t="div",bsPrefix:e,className:n,eventKey:r,...i},s)=>{e=ne(e,"accordion-item");const o=p.useMemo(()=>({eventKey:r}),[r]);return m.jsx(hE.Provider,{value:o,children:m.jsx(t,{ref:s,...i,className:X(n,e)})})});jP.displayName="AccordionItem";const o6=jP,FP=p.forwardRef((t,e)=>{const{as:n="div",activeKey:r,bsPrefix:i,className:s,onSelect:o,flush:a,alwaysOpen:l,...c}=L9(t,{activeKey:"onSelect"}),u=ne(i,"accordion"),d=p.useMemo(()=>({activeEventKey:r,onSelect:o,alwaysOpen:l}),[r,o,l]);return m.jsx(Vp.Provider,{value:d,children:m.jsx(n,{ref:e,...c,className:X(s,u,a&&`${u}-flush`)})})});FP.displayName="Accordion";const IT=Object.assign(FP,{Button:LP,Collapse:DP,Item:o6,Header:s6,Body:i6});function a6(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t},[t]),e}function cr(t){const e=a6(t);return p.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const fE=t=>p.forwardRef((e,n)=>m.jsx("div",{...e,ref:n,className:X(e.className,t)}));function l6(){return p.useState(null)}function c6(){const t=p.useRef(!0),e=p.useRef(()=>t.current);return p.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function u6(t){const e=p.useRef(null);return p.useEffect(()=>{e.current=t}),e.current}const d6=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",h6=typeof document<"u",kT=h6||d6?p.useLayoutEffect:p.useEffect,f6={[Ir]:"show",[Ri]:"show"},BP=p.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=p.useCallback((l,c)=>{xP(l),r==null||r(l,c)},[r]);return m.jsx(AP,{ref:s,addEndListener:CP,...o,onEnter:a,childRef:e.ref,children:(l,c)=>p.cloneElement(e,{...c,className:X("fade",t,e.props.className,f6[l],n[l])})})});BP.displayName="Fade";const UP=BP,p6={"aria-label":Br.string,onClick:Br.func,variant:Br.oneOf(["white"])},pE=p.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>m.jsx("button",{ref:i,type:"button",className:X("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));pE.displayName="CloseButton";pE.propTypes=p6;const m6=pE,$P=p.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"card-body"),m.jsx(n,{ref:i,className:X(t,e),...r})));$P.displayName="CardBody";const HP=$P,zP=p.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"card-footer"),m.jsx(n,{ref:i,className:X(t,e),...r})));zP.displayName="CardFooter";const g6=zP,WP=p.createContext(null);WP.displayName="CardHeaderContext";const v6=WP,GP=p.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ne(t,"card-header"),o=p.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return m.jsx(v6.Provider,{value:o,children:m.jsx(n,{ref:i,...r,className:X(e,s)})})});GP.displayName="CardHeader";const y6=GP,qP=p.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ne(t,"card-img");return m.jsx(r,{ref:s,className:X(n?`${o}-${n}`:o,e),...i})});qP.displayName="CardImg";const w6=qP,QP=p.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"card-img-overlay"),m.jsx(n,{ref:i,className:X(t,e),...r})));QP.displayName="CardImgOverlay";const E6=QP,KP=p.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=ne(e,"card-link"),m.jsx(n,{ref:i,className:X(t,e),...r})));KP.displayName="CardLink";const _6=KP,S6=fE("h6"),YP=p.forwardRef(({className:t,bsPrefix:e,as:n=S6,...r},i)=>(e=ne(e,"card-subtitle"),m.jsx(n,{ref:i,className:X(t,e),...r})));YP.displayName="CardSubtitle";const b6=YP,XP=p.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=ne(e,"card-text"),m.jsx(n,{ref:i,className:X(t,e),...r})));XP.displayName="CardText";const T6=XP,C6=fE("h5"),ZP=p.forwardRef(({className:t,bsPrefix:e,as:n=C6,...r},i)=>(e=ne(e,"card-title"),m.jsx(n,{ref:i,className:X(t,e),...r})));ZP.displayName="CardTitle";const x6=ZP,JP=p.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const u=ne(t,"card");return m.jsx(a,{ref:c,...l,className:X(e,u,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?m.jsx(HP,{children:o}):o})});JP.displayName="Card";const Ym=Object.assign(JP,{Img:w6,Title:x6,Subtitle:b6,Body:HP,Link:_6,Text:T6,Header:y6,Footer:g6,ImgOverlay:E6});function A6(t){const e=p.useRef(t);return e.current=t,e}function eN(t){const e=A6(t);p.useEffect(()=>()=>e.current(),[])}const tN=p.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=ne(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return m.jsx(n,{ref:s,...i,className:X(r,e?`${o}${a}`:o)})});tN.displayName="Container";const no=tN;var R6=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ao(t,e){return R6(t.querySelectorAll(e))}function DT(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const I6="data-rr-ui-";function k6(t){return`${I6}${t}`}const nN=p.createContext(Ya?window:void 0);nN.Provider;function mE(){return p.useContext(nN)}var bd;function PT(t){if((!bd&&bd!==0||t)&&Ya){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),bd=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return bd}function Xm(t){t===void 0&&(t=Op());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function D6(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const NT=k6("modal-open");class P6{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return D6(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Ur(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(NT,""),Ur(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(NT),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gE=P6,Zm=(t,e)=>Ya?t==null?(e||Op()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function N6(t,e){const n=mE(),[r,i]=p.useState(()=>Zm(t,n==null?void 0:n.document));if(!r){const s=Zm(t);s&&i(s)}return p.useEffect(()=>{e&&r&&e(r)},[e,r]),p.useEffect(()=>{const s=Zm(t);s!==r&&i(s)},[t,r]),r}function M6({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=p.useRef(null),o=p.useRef(e),a=cr(n);p.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=Lp(s,t.ref),c=p.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}function O6({in:t,onTransition:e}){const n=p.useRef(null),r=p.useRef(!0),i=cr(e);return kT(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),kT(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function L6({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=p.useState(!e);e&&s&&o(!1);const a=O6({in:!!e,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(u,d=>{throw c.in||o(!0),d})}}),l=Lp(a,t.ref);return s&&!e?null:p.cloneElement(t,{ref:l})}function MT(t,e,n){return t?m.jsx(t,Object.assign({},n)):e?m.jsx(L6,Object.assign({},n,{transition:e})):m.jsx(M6,Object.assign({},n))}function V6(t){return t.code==="Escape"||t.keyCode===27}const j6=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function F6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Jm;function B6(t){return Jm||(Jm=new gE({ownerDocument:t==null?void 0:t.document})),Jm}function U6(t){const e=mE(),n=t||B6(e),r=p.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:p.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:p.useCallback(i=>{r.current.backdrop=i},[])})}const rN=p.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:h,backdropTransition:f,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:E=!0,restoreFocus:w=!0,restoreFocusOptions:y,renderDialog:_,renderBackdrop:S=ve=>m.jsx("div",Object.assign({},ve)),manager:T,container:C,onShow:x,onHide:A=()=>{},onExit:N,onExited:M,onExiting:z,onEnter:re,onEntering:fe,onEntered:ue}=t,it=F6(t,j6);const oe=mE(),de=N6(C),D=U6(T),F=c6(),$=u6(n),[B,q]=p.useState(!n),Se=p.useRef(null);p.useImperativeHandle(e,()=>D,[D]),Ya&&!$&&n&&(Se.current=Xm(oe==null?void 0:oe.document)),n&&B&&q(!1);const Oe=cr(()=>{if(D.add(),ee.current=uf(document,"keydown",Xt),We.current=uf(document,"focus",()=>setTimeout(me),!0),x&&x(),v){var ve,jn;const di=Xm((ve=(jn=D.dialog)==null?void 0:jn.ownerDocument)!=null?ve:oe==null?void 0:oe.document);D.dialog&&di&&!DT(D.dialog,di)&&(Se.current=di,D.dialog.focus())}}),st=cr(()=>{if(D.remove(),ee.current==null||ee.current(),We.current==null||We.current(),w){var ve;(ve=Se.current)==null||ve.focus==null||ve.focus(y),Se.current=null}});p.useEffect(()=>{!n||!de||Oe()},[n,de,Oe]),p.useEffect(()=>{B&&st()},[B,st]),eN(()=>{st()});const me=cr(()=>{if(!E||!F()||!D.isTopModal())return;const ve=Xm(oe==null?void 0:oe.document);D.dialog&&ve&&!DT(D.dialog,ve)&&D.dialog.focus()}),bt=cr(ve=>{ve.target===ve.currentTarget&&(c==null||c(ve),a===!0&&A())}),Xt=cr(ve=>{l&&V6(ve)&&D.isTopModal()&&(u==null||u(ve),ve.defaultPrevented||A())}),We=p.useRef(),ee=p.useRef(),Ze=(...ve)=>{q(!0),M==null||M(...ve)};if(!de)return null;const Tt=Object.assign({role:r,ref:D.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},it,{style:s,className:i,tabIndex:-1});let Sn=_?_(Tt):m.jsx("div",Object.assign({},Tt,{children:p.cloneElement(o,{role:"document"})}));Sn=MT(d,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:z,onExited:Ze,onEnter:re,onEntering:fe,onEntered:ue,children:Sn});let ht=null;return a&&(ht=S({ref:D.setBackdropRef,onClick:bt}),ht=MT(f,g,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ht})),m.jsx(m.Fragment,{children:Wo.createPortal(m.jsxs(m.Fragment,{children:[ht,Sn]}),de)})});rN.displayName="Modal";const $6=Object.assign(rN,{Manager:gE});function H6(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function z6(t,e){t.classList?t.classList.add(e):H6(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function OT(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function W6(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=OT(t.className,e):t.setAttribute("class",OT(t.className&&t.className.baseVal||"",e))}const Ro={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class G6 extends gE{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Ur(n,{[e]:`${parseFloat(Ur(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Ur(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(z6(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ao(n,Ro.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Ao(n,Ro.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Ao(n,Ro.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();W6(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ao(n,Ro.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Ao(n,Ro.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Ao(n,Ro.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let eg;function q6(t){return eg||(eg=new G6(t)),eg}const iN=p.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"modal-body"),m.jsx(n,{ref:i,className:X(t,e),...r})));iN.displayName="ModalBody";const si=iN,Q6=p.createContext({onHide(){}}),sN=Q6,oN=p.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{t=ne(t,"modal");const u=`${t}-dialog`,d=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return m.jsx("div",{...l,ref:c,className:X(u,e,i&&`${t}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,s&&d),children:m.jsx("div",{className:X(`${t}-content`,n),children:o})})});oN.displayName="ModalDialog";const aN=oN,lN=p.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"modal-footer"),m.jsx(n,{ref:i,className:X(t,e),...r})));lN.displayName="ModalFooter";const oi=lN,K6=p.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=p.useContext(sN),l=cr(()=>{a==null||a.onHide(),r==null||r()});return m.jsxs("div",{ref:o,...s,children:[i,n&&m.jsx(m6,{"aria-label":t,variant:e,onClick:l})]})}),Y6=K6,cN=p.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=ne(t,"modal-header"),m.jsx(Y6,{ref:s,...i,className:X(e,t),closeLabel:n,closeButton:r})));cN.displayName="ModalHeader";const ai=cN,X6=fE("h4"),uN=p.forwardRef(({className:t,bsPrefix:e,as:n=X6,...r},i)=>(e=ne(e,"modal-title"),m.jsx(n,{ref:i,className:X(t,e),...r})));uN.displayName="ModalTitle";const li=uN;function Z6(t){return m.jsx(UP,{...t,timeout:null})}function J6(t){return m.jsx(UP,{...t,timeout:null})}const dN=p.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=aN,"aria-labelledby":a,"aria-describedby":l,"aria-label":c,show:u=!1,animation:d=!0,backdrop:h=!0,keyboard:f=!0,onEscapeKeyDown:g,onShow:v,onHide:E,container:w,autoFocus:y=!0,enforceFocus:_=!0,restoreFocus:S=!0,restoreFocusOptions:T,onEntered:C,onExit:x,onExiting:A,onEnter:N,onEntering:M,onExited:z,backdropClassName:re,manager:fe,...ue},it)=>{const[oe,de]=p.useState({}),[D,F]=p.useState(!1),$=p.useRef(!1),B=p.useRef(!1),q=p.useRef(null),[Se,Oe]=l6(),st=Lp(it,Oe),me=cr(E),bt=u9();t=ne(t,"modal");const Xt=p.useMemo(()=>({onHide:me}),[me]);function We(){return fe||q6({isRTL:bt})}function ee(pe){if(!Ya)return;const hi=We().getScrollbarWidth()>0,Cr=pe.scrollHeight>Op(pe).documentElement.clientHeight;de({paddingRight:hi&&!Cr?PT():void 0,paddingLeft:!hi&&Cr?PT():void 0})}const Ze=cr(()=>{Se&&ee(Se.dialog)});eN(()=>{vy(window,"resize",Ze),q.current==null||q.current()});const Tt=()=>{$.current=!0},Sn=pe=>{$.current&&Se&&pe.target===Se.dialog&&(B.current=!0),$.current=!1},ht=()=>{F(!0),q.current=TP(Se.dialog,()=>{F(!1)})},ve=pe=>{pe.target===pe.currentTarget&&ht()},jn=pe=>{if(h==="static"){ve(pe);return}if(B.current||pe.target!==pe.currentTarget){B.current=!1;return}E==null||E()},di=pe=>{f?g==null||g(pe):(pe.preventDefault(),h==="static"&&ht())},Gu=(pe,hi)=>{pe&&ee(pe),N==null||N(pe,hi)},tl=pe=>{q.current==null||q.current(),x==null||x(pe)},tr=(pe,hi)=>{M==null||M(pe,hi),bP(window,"resize",Ze)},Eo=pe=>{pe&&(pe.style.display=""),z==null||z(pe),vy(window,"resize",Ze)},_o=p.useCallback(pe=>m.jsx("div",{...pe,className:X(`${t}-backdrop`,re,!d&&"show")}),[d,re,t]),nl={...n,...oe};nl.display="block";const qu=pe=>m.jsx("div",{role:"dialog",...pe,style:nl,className:X(e,t,D&&`${t}-static`,!d&&"show"),onClick:h?jn:void 0,onMouseUp:Sn,"aria-label":c,"aria-labelledby":a,"aria-describedby":l,children:m.jsx(o,{...ue,onMouseDown:Tt,className:r,contentClassName:i,children:s})});return m.jsx(sN.Provider,{value:Xt,children:m.jsx($6,{show:u,ref:st,backdrop:h,container:w,keyboard:!0,autoFocus:y,enforceFocus:_,restoreFocus:S,restoreFocusOptions:T,onEscapeKeyDown:di,onShow:v,onHide:E,onEnter:Gu,onEntering:tr,onEntered:C,onExit:tl,onExiting:A,onExited:Eo,manager:We(),transition:d?Z6:void 0,backdropTransition:d?J6:void 0,renderBackdrop:_o,renderDialog:qu})})});dN.displayName="Modal";const eW=Object.assign(dN,{Body:si,Header:ai,Title:li,Footer:oi,Dialog:aN,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function ka(t){return m.jsxs(St,{size:t.size,className:t.buttonClass,onClick:t.function,children:[t.icon,t.txt?m.jsx("span",{className:t.buttonValClass,children:t.txt}):m.jsx(m.Fragment,{})]})}function vE(){const t=WD();return{navigateTo:n=>{t(n)}}}function tW(){const{authContext:t}=on(),{navigateTo:e}=vE();return{redirectOnAuth:r=>{p.useEffect(()=>{t.isLogged&&e(r)},[t])}}}function nW(){const{redirectOnAuth:t}=tW(),[e,n]=p.useState(""),[r,i]=p.useState("");return t("dashboard"),m.jsxs("div",{className:"login-register-container",children:[m.jsxs("div",{className:"d-flex flex-column text-center mb-3",children:[m.jsx("div",{children:m.jsx("span",{className:"txt-large my-color-light",children:"Sign in to your account"})}),m.jsx("div",{children:m.jsx("span",{className:"txt-small my-color-light",children:"to make your tasks management easier"})})]}),m.jsxs(Kn,{className:"login-register-form bg-transparent d-flex flex-column gap-2 rounded",children:[m.jsx(rt,{labelValue:"Email",labelStyle:"my-color-light txt-medium",inputPlaceholder:"Email@example.com",inputType:"email",inputValue:e,inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:s=>{n(s.target.value)}}),m.jsx(rt,{labelValue:"Password",labelStyle:"my-color-light txt-medium",inputPlaceholder:"Password",inputValue:r,inputType:"password",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:s=>{i(s.target.value)}}),m.jsx(St,{className:"rounded btn-purple fw-semibold small",onClick:()=>{e!==""&&r!==""?D9(e,r):window.alert("Fill in email and password field.")},children:"Sign in"}),m.jsx(Kn.Text,{className:"text-center txt-small my-color-light fw-semibold",children:"or"}),m.jsx(A9,{className:"d-flex flex-column gap-2",children:m.jsx(ka,{buttonClass:"d-flex flex-row rounded gap-2 btn-purple-outline align-items-center justify-content-center ",buttonValClass:"txt-small fw-semibold my-color-lighter",icon:m.jsx(k9,{className:"text-primary regular-icon"}),txt:"Sign in with Google",function:()=>{P9(W3)}})}),m.jsxs(Kn.Text,{className:"text-center txt-smaller my-color-light",children:["Don't have the account yet?",m.jsx(KD,{to:"signup",children:"Sign up here."})]})]})]})}async function rW(t,e){wB(ku,t,e).then(async n=>{const r=n.user,i=Vn(Wt,"users",r.uid);(await oE(i)).exists()||await Nn(i,{})}).catch(n=>{const r=n.code,i=n.message;console.log(r),console.log(i)})}function iW(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[i,s]=p.useState(""),{navigateTo:o}=vE(),a=()=>t!==""&&n!==""&&n.length>7&&i===n;return m.jsxs(no,{className:"login-register-container",style:{maxWidth:"350px"},children:[m.jsx("div",{className:"d-flex flex-column text-center mb-3",children:m.jsx("div",{children:m.jsx("span",{className:"txt-large my-color-light",children:"Sign up to create your account"})})}),m.jsxs(Kn,{className:"login-register-form d-flex flex-column gap-2 rounded",children:[m.jsx(rt,{labelValue:"Email",labelStyle:"my-color-light txt-medium",inputPlaceholder:"Email@example.com",inputType:"email",inputValue:t,inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:l=>{e(l.target.value)}}),m.jsx(rt,{labelValue:"Passowrd",labelStyle:"my-color-light txt-medium",inputPlaceholder:"Password",inputType:"password",inputValue:n,inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:l=>{r(l.target.value)}}),m.jsx(rt,{labelValue:"Password repeat",labelStyle:"my-color-light txt-medium",inputPlaceholder:"Repeat your password",inputType:"password",inputValue:i,inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:l=>{s(l.target.value)}}),m.jsx(St,{className:"rounded btn-purple fw-semibold txt-small",onClick:async()=>{a()===!0?await rW(t,n).then(()=>{o("/dashboard")}):window.alert(`All fields must be filled in.
"Password" must contains at least 7 characters.
"Password" and "Password repeat" must be the same.`)},children:"Sign up"}),m.jsxs(Kn.Text,{className:"text-center fw-semibold txt-smaller my-color-light",children:["Already have account? ",m.jsx(KD,{to:"/",children:"Sign in here"})]})]})]})}function hN(t){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(t)}function sW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"}}]})(t)}function fN(t){return Bt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"}}]})(t)}function LT(t){const[e,n]=p.useState(!1),r=()=>t.items.map((s,o)=>te.cloneElement(s,{key:o})),i=({children:s,eventKey:o})=>{const a=MP(o,()=>{n(!e)});return m.jsx("button",{className:"d-flex flex-row align-items-center border-0 bg-transparent w-100 accordion-toogle-btn my-color-light",type:"button",onClick:a,children:s})};return m.jsx(IT,{defaultActiveKey:"1",children:m.jsxs(Ym,{className:"border-0 bg-transparent",children:[m.jsx(Ym.Header,{className:"border-0 bg-transparent p-2",children:m.jsxs(i,{eventKey:"0",children:[m.jsx("span",{className:"d-flex flex-1 txt-smaller my-color-light fw-bold",children:t.header}),m.jsx(fN,{style:{transform:`rotate(${e===!1?180:0}deg)`}})]})}),m.jsx(IT.Collapse,{eventKey:"0",children:m.jsx(Ym.Body,{className:"d-flex flex-column rounded p-1 gap-2 my-bg-dark",children:t.items.length>0?r():m.jsx("div",{className:"text-center my-color-light fw-semibold txt-small",children:"Add your first list"})})})]})})}function El(t){return m.jsxs(St,{"data-style":`navbar-list-${t.header}`,className:"d-flex flex-row align-items-center rounded border-0 fw-semibold nav-accordion-item pt-2 pe-2 pb-2 ",onClick:t.onClick,children:[m.jsx("div",{className:"d-flex align-items-center",style:{pointerEvents:"none"},children:t.icon}),m.jsx("span",{className:"txt-small",style:{pointerEvents:"none"},children:t.header}),t.itemValue===void 0?m.jsx(m.Fragment,{}):m.jsx("span",{className:"txt-small ms-auto",style:{pointerEvents:"none"},children:t.itemValue})]})}function oW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(t)}function aW(){const{taskLists:t,setCurrentList:e}=En(),n=r=>{const i=[];t.forEach(o=>{o.tasks.forEach(a=>{a.title.toLowerCase().includes(r.toLowerCase())&&i.push(a)})}),e({listName:"Searched tasks",listColor:"",listActive:!0,tasks:i})};return m.jsxs(no,{className:"d-flex flex-1 flex-row align-items-center my-bg-dark rounded p-0 border-0 shadowHover","data-style":"search-bar",children:[m.jsx(oW,{className:"ms-2 my-color-light regular-icon"}),m.jsx("input",{type:"text",placeholder:"Search",className:"border-0 p-2 bg-transparent rounded my-color-light fw-semibold txt-small",onFocus:()=>{document.querySelector('[data-style="search-bar"]').classList.add("shadowFocused")},onBlur:()=>{document.querySelector('[data-style="search-bar"]').classList.remove("shadowFocused")},onChange:r=>{n(r.target.value)},style:{outline:"none"}})]})}function yy(t){return Bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}}]})(t)}function pN(t){return Bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14zM6 7v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm8 7v4h-4v-4H8l4-4 4 4h-2z"}}]})(t)}function lW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(t)}function cW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6.41 6L5 7.41 9.58 12 5 16.59 6.41 18l6-6z"}},{tag:"path",attr:{d:"M13 6l-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"}}]})(t)}function uW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",x2:"16",y1:"2",y2:"6"}},{tag:"line",attr:{x1:"8",x2:"8",y1:"2",y2:"6"}},{tag:"line",attr:{x1:"3",x2:"21",y1:"10",y2:"10"}},{tag:"path",attr:{d:"M8 14h.01"}},{tag:"path",attr:{d:"M12 14h.01"}},{tag:"path",attr:{d:"M16 14h.01"}},{tag:"path",attr:{d:"M8 18h.01"}},{tag:"path",attr:{d:"M12 18h.01"}},{tag:"path",attr:{d:"M16 18h.01"}}]})(t)}function dW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"5",width:"6",height:"6",rx:"1"}},{tag:"path",attr:{d:"m3 17 2 2 4-4"}},{tag:"path",attr:{d:"M13 6h8"}},{tag:"path",attr:{d:"M13 12h8"}},{tag:"path",attr:{d:"M13 18h8"}}]})(t)}function hW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Settings"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12.6,20.936H11.3a.883.883,0,0,1-.852-.654l-.774-2.833-2.5,1.435a.886.886,0,0,1-1.06-.138l-.925-.919a.884.884,0,0,1-.143-1.066l1.469-2.545L6.509,14.2l-2.787-.747a.882.882,0,0,1-.654-.851V11.3a.882.882,0,0,1,.652-.85l2.839-.777L5.12,7.171a.885.885,0,0,1,.141-1.062l.918-.918A.885.885,0,0,1,7.24,5.049L9.792,6.514l.012,0,.745-2.79a.881.881,0,0,1,.851-.655h1.3a.883.883,0,0,1,.852.655l.762,2.838,2.509-1.441a.885.885,0,0,1,1.059.138l.926.919a.882.882,0,0,1,.141,1.067L17.483,9.777l.008.022,2.786.746a.883.883,0,0,1,.653.851v1.3a.883.883,0,0,1-.654.852l-2.837.774,1.439,2.505a.881.881,0,0,1-.141,1.063l-.917.917a.888.888,0,0,1-1.063.141l-2.539-1.462L14.2,17.5l-.745,2.785A.885.885,0,0,1,12.6,20.936Zm-1.21-1h1.119l.738-2.756a.888.888,0,0,1,.528-.592l.134-.052a.873.873,0,0,1,.76.057l2.51,1.445.789-.789-1.423-2.478a.881.881,0,0,1-.048-.78l.052-.125a.875.875,0,0,1,.584-.51l2.8-.749v-1.12l-2.755-.737a.885.885,0,0,1-.592-.529l-.052-.132a.882.882,0,0,1,.057-.763L18.04,6.818l-.8-.79-2.48,1.425a.878.878,0,0,1-.772.052l-.115-.047a.888.888,0,0,1-.518-.588l-.748-2.806H11.492l-.738,2.762a.883.883,0,0,1-.539.6l-.12.045a.874.874,0,0,1-.751-.058L6.822,5.962l-.789.789L7.455,9.227a.886.886,0,0,1,.046.785l-.051.12a.876.876,0,0,1-.579.5l-2.8.758v1.121l2.757.738a.889.889,0,0,1,.591.525l.048.121a.874.874,0,0,1-.055.77L5.958,17.181l.8.791,2.47-1.419a.878.878,0,0,1,.787-.045l.106.044a.874.874,0,0,1,.526.591ZM9.75,17.482l.008,0ZM9.6,17.421l.007,0ZM6.487,14.147h0Zm.044-4.411h0Zm7.724-3.2Z"}},{tag:"path",attr:{d:"M12,15a3,3,0,1,1,3-3A3,3,0,0,1,12,15Zm0-5a2,2,0,1,0,2,2A2,2,0,0,0,12,10Z"}}]}]}]})(t)}function fW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M116,216a12,12,0,0,1-12,12H48a20,20,0,0,1-20-20V48A20,20,0,0,1,48,28h56a12,12,0,0,1,0,24H52V204h52A12,12,0,0,1,116,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L187,116H104a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,224.49,119.51Z"}}]})(t)}function mN(t){return Bt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M210.83,178.83l-48,48a4,4,0,0,1-5.66-5.66L198.34,180H64a4,4,0,0,1-4-4V32a4,4,0,0,1,8,0V172H198.34l-41.17-41.17a4,4,0,1,1,5.66-5.66l48,48A4,4,0,0,1,210.83,178.83Z"}}]})(t)}function pW(t){return Bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H288V368c0-26.5 21.5-48 48-48H448V96c0-35.3-28.7-64-64-64H64zM448 352H402.7 336c-8.8 0-16 7.2-16 16v66.7V480l32-32 64-64 32-32z"}}]})(t)}function mW(t){let e=0;return t.forEach(n=>{n.subtasks.length>0?e=e+n.subtasks.filter(r=>r.subtaskStatus===!1).length:e++}),e}async function gW(){await TB(ku)}function _l(t,e,n,...r){const i=document.querySelectorAll(t),s=document.querySelector(`[${e}="${n.target.getAttribute(e)}"]`);i.forEach(o=>o.classList.remove(...r)),s.classList.add(...r)}function vW(t,e,n){e([...t,{listName:n.listName,listColor:n.listColor,tasks:[],listActive:!0}])}async function gN(t,e){await Nn(Vn(Wt,"users",t,"task-lists",e.listName),{list_name:e.listName,list_color:e.listColor},{merge:!0})}function yE(){const{authContext:t}=on(),{taskLists:e,setTaskLists:n}=En(),{setModalContext:r,modalContext:i}=Ft(),[s,o]=p.useState({listName:"",listColor:"#563d7c"}),a=(l,c)=>{let u=!1;if(l.length)for(let d=0;d<l.length;d++)l[d].listName===c&&(u=!0);return u};return m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Add new list"})}),m.jsxs(si,{className:"d-flex flex-row gap-4 border-0 my-bg-darker",children:[m.jsx(rt,{labelStyle:"my-color-light fw-semibold mb-1 txt-small",labelValue:"List name",inputType:"text",inputPlaceholder:"New list",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:s.listName,onChange:l=>{o({...s,listName:l.target.value})}}),m.jsx(rt,{labelStyle:"my-color-light fw-semibold mb-1 txt-small",labelValue:"List color",inputType:"color",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:s.listColor,onChange:l=>{o({...s,listColor:l.target.value})}})]}),m.jsx(oi,{className:"my-bg-darker border-0",children:m.jsx(St,{className:`${s.listName!==""?"bg-warning text-secondary":"btn-purple"} border-0 fw-semibold txt-small`,onClick:async()=>{s.listName!==""&&a(e,s.listName)===!1?(await gN(t.userID,s),vW(e,n,s),r({...i,showModal:!i.showModal})):r({...i,showModal:!i.showModal})},children:s.listName!==""?"Add list":"Close"})})]})}async function yW(t,e){const n=Vn(Wt,"users",t,"task-lists",e),r=await ly(ay(oy(Wt,"users",t,"task-lists",e,"tasks")));r.empty===!0?(await Nn(n,{}),await ih(n)):(r.forEach(async i=>{const s=Vn(Wt,"users",t,"task-lists",e,"tasks",i.data().task_id);await Nn(s,{}),await ih(s)}),await Nn(n,{}),await ih(n))}async function wW(t,e,n){e.forEach(async(r,i)=>{r.listActive!==n[i].listActive?await yW(t,e[i].listName).catch(s=>{console.log(s)}):(r.listName!==n[i].listName||r.listColor!==n[i].listColor)&&await gN(t,n[i])})}const Td=(t,e,n,r,i)=>{i(r.map(s=>s.listName===t?{...s,[e]:n}:s))};function EW(t){return m.jsxs("div",{className:"d-flex flex-row gap-4 align-items-center",children:[m.jsx(rt,{inputType:"text",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:t.list.listName,onChange:e=>{Td(t.list.listName,"listName",e.target.value,t.editedLists,t.setEditedLists)}}),m.jsx(rt,{containerStyle:"color-input-container ",inputType:"color",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:t.list.listColor,onChange:e=>{Td(t.list.listName,"listColor",e.target.value,t.editedLists,t.setEditedLists)}}),t.listActive?m.jsx(yy,{type:"button",className:`ms-1 mt-1 large-icon icon-light align-items-center ${t.listActive?"":"icon-danger"}`,onClick:()=>{Td(t.list.listName,"listActive",!t.listActive,t.editedLists,t.setEditedLists)}}):m.jsx(pN,{type:"button",className:`ms-1 mt-1 large-icon icon-light align-items-center${t.listActive?"":"icon-danger"}`,onClick:()=>{Td(t.list.listName,"listActive",!t.listActive,t.editedLists,t.setEditedLists)}})]},`Edit tasks list ${t.index}`)}function _W(t,e,n){p.useEffect(()=>{if(e.length>0){for(let r=0;r<t.length;r++)if(t[r].listName!==e[r].listName||t[r].listColor!==e[r].listColor||t[r].listActive!==e[r].listActive){n(!0);return}n(!1)}},[e])}function SW(t,e,n){let r=t;r=r.filter(i=>i.listActive===!0),e(r),n(r[0])}function bW(){const{taskLists:t,setTaskLists:e,setCurrentList:n}=p.useContext(Dp),{authContext:r}=on(),{modalContext:i,setModalContext:s}=Ft(),[o,a]=p.useState([]),[l,c]=p.useState(!1);return p.useEffect(()=>{a(t)},[t]),_W(t,o,c),m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Edit lists"})}),m.jsx(si,{className:"d-flex flex-column gap-4 border-0 my-bg-darker",children:o.length>0?m.jsx(m.Fragment,{children:o.map((u,d)=>m.jsx(EW,{list:u,index:d,listActive:u.listActive,setListHasChanged:c,editedLists:o,setEditedLists:a},`list ${d}`))}):m.jsx("div",{className:"text-center my-color-light fw-semibold txt-small",children:"Add your first list"})}),m.jsx(oi,{className:"my-bg-darker border-0",children:m.jsx(St,{type:"button",className:`${l===!1?"btn-purple":"bg-warning text-secondary"} border-0 fw-semibold txt-small`,onClick:async()=>{l===!0?(await wW(r.userID,t,o),SW(o,e,n),s({...i,showModal:!i.showModal})):s({...i,showModal:!i.showModal})},children:l===!1?"Close":"Save changes"})})]})}function po(t){return m.jsx(ka,{size:"sm",txt:t.buttonTxt,buttonValClass:"my-color-lighter txt-small",buttonClass:"flex-row d-flex flex-row fw-semibold align-items-center rounded btn-purple me-auto",icon:m.jsx(lW,{className:"regular-icon my-color-lighter"}),function:()=>{t.function()}})}function wE(){return{openSection:(e,n,r,i,s,o)=>{let a=window.innerWidth;window.addEventListener("resize",()=>{if(a=window.innerWidth,a>=o&&e.current!==null&&(e.current.style[s==="left"?"left":"right"]="0px",i(!1)),a<o&&e.current!==null){const l=n.current.offsetWidth,c=e.current.offsetWidth;r?e.current.style[s==="left"?"left":"right"]="0px":e.current.style[s==="left"?"left":"right"]=`-${c-l}px`}}),p.useEffect(()=>{const l=e.current.offsetWidth,c=n.current.offsetWidth;a<o&&e.current!==null&&(r?e.current.style[s==="left"?"left":"right"]="0px":e.current.style[s==="left"?"left":"right"]=`-${l-c}px`)},[r])}}}function TW(){const{taskLists:t,currentList:e,setCurrentList:n,setCurrentTask:r,setEditedTask:i}=En(),{modalContext:s,setModalContext:o}=Ft(),[a,l]=p.useState(!1),c=p.useRef(null),u=p.useRef(null),{navigateTo:d}=vE(),{openSection:h}=wE();return h(c,u,a,l,"left",1280),m.jsxs("div",{ref:c,className:"navbar-container my-bg-darker p-0",children:[m.jsx("div",{ref:u,className:"h-100 align-items-center section-opener-navbar section-opener",onClick:()=>{l(!a)},children:m.jsx(sW,{className:"my-color-lighter large-icon",style:{transform:`rotate(${a?180:0}deg)`}})}),m.jsxs("div",{className:"d-flex flex-column flex-1 p-4 my-scrollbar",children:[m.jsxs(no,{className:"d-flex flex-column p-0 gap-2",children:[m.jsx(aW,{}),m.jsx(LT,{header:"TASKS",items:[m.jsx(El,{header:"Upcoming",itemValue:qo(t,7).filter(f=>f.taskStatus===!1).length,onClick:f=>{if(e.listName!=="Upcoming"){const g=qo(t,7);n({listName:"Upcoming",listColor:"",listActive:"",tasks:g}),g.length?(r(g[0]),i(g[0])):(r(void 0),i(void 0)),_l('[data-style*="navbar-list"]',"data-style",f,"nav-accordion-item-focus"),d("/dashboard")}},icon:m.jsx(cW,{className:"regular-icon me-2"})}),m.jsx(El,{header:"Today",itemValue:qo(t,1).filter(f=>f.taskStatus===!1).length,onClick:f=>{if(e.listName!=="Today"){const g=qo(t,1);n({listName:"Today",listColor:"",listActive:"",tasks:g}),g.length?(r(g[0]),i(g[0])):(r(void 0),i(void 0)),_l('[data-style*="navbar-list"]',"data-style",f,"nav-accordion-item-focus"),d("/dashboard")}},icon:m.jsx(dW,{className:"regular-icon me-2 "})}),m.jsx(El,{header:"Calendar",itemValue:void 0,onClick:f=>{_l('[data-style*="navbar-list"]',"data-style",f,"nav-accordion-item-focus"),d("calendar")},icon:m.jsx(uW,{className:"regular-icon me-2"})}),m.jsx(El,{header:"Sticky Notes",itemValue:void 0,onClick:f=>{_l('[data-style*="navbar-list"]',"data-style",f,"nav-accordion-item-focus"),d("sticky_notes")},icon:m.jsx(pW,{className:"regular-icon me-2 "})})]}),m.jsx(LT,{header:"LISTS",items:t.map(f=>m.jsx(El,{header:`${f.listName}`,itemValue:mW(f.tasks.filter(g=>g.taskStatus===!1)),onClick:g=>{e.listName!==f.listName&&(n({listName:f.listName,tasks:f.tasks,listColor:f.listColor,listActive:f.listActive}),f.tasks.length?(r(f.tasks[0]),i(f.tasks[0])):(r(void 0),i(void 0)),_l('[data-style*="navbar-list"]',"data-style",g,"nav-accordion-item-focus"),d("/dashboard"))},icon:m.jsx("div",{className:"regular-icon me-2 rounded border-0 p-0",style:{backgroundColor:`${f.listColor}`,pointerEvents:"none"}})},`list category: ${f.listName}`))}),m.jsxs("div",{className:"navbar-button-container justify-content-between mt-4",children:[m.jsx(po,{buttonTxt:"Add new list",function:()=>{o({showModal:!s.showModal,modalContent:m.jsx(yE,{})})}}),m.jsx(ka,{icon:m.jsx(hW,{className:"regular-icon"}),txt:"Edit lists",size:"sm",buttonClass:"d-flex flex-row gap-2 ms-1 align-items-center txt-small my-color-light fw-semibold bg-transparent  border-0",buttonValClass:"txt-small my-color-light",function:()=>{o({showModal:!s.showModal,modalContent:m.jsx(bW,{})})}})]})]}),m.jsx(no,{className:"d-flex flex-column p-1 mt-auto",children:m.jsx(ka,{icon:m.jsx(fW,{}),txt:"Sign out",buttonClass:"d-flex flex-row gap-2 align-items-center txt-small btn-purple-outline my-color-lighter fw-semibold me-auto",function:async()=>{await gW().then(()=>{d("/")})}})})]})]})}function CW(t){return m.jsx(eW,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:t.modalcontent})}function xW(){const{modalContext:t,setModalContext:e}=Ft();return m.jsxs("div",{className:"dashboard-container rounded position-relative overflow-hidden",children:[m.jsx(TW,{}),m.jsx("div",{className:"d-flex flex-row flex-1 p-0",style:{zIndex:1,overflow:"auto"},children:m.jsx(B5,{})}),m.jsx(CW,{show:t.showModal,onHide:()=>e({...t,showModal:!t.showModal}),modalcontent:t.modalContent})]})}const VT=t=>{t.sort((e,n)=>new Date(e.start).getTime()-new Date(n.start).getTime())},jT=t=>{t.sort((e,n)=>new Date(n.start).getTime()-new Date(e.start).getTime())};function AW(t,e,n){let r=[...e.tasks];t==="Oldest"&&(VT(r),r=r.filter(s=>s.taskStatus===!1)),t==="Latest"&&(jT(r),r=r.filter(s=>s.taskStatus===!1)),t==="Ongoing"&&(r=r.filter(o=>o.taskStatus===!1),VT(r)),t==="Done"&&(r=r.filter(o=>o.taskStatus===!0),jT(r));const i={...e,tasks:r};return n(i),i}function EE(t){return m.jsx("span",{className:t.className,children:t.txt[0].toUpperCase()+t.txt.slice(1)},t.keyProp)}function Pu(t){return m.jsxs("div",{className:t.containerStyle,children:[m.jsx("div",{children:m.jsx("span",{className:t.labelStyle,children:t.label})}),m.jsx("select",{className:t.selectStyle,value:t.selectedList,onChange:t.onChange,"data-animation":t.animationData,children:t.options.map(e=>m.jsx("option",{className:t.optionStyle,children:e},`option selected: ${e}`))})]})}async function qc(t,e){await Nn(Vn(Wt,"users",t,"task-lists",e.list,"tasks",e.taskID),{task_id:e.taskID,task_title:e.title,task_description:e.description,task_starting_date:e.start,task_end_date:e.end,task_status:e.taskStatus,subtasks:e.subtasks.map(n=>{if(n.title!=="")return{subtask_id:n.subtaskID,subtask_title:n.title,subtask_status:n.subtaskStatus,subtask_description:n.description!==void 0?n.description:""}})},{merge:!0})}function Da(t){return m.jsxs(Kn.Group,{className:t.containerSyle,children:[t.labelValue?m.jsx(Kn.Label,{className:t.labelStyle,children:t.labelValue}):m.jsx(m.Fragment,{}),m.jsx("div",{className:t.inputWrapperStyle,"data-animation":t.animationData,children:m.jsx("input",{className:t.inputStyle,type:t.inputType,value:t.inputValue,min:LD(),onChange:t.onChange,style:{outline:"none"}})})]})}function RW(t,e,n,r,i){const s=i;s.subtasks=i.subtasks.map(l=>{if(l.title!=="")return l});const o=[...t],a=o.findIndex(l=>l.listName===i.list);o[a]={...o[a],tasks:[s,...o[a].tasks]},e(o),(s.list===n.listName||n.listName==="Upcoming"||n.listName==="Today")&&r({...n,tasks:[s,...n.tasks]})}const _E=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),jp=p.createContext({}),SE=p.createContext(null),Fp=typeof document<"u",vN=Fp?p.useLayoutEffect:p.useEffect,yN=p.createContext({strict:!1}),bE=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),IW="framerAppearId",wN="data-"+bE(IW);function kW(t,e,n,r){const{visualElement:i}=p.useContext(jp),s=p.useContext(yN),o=p.useContext(SE),a=p.useContext(_E).reducedMotion,l=p.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;p.useInsertionEffect(()=>{c&&c.update(n,o)});const u=p.useRef(!!(n[wN]&&!window.HandoffComplete));return vN(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),p.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DW(t,e,n){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qo(n)&&(n.current=r))},[e])}function Qc(t){return typeof t=="string"||Array.isArray(t)}function Bp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const TE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],CE=["initial",...TE];function Up(t){return Bp(t.animate)||CE.some(e=>Qc(t[e]))}function EN(t){return!!(Up(t)||t.variants)}function PW(t,e){if(Up(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Qc(n)?n:void 0,animate:Qc(r)?r:void 0}}return t.inherit!==!1?e:{}}function NW(t){const{initial:e,animate:n}=PW(t,p.useContext(jp));return p.useMemo(()=>({initial:e,animate:n}),[FT(e),FT(n)])}function FT(t){return Array.isArray(t)?t.join(" "):t}const BT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kc={};for(const t in BT)Kc[t]={isEnabled:e=>BT[t].some(n=>!!e[n])};function MW(t){for(const e in t)Kc[e]={...Kc[e],...t[e]}}const _N=p.createContext({}),SN=p.createContext({}),OW=Symbol.for("motionComponentSymbol");function LW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&MW(t);function s(a,l){let c;const u={...p.useContext(_E),...a,layoutId:VW(a)},{isStatic:d}=u,h=NW(a),f=r(a,d);if(!d&&Fp){h.visualElement=kW(i,f,u,e);const g=p.useContext(SN),v=p.useContext(yN).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,v,t,g))}return p.createElement(jp.Provider,{value:h},c&&h.visualElement?p.createElement(c,{visualElement:h.visualElement,...u}):null,n(i,a,DW(f,h.visualElement,l),f,d,h.visualElement))}const o=p.forwardRef(s);return o[OW]=i,o}function VW({layoutId:t}){const e=p.useContext(_N).id;return e&&t!==void 0?e+"-"+t:t}function jW(t){function e(r,i={}){return LW(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const FW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xE(t){return typeof t!="string"||t.includes("-")?!1:!!(FW.indexOf(t)>-1||/[A-Z]/.test(t))}const df={};function BW(t){Object.assign(df,t)}const Nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mo=new Set(Nu);function bN(t,{layout:e,layoutId:n}){return mo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!df[t]||t==="opacity")}const Qt=t=>!!(t&&t.getVelocity),UW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$W=Nu.length;function HW(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<$W;o++){const a=Nu[o];if(t[a]!==void 0){const l=UW[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const TN=t=>e=>typeof e=="string"&&e.startsWith(t),CN=TN("--"),wy=TN("var(--"),zW=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,WW=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ss=(t,e,n)=>Math.min(Math.max(n,t),e),go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jl={...go,transform:t=>ss(0,1,t)},Cd={...go,default:1},ec=t=>Math.round(t*1e5)/1e5,$p=/(-)?([\d]*\.?[\d])+/g,xN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,GW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mu(t){return typeof t=="string"}const Ou=t=>({test:e=>Mu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vi=Ou("deg"),Er=Ou("%"),G=Ou("px"),qW=Ou("vh"),QW=Ou("vw"),UT={...Er,parse:t=>Er.parse(t)/100,transform:t=>Er.transform(t*100)},$T={...go,transform:Math.round},AN={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:vi,rotateX:vi,rotateY:vi,rotateZ:vi,scale:Cd,scaleX:Cd,scaleY:Cd,scaleZ:Cd,skew:vi,skewX:vi,skewY:vi,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Jl,originX:UT,originY:UT,originZ:G,zIndex:$T,fillOpacity:Jl,strokeOpacity:Jl,numOctaves:$T};function AE(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(CN(d)){s[d]=h;continue}const f=AN[d],g=WW(h,f);if(mo.has(d)){if(l=!0,o[d]=g,!u)continue;h!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=g):i[d]=g}if(e.transform||(l||r?i.transform=HW(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${h} ${f}`}}const RE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RN(t,e,n){for(const r in e)!Qt(e[r])&&!bN(r,n)&&(t[r]=e[r])}function KW({transformTemplate:t},e,n){return p.useMemo(()=>{const r=RE();return AE(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function YW(t,e,n){const r=t.style||{},i={};return RN(i,r,t),Object.assign(i,KW(t,e,n)),t.transformValues?t.transformValues(i):i}function XW(t,e,n){const r={},i=YW(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const ZW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZW.has(t)}let IN=t=>!hf(t);function JW(t){t&&(IN=e=>e.startsWith("on")?!hf(e):t(e))}try{JW(require("@emotion/is-prop-valid").default)}catch{}function e8(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(IN(i)||n===!0&&hf(i)||!e&&!hf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function HT(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function t8(t,e,n){const r=HT(e,t.x,t.width),i=HT(n,t.y,t.height);return`${r} ${i}`}const n8={offset:"stroke-dashoffset",array:"stroke-dasharray"},r8={offset:"strokeDashoffset",array:"strokeDasharray"};function i8(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?n8:r8;t[s.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[s.array]=`${o} ${a}`}function IE(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(AE(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:v}=t;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=t8(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&i8(f,o,a,l,!1)}const kN=()=>({...RE(),attrs:{}}),kE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function s8(t,e,n,r){const i=p.useMemo(()=>{const s=kN();return IE(s,e,{enableHardwareAcceleration:!1},kE(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};RN(s,t.style,t),i.style={...s,...i.style}}return i}function o8(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(xE(n)?s8:XW)(r,s,o,n),u={...e8(r,typeof n=="string",t),...l,ref:i},{children:d}=r,h=p.useMemo(()=>Qt(d)?d.get():d,[d]);return p.createElement(n,{...u,children:h})}}function DN(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const PN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NN(t,e,n,r){DN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(PN.has(i)?i:bE(i),e.attrs[i])}function DE(t,e){const{style:n}=t,r={};for(const i in n)(Qt(n[i])||e.style&&Qt(e.style[i])||bN(i,t))&&(r[i]=n[i]);return r}function MN(t,e){const n=DE(t,e);for(const r in t)if(Qt(t[r])||Qt(e[r])){const i=Nu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function PE(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Lu(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const ff=t=>Array.isArray(t),a8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),l8=t=>ff(t)?t[t.length-1]||0:t;function sh(t){const e=Qt(t)?t.get():t;return a8(e)?e.toValue():e}function c8({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:u8(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const ON=t=>(e,n)=>{const r=p.useContext(jp),i=p.useContext(SE),s=()=>c8(t,e,r,i);return n?s():Lu(s)};function u8(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=sh(s[h]);let{initial:o,animate:a}=t;const l=Up(t),c=EN(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!Bp(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const g=PE(t,f);if(!g)return;const{transitionEnd:v,transition:E,...w}=g;for(const y in w){let _=w[y];if(Array.isArray(_)){const S=u?_.length-1:0;_=_[S]}_!==null&&(i[y]=_)}for(const y in v)i[y]=v[y]}),i}const $e=t=>t;class zT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function d8(t){let e=new zT,n=new zT,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,h=d?e:n;return c&&o.add(l),h.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const xd=["prepare","read","update","preRender","render","postRender"],h8=40;function f8(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=xd.reduce((d,h)=>(d[h]=d8(()=>n=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,h8),1),i.timestamp=d,i.isProcessing=!0,xd.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:xd.reduce((d,h)=>{const f=s[h];return d[h]=(g,v=!1,E=!1)=>(n||l(),f.schedule(g,v,E)),d},{}),cancel:d=>xd.forEach(h=>s[h].cancel(d)),state:i,steps:s}}const{schedule:Te,cancel:Sr,state:Rt,steps:tg}=f8(typeof requestAnimationFrame<"u"?requestAnimationFrame:$e,!0),p8={useVisualState:ON({scrapeMotionValuesFromProps:MN,createRenderState:kN,onMount:(t,e,{renderState:n,latestValues:r})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{IE(n,r,{enableHardwareAcceleration:!1},kE(e.tagName),t.transformTemplate),NN(e,n)})}})},m8={useVisualState:ON({scrapeMotionValuesFromProps:DE,createRenderState:RE})};function g8(t,{forwardMotionProps:e=!1},n,r){return{...xE(t)?p8:m8,preloadedFeatures:n,useRender:o8(e),createVisualElement:r,Component:t}}function Lr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const LN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Hp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const v8=t=>e=>LN(e)&&t(e,Hp(e));function $r(t,e,n,r){return Lr(t,e,v8(n),r)}const y8=(t,e)=>n=>e(t(n)),Yi=(...t)=>t.reduce(y8);function VN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const WT=VN("dragHorizontal"),GT=VN("dragVertical");function jN(t){let e=!1;if(t==="y")e=GT();else if(t==="x")e=WT();else{const n=WT(),r=GT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function FN(){const t=jN(!0);return t?(t(),!1):!0}class ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||FN())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Te.update(()=>a[r](s,o))};return $r(t.current,n,i,{passive:!t.getProps()[r]})}class w8 extends ys{mount(){this.unmount=Yi(qT(this.node,!0),qT(this.node,!1))}unmount(){}}class E8 extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yi(Lr(this.node.current,"focus",()=>this.onFocus()),Lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BN=(t,e)=>e?t===e?!0:BN(t,e.parentElement):!1;function ng(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Hp(n))}class _8 extends ys{constructor(){super(...arguments),this.removeStartListeners=$e,this.removeEndListeners=$e,this.removeAccessibleListeners=$e,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=$r(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Te.update(()=>{!d&&!BN(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=$r(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Yi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ng("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Te.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Lr(this.node.current,"keyup",o),ng("down",(a,l)=>{this.startPress(a,l)})},n=Lr(this.node.current,"keydown",e),r=()=>{this.isPressing&&ng("cancel",(s,o)=>this.cancelPress(s,o))},i=Lr(this.node.current,"blur",r);this.removeAccessibleListeners=Yi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Te.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Te.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=$r(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Lr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Yi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ey=new WeakMap,rg=new WeakMap,S8=t=>{const e=Ey.get(t.target);e&&e(t)},b8=t=>{t.forEach(S8)};function T8({root:t,...e}){const n=t||document;rg.has(n)||rg.set(n,{});const r=rg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(b8,{root:t,...e})),r[i]}function C8(t,e,n){const r=T8(e);return Ey.set(t,n),r.observe(t),()=>{Ey.delete(t),r.unobserve(t)}}const x8={some:0,all:1};class A8 extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:x8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return C8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(R8(e,n))&&this.startObserver()}unmount(){}}function R8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const I8={inView:{Feature:A8},tap:{Feature:_8},focus:{Feature:E8},hover:{Feature:w8}};function UN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function k8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function D8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function zp(t,e,n){const r=t.getProps();return PE(r,e,n!==void 0?n:r.custom,k8(t),D8(t))}let P8=$e,NE=$e;const Xi=t=>t*1e3,Hr=t=>t/1e3,N8={current:!1},$N=t=>Array.isArray(t)&&typeof t[0]=="number";function HN(t){return!!(!t||typeof t=="string"&&zN[t]||$N(t)||Array.isArray(t)&&t.every(HN))}const Vl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vl([0,.65,.55,1]),circOut:Vl([.55,0,1,.45]),backIn:Vl([.31,.01,.66,-.59]),backOut:Vl([.33,1.53,.69,.99])};function WN(t){if(t)return $N(t)?Vl(t):Array.isArray(t)?t.map(WN):zN[t]}function M8(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=WN(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function O8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const GN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L8=1e-7,V8=12;function j8(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=GN(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>L8&&++a<V8);return o}function Vu(t,e,n,r){if(t===e&&n===r)return $e;const i=s=>j8(s,0,1,t,n);return s=>s===0||s===1?s:GN(i(s),e,r)}const F8=Vu(.42,0,1,1),B8=Vu(0,0,.58,1),qN=Vu(.42,0,.58,1),U8=t=>Array.isArray(t)&&typeof t[0]!="number",QN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KN=t=>e=>1-t(1-e),ME=t=>1-Math.sin(Math.acos(t)),YN=KN(ME),$8=QN(ME),XN=Vu(.33,1.53,.69,.99),OE=KN(XN),H8=QN(OE),z8=t=>(t*=2)<1?.5*OE(t):.5*(2-Math.pow(2,-10*(t-1))),W8={linear:$e,easeIn:F8,easeInOut:qN,easeOut:B8,circIn:ME,circInOut:$8,circOut:YN,backIn:OE,backInOut:H8,backOut:XN,anticipate:z8},QT=t=>{if(Array.isArray(t)){NE(t.length===4);const[e,n,r,i]=t;return Vu(e,n,r,i)}else if(typeof t=="string")return W8[t];return t},LE=(t,e)=>n=>!!(Mu(n)&&GW.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ZN=(t,e,n)=>r=>{if(!Mu(r))return r;const[i,s,o,a]=r.match($p);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},G8=t=>ss(0,255,t),ig={...go,transform:t=>Math.round(G8(t))},Vs={test:LE("rgb","red"),parse:ZN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ig.transform(t)+", "+ig.transform(e)+", "+ig.transform(n)+", "+ec(Jl.transform(r))+")"};function q8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _y={test:LE("#"),parse:q8,transform:Vs.transform},Ko={test:LE("hsl","hue"),parse:ZN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Er.transform(ec(e))+", "+Er.transform(ec(n))+", "+ec(Jl.transform(r))+")"},Ut={test:t=>Vs.test(t)||_y.test(t)||Ko.test(t),parse:t=>Vs.test(t)?Vs.parse(t):Ko.test(t)?Ko.parse(t):_y.parse(t),transform:t=>Mu(t)?t:t.hasOwnProperty("red")?Vs.transform(t):Ko.transform(t)},Ne=(t,e,n)=>-n*t+n*e+t;function sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=sg(l,a,t+1/3),s=sg(l,a,t),o=sg(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const og=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},K8=[_y,Vs,Ko],Y8=t=>K8.find(e=>e.test(t));function KT(t){const e=Y8(t);let n=e.parse(t);return e===Ko&&(n=Q8(n)),n}const JN=(t,e)=>{const n=KT(t),r=KT(e),i={...n};return s=>(i.red=og(n.red,r.red,s),i.green=og(n.green,r.green,s),i.blue=og(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),Vs.transform(i))};function X8(t){var e,n;return isNaN(t)&&Mu(t)&&(((e=t.match($p))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(xN))===null||n===void 0?void 0:n.length)||0)>0}const eM={regex:zW,countKey:"Vars",token:"${v}",parse:$e},tM={regex:xN,countKey:"Colors",token:"${c}",parse:Ut.parse},nM={regex:$p,countKey:"Numbers",token:"${n}",parse:go.parse};function ag(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function pf(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ag(n,eM),ag(n,tM),ag(n,nM),n}function rM(t){return pf(t).values}function iM(t){const{values:e,numColors:n,numVars:r,tokenised:i}=pf(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(eM.token,o[l]):l<r+n?a=a.replace(tM.token,Ut.transform(o[l])):a=a.replace(nM.token,ec(o[l]));return a}}const Z8=t=>typeof t=="number"?0:t;function J8(t){const e=rM(t);return iM(t)(e.map(Z8))}const os={test:X8,parse:rM,createTransformer:iM,getAnimatableNone:J8},sM=(t,e)=>n=>`${n>0?e:t}`;function oM(t,e){return typeof t=="number"?n=>Ne(t,e,n):Ut.test(t)?JN(t,e):t.startsWith("var(")?sM(t,e):lM(t,e)}const aM=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>oM(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},e7=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=oM(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},lM=(t,e)=>{const n=os.createTransformer(e),r=pf(t),i=pf(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Yi(aM(r.values,i.values),n):sM(t,e)},Yc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},YT=(t,e)=>n=>Ne(t,e,n);function t7(t){return typeof t=="number"?YT:typeof t=="string"?Ut.test(t)?JN:lM:Array.isArray(t)?aM:typeof t=="object"?e7:YT}function n7(t,e,n){const r=[],i=n||t7(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||$e:e;a=Yi(l,a)}r.push(a)}return r}function VE(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(NE(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=n7(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Yc(t[u],t[u+1],c);return o[u](d)};return n?c=>l(ss(t[0],t[s-1],c)):l}function r7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Yc(0,e,r);t.push(Ne(n,1,i))}}function i7(t){const e=[0];return r7(e,t.length-1),e}function s7(t,e){return t.map(n=>n*e)}function o7(t,e){return t.map(()=>e||qN).splice(0,t.length-1)}function mf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=U8(r)?r.map(QT):QT(r),s={done:!1,value:e[0]},o=s7(n&&n.length===e.length?n:i7(e),t),a=VE(o,e,{ease:Array.isArray(i)?i:o7(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function cM(t,e){return e?t*(1e3/e):0}const a7=5;function uM(t,e,n){const r=Math.max(e-a7,0);return cM(n-t(r),e-r)}const lg=.001,l7=.01,XT=10,c7=.05,u7=1;function d7({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;P8(t<=Xi(XT));let o=1-e;o=ss(c7,u7,o),t=ss(l7,XT,Hr(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,f=Sy(c,o),g=Math.exp(-d);return lg-h/f*g},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),v=Sy(Math.pow(c,2),o);return(-i(c)+lg>0?-1:1)*((h-f)*g)/v}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-lg+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=f7(i,s,a);if(t=Xi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const h7=12;function f7(t,e,n){let r=n;for(let i=1;i<h7;i++)r=r-t(r)/e(r);return r}function Sy(t,e){return t*Math.sqrt(1-e*e)}const p7=["duration","bounce"],m7=["stiffness","damping","mass"];function ZT(t,e){return e.some(n=>t[n]!==void 0)}function g7(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ZT(t,m7)&&ZT(t,p7)){const n=d7(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function dM({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:h}=g7({...r,velocity:-Hr(r.velocity||0)}),f=d||0,g=l/(2*Math.sqrt(a*c)),v=s-i,E=Hr(Math.sqrt(a/c)),w=Math.abs(v)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let y;if(g<1){const _=Sy(E,g);y=S=>{const T=Math.exp(-g*E*S);return s-T*((f+g*E*v)/_*Math.sin(_*S)+v*Math.cos(_*S))}}else if(g===1)y=_=>s-Math.exp(-E*_)*(v+(f+E*v)*_);else{const _=E*Math.sqrt(g*g-1);y=S=>{const T=Math.exp(-g*E*S),C=Math.min(_*S,300);return s-T*((f+g*E*v)*Math.sinh(C)+_*v*Math.cosh(C))/_}}return{calculatedDuration:h&&u||null,next:_=>{const S=y(_);if(h)o.done=_>=u;else{let T=f;_!==0&&(g<1?T=uM(y,_,S):T=0);const C=Math.abs(T)<=n,x=Math.abs(s-S)<=e;o.done=C&&x}return o.value=o.done?s:S,o}}}function JT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let v=n*e;const E=d+v,w=o===void 0?E:o(E);w!==E&&(v=w-d);const y=A=>-v*Math.exp(-A/r),_=A=>w+y(A),S=A=>{const N=y(A),M=_(A);h.done=Math.abs(N)<=c,h.value=h.done?w:M};let T,C;const x=A=>{f(h.value)&&(T=A,C=dM({keyframes:[h.value,g(h.value)],velocity:uM(_,A,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:A=>{let N=!1;return!C&&T===void 0&&(N=!0,S(A),x(A)),T!==void 0&&A>T?C.next(A-T):(!N&&S(A),h)}}}const v7=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>Sr(e),now:()=>Rt.isProcessing?Rt.timestamp:performance.now()}},eC=2e4;function tC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<eC;)e+=n,r=t.next(e);return e>=eC?1/0:e}const y7={decay:JT,inertia:JT,tween:mf,keyframes:mf,spring:dM};function gf({autoplay:t=!0,delay:e=0,driver:n=v7,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let f=1,g=!1,v,E;const w=()=>{E=new Promise(B=>{v=B})};w();let y;const _=y7[i]||mf;let S;_!==mf&&typeof r[0]!="number"&&(S=VE([0,100],r,{clamp:!1}),r=[0,100]);const T=_({...h,keyframes:r});let C;a==="mirror"&&(C=_({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let x="idle",A=null,N=null,M=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=tC(T));const{calculatedDuration:z}=T;let re=1/0,fe=1/0;z!==null&&(re=z+o,fe=re*(s+1)-o);let ue=0;const it=B=>{if(N===null)return;f>0&&(N=Math.min(N,B)),f<0&&(N=Math.min(B-fe/f,N)),A!==null?ue=A:ue=Math.round(B-N)*f;const q=ue-e*(f>=0?1:-1),Se=f>=0?q<0:q>fe;ue=Math.max(q,0),x==="finished"&&A===null&&(ue=fe);let Oe=ue,st=T;if(s){const We=Math.min(ue,fe)/re;let ee=Math.floor(We),Ze=We%1;!Ze&&We>=1&&(Ze=1),Ze===1&&ee--,ee=Math.min(ee,s+1),!!(ee%2)&&(a==="reverse"?(Ze=1-Ze,o&&(Ze-=o/re)):a==="mirror"&&(st=C)),Oe=ss(0,1,Ze)*re}const me=Se?{done:!1,value:r[0]}:st.next(Oe);S&&(me.value=S(me.value));let{done:bt}=me;!Se&&z!==null&&(bt=f>=0?ue>=fe:ue<=0);const Xt=A===null&&(x==="finished"||x==="running"&&bt);return d&&d(me.value),Xt&&D(),me},oe=()=>{y&&y.stop(),y=void 0},de=()=>{x="idle",oe(),v(),w(),N=M=null},D=()=>{x="finished",u&&u(),oe(),v()},F=()=>{if(g)return;y||(y=n(it));const B=y.now();l&&l(),A!==null?N=B-A:(!N||x==="finished")&&(N=B),x==="finished"&&w(),M=N,A=null,x="running",y.start()};t&&F();const $={then(B,q){return E.then(B,q)},get time(){return Hr(ue)},set time(B){B=Xi(B),ue=B,A!==null||!y||f===0?A=B:N=y.now()-B/f},get duration(){const B=T.calculatedDuration===null?tC(T):T.calculatedDuration;return Hr(B)},get speed(){return f},set speed(B){B===f||!y||(f=B,$.time=Hr(ue))},get state(){return x},play:F,pause:()=>{x="paused",A=ue},stop:()=>{g=!0,x!=="idle"&&(x="idle",c&&c(),de())},cancel:()=>{M!==null&&it(M),de()},complete:()=>{x="finished"},sample:B=>(N=0,it(B))};return $}function w7(t){let e;return()=>(e===void 0&&(e=t()),e)}const E7=w7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ad=10,S7=2e4,b7=(t,e)=>e.type==="spring"||t==="backgroundColor"||!HN(e.ease);function T7(t,e,{onUpdate:n,onComplete:r,...i}){if(!(E7()&&_7.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(_=>{a=_})};u();let{keyframes:d,duration:h=300,ease:f,times:g}=i;if(b7(e,i)){const _=gf({...i,repeat:0,delay:0});let S={done:!1,value:d[0]};const T=[];let C=0;for(;!S.done&&C<S7;)S=_.sample(C),T.push(S.value),C+=Ad;g=void 0,d=T,h=C-Ad,f="linear"}const v=M8(t.owner.current,e,d,{...i,duration:h,ease:f,times:g}),E=()=>{c=!1,v.cancel()},w=()=>{c=!0,Te.update(E),a(),u()};return v.onfinish=()=>{c||(t.set(O8(d,i)),r&&r(),w())},{then(_,S){return l.then(_,S)},attachTimeline(_){return v.timeline=_,v.onfinish=null,$e},get time(){return Hr(v.currentTime||0)},set time(_){v.currentTime=Xi(_)},get speed(){return v.playbackRate},set speed(_){v.playbackRate=_},get duration(){return Hr(h)},play:()=>{o||(v.play(),Sr(E))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:_}=v;if(_){const S=gf({...i,autoplay:!1});t.setWithVelocity(S.sample(_-Ad).value,S.sample(_).value,Ad)}w()},complete:()=>{c||v.finish()},cancel:w}}function C7({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:$e,pause:$e,stop:$e,then:s=>(s(),Promise.resolve()),cancel:$e,complete:$e});return e?gf({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const x7={type:"spring",stiffness:500,damping:25,restSpeed:10},A7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),R7={type:"keyframes",duration:.8},I7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k7=(t,{keyframes:e})=>e.length>2?R7:mo.has(t)?t.startsWith("scale")?A7(e[1]):x7:I7,by=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(os.test(e)||e==="0")&&!e.startsWith("url(")),D7=new Set(["brightness","contrast","saturate","opacity"]);function P7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($p)||[];if(!r)return t;const i=n.replace(r,"");let s=D7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const N7=/([a-z-]*)\(.*?\)/g,Ty={...os,getAnimatableNone:t=>{const e=t.match(N7);return e?e.map(P7).join(" "):t}},M7={...AN,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Ty,WebkitFilter:Ty},jE=t=>M7[t];function hM(t,e){let n=jE(t);return n!==Ty&&(n=os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fM=t=>/^0[^.\s]+$/.test(t);function O7(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||fM(t)}function L7(t,e,n,r){const i=by(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),O7(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=hM(e,a)}return s}function V7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function FE(t,e){return t[e]||t.default||t}const j7={skipAnimations:!1},BE=(t,e,n,r={})=>i=>{const s=FE(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Xi(o);const l=L7(e,t,n,s),c=l[0],u=l[l.length-1],d=by(t,c),h=by(t,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(V7(s)||(f={...f,...k7(t,f)}),f.duration&&(f.duration=Xi(f.duration)),f.repeatDelay&&(f.repeatDelay=Xi(f.repeatDelay)),!d||!h||N8.current||s.type===!1||j7.skipAnimations)return C7(f);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=T7(e,t,f);if(g)return g}return gf(f)};function vf(t){return!!(Qt(t)&&t.add)}const pM=t=>/^\-?\d*\.?\d+$/.test(t);function UE(t,e){t.indexOf(e)===-1&&t.push(e)}function $E(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function F7([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[s]=t.splice(e,1);t.splice(i,0,s)}return t}class HE{constructor(){this.subscriptions=[]}add(e){return UE(this.subscriptions,e),()=>$E(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B7=t=>!isNaN(parseFloat(t)),tc={current:void 0};class U7{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Rt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=B7(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new HE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return tc.current&&tc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?cM(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ro(t,e){return new U7(t,e)}const mM=t=>e=>e.test(t),$7={test:t=>t==="auto",parse:t=>t},gM=[go,G,Er,vi,QW,qW,$7],Sl=t=>gM.find(mM(t)),H7=[...gM,Ut,os],z7=t=>H7.find(mM(t));function W7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ro(n))}function G7(t,e){const n=zp(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=l8(s[o]);W7(t,o,a)}}function q7(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(pM(u)||fM(u))?u=parseFloat(u):!z7(u)&&os.test(c)&&(u=hM(l,c)),t.addValue(l,ro(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function Q7(t,e){return e?(e[t]||e.default||e).from:void 0}function K7(t,e,n){const r={};for(const i in t){const s=Q7(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Y7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function X7(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function vM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||u&&Y7(u,d))continue;const g={delay:n,elapsed:0,...FE(s||{},d)};if(window.HandoffAppearAnimations){const w=t.getProps()[wN];if(w){const y=window.HandoffAppearAnimations(w,d,h,Te);y!==null&&(g.elapsed=y,g.isHandoff=!0)}}let v=!g.isHandoff&&!X7(h,f);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(BE(d,h,f,t.shouldReduceMotion&&mo.has(d)?{type:!1}:g));const E=h.animation;vf(l)&&(l.add(d),E.then(()=>l.remove(d))),c.push(E)}return o&&Promise.all(c).then(()=>{o&&G7(t,o)}),c}function Cy(t,e,n={}){const r=zp(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(vM(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return Z7(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function Z7(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(J7).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Cy(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function J7(t,e){return t.sortNodePosition(e)}function eG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Cy(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Cy(t,e,n);else{const i=typeof e=="function"?zp(t,e,n.custom):e;r=Promise.all(vM(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const tG=[...TE].reverse(),nG=TE.length;function rG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eG(t,n,r)))}function iG(t){let e=rG(t);const n=oG();let r=!0;const i=(l,c)=>{const u=zp(t,c);if(u){const{transition:d,transitionEnd:h,...f}=u;l={...l,...f,...h}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let g={},v=1/0;for(let w=0;w<nG;w++){const y=tG[w],_=n[y],S=u[y]!==void 0?u[y]:d[y],T=Qc(S),C=y===c?_.isActive:null;C===!1&&(v=w);let x=S===d[y]&&S!==u[y]&&T;if(x&&r&&t.manuallyAnimateOnMount&&(x=!1),_.protectedKeys={...g},!_.isActive&&C===null||!S&&!_.prevProp||Bp(S)||typeof S=="boolean")continue;let N=sG(_.prevProp,S)||y===c&&_.isActive&&!x&&T||w>v&&T,M=!1;const z=Array.isArray(S)?S:[S];let re=z.reduce(i,{});C===!1&&(re={});const{prevResolvedValues:fe={}}=_,ue={...fe,...re},it=oe=>{N=!0,f.has(oe)&&(M=!0,f.delete(oe)),_.needsAnimating[oe]=!0};for(const oe in ue){const de=re[oe],D=fe[oe];if(g.hasOwnProperty(oe))continue;let F=!1;ff(de)&&ff(D)?F=!UN(de,D):F=de!==D,F?de!==void 0?it(oe):f.add(oe):de!==void 0&&f.has(oe)?it(oe):_.protectedKeys[oe]=!0}_.prevProp=S,_.prevResolvedValues=re,_.isActive&&(g={...g,...re}),r&&t.blockInitialAnimation&&(N=!1),N&&(!x||M)&&h.push(...z.map(oe=>({animation:oe,options:{type:y,...l}})))}if(f.size){const w={};f.forEach(y=>{const _=t.getBaseTarget(y);_!==void 0&&(w[y]=_)}),h.push({animation:w})}let E=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(u,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function sG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UN(e,t):!1}function _s(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oG(){return{animate:_s(!0),whileInView:_s(),whileHover:_s(),whileTap:_s(),whileDrag:_s(),whileFocus:_s(),exit:_s()}}class aG extends ys{constructor(e){super(e),e.animationState||(e.animationState=iG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Bp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let lG=0;class cG extends ys{constructor(){super(...arguments),this.id=lG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uG={animation:{Feature:aG},exit:{Feature:cG}},nC=(t,e)=>Math.abs(t-e);function dG(t,e){const n=nC(t.x,e.x),r=nC(t.y,e.y);return Math.sqrt(n**2+r**2)}class yM{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ug(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=dG(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:g}=d,{timestamp:v}=Rt;this.history.push({...g,timestamp:v});const{onStart:E,onMove:w}=this.handlers;h||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=cg(h,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=ug(d.type==="pointercancel"?this.lastMoveEventInfo:cg(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,E),g&&g(d,E)},!LN(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Hp(e),a=cg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Rt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,ug(a,this.history)),this.removeListeners=Yi($r(this.contextWindow,"pointermove",this.handlePointerMove),$r(this.contextWindow,"pointerup",this.handlePointerUp),$r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sr(this.updatePoint)}}function cg(t,e){return e?{point:e(t.point)}:t}function rC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ug({point:t},e){return{point:t,delta:rC(t,wM(e)),offset:rC(t,hG(e)),velocity:fG(e,.1)}}function hG(t){return t[0]}function wM(t){return t[t.length-1]}function fG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=wM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Xi(e)));)n--;if(!r)return{x:0,y:0};const s=Hr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vn(t){return t.max-t.min}function xy(t,e=0,n=.01){return Math.abs(t-e)<=n}function iC(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),(xy(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(xy(t.translate)||isNaN(t.translate))&&(t.translate=0)}function nc(t,e,n,r){iC(t.x,e.x,n.x,r?r.originX:void 0),iC(t.y,e.y,n.y,r?r.originY:void 0)}function sC(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function pG(t,e,n){sC(t.x,e.x,n.x),sC(t.y,e.y,n.y)}function oC(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function rc(t,e,n){oC(t.x,e.x,n.x),oC(t.y,e.y,n.y)}function mG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function aC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gG(t,{top:e,left:n,bottom:r,right:i}){return{x:aC(t.x,n,i),y:aC(t.y,e,r)}}function lC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function vG(t,e){return{x:lC(t.x,e.x),y:lC(t.y,e.y)}}function yG(t,e){let n=.5;const r=vn(t),i=vn(e);return i>r?n=Yc(e.min,e.max-r,t.min):r>i&&(n=Yc(t.min,t.max-i,e.min)),ss(0,1,n)}function wG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ay=.35;function EG(t=Ay){return t===!1?t=0:t===!0&&(t=Ay),{x:cC(t,"left","right"),y:cC(t,"top","bottom")}}function cC(t,e,n){return{min:uC(t,e),max:uC(t,n)}}function uC(t,e){return typeof t=="number"?t:t[e]||0}const dC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:dC(),y:dC()}),hC=()=>({min:0,max:0}),qe=()=>({x:hC(),y:hC()});function Cn(t){return[t("x"),t("y")]}function EM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _G({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function SG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dg(t){return t===void 0||t===1}function Ry({scale:t,scaleX:e,scaleY:n}){return!dg(t)||!dg(e)||!dg(n)}function Cs(t){return Ry(t)||_M(t)||t.z||t.rotate||t.rotateX||t.rotateY}function _M(t){return fC(t.x)||fC(t.y)}function fC(t){return t&&t!=="0%"}function yf(t,e,n){const r=t-n,i=e*r;return n+i}function pC(t,e,n,r,i){return i!==void 0&&(t=yf(t,i,r)),yf(t,n,r)+e}function Iy(t,e=0,n=1,r,i){t.min=pC(t.min,e,n,r,i),t.max=pC(t.max,e,n,r,i)}function SM(t,{x:e,y:n}){Iy(t.x,e.translate,e.scale,e.originPoint),Iy(t.y,n.translate,n.scale,n.originPoint)}function bG(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,SM(t,o)),r&&Cs(s.latestValues)&&Xo(t,s.latestValues))}e.x=mC(e.x),e.y=mC(e.y)}function mC(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function _i(t,e){t.min=t.min+e,t.max=t.max+e}function gC(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ne(t.min,t.max,s);Iy(t,e[n],e[r],o,e.scale)}const TG=["x","scaleX","originX"],CG=["y","scaleY","originY"];function Xo(t,e){gC(t.x,e,TG),gC(t.y,e,CG)}function bM(t,e){return EM(SG(t.getBoundingClientRect(),e))}function xG(t,e,n){const r=bM(t,n),{scroll:i}=e;return i&&(_i(r.x,i.offset.x),_i(r.y,i.offset.y)),r}const TM=({current:t})=>t?t.ownerDocument.defaultView:null,AG=new WeakMap;class RG{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hp(u,"page").point)},s=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:g}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jN(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(E=>{let w=this.getAxisMotionValue(E).get()||0;if(Er.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[E];_&&(w=vn(_)*(parseFloat(w)/100))}}this.originPoint[E]=w}),g&&Te.update(()=>g(u,d),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:E}=d;if(f&&this.currentDirection===null){this.currentDirection=IG(E),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Cn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new yM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:TM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Te.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Rd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=mG(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Qo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=gG(i.layoutBox,n):this.constraints=!1,this.elastic=EG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=wG(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=xG(r,i.root,this.visualElement.getTransformPagePoint());let o=vG(i.layout.layoutBox,s);if(n){const a=n(_G(o));this.hasMutatedConstraints=!!a,a&&(o=EM(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Cn(u=>{if(!Rd(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(BE(e,r,0,n))}stopAnimation(){Cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cn(n=>{const{drag:r}=this.getProps();if(!Rd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=yG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cn(o=>{if(!Rd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ne(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;AG.set(this.visualElement,this);const e=this.visualElement.current,n=$r(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Lr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Cn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ay,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Rd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kG extends ys{constructor(e){super(e),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new RG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}}const vC=t=>(e,n)=>{t&&Te.update(()=>t(e,n))};class DG extends ys{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(e){this.session=new yM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vC(e),onStart:vC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Te.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=$r(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PG(){const t=p.useContext(SE);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=p.useId();return p.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const oh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=yC(t,e.target.x),r=yC(t,e.target.y);return`${n}% ${r}%`}},NG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=os.parse(t);if(i.length>5)return r;const s=os.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class MG extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;BW(OG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),oh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CM(t){const[e,n]=PG(),r=p.useContext(_N);return te.createElement(MG,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(SN),isPresent:e,safeToRemove:n})}const OG={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:NG},xM=["TopLeft","TopRight","BottomLeft","BottomRight"],LG=xM.length,wC=t=>typeof t=="string"?parseFloat(t):t,EC=t=>typeof t=="number"||G.test(t);function VG(t,e,n,r,i,s){i?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,jG(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,FG(r))):s&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<LG;o++){const a=`border${xM[o]}Radius`;let l=_C(e,a),c=_C(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||EC(l)===EC(c)?(t[a]=Math.max(Ne(wC(l),wC(c),r),0),(Er.test(c)||Er.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function _C(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jG=AM(0,.5,YN),FG=AM(.5,.95,$e);function AM(t,e,n){return r=>r<t?0:r>e?1:n(Yc(t,e,r))}function SC(t,e){t.min=e.min,t.max=e.max}function Tn(t,e){SC(t.x,e.x),SC(t.y,e.y)}function bC(t,e,n,r,i){return t-=e,t=yf(t,1/n,r),i!==void 0&&(t=yf(t,1/i,r)),t}function BG(t,e=0,n=1,r=.5,i,s=t,o=t){if(Er.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(s.min,s.max,r);t===s&&(a-=e),t.min=bC(t.min,e,n,a,i),t.max=bC(t.max,e,n,a,i)}function TC(t,e,[n,r,i],s,o){BG(t,e[n],e[r],e[i],e.scale,s,o)}const UG=["x","scaleX","originX"],$G=["y","scaleY","originY"];function CC(t,e,n,r){TC(t.x,e,UG,n?n.x:void 0,r?r.x:void 0),TC(t.y,e,$G,n?n.y:void 0,r?r.y:void 0)}function xC(t){return t.translate===0&&t.scale===1}function RM(t){return xC(t.x)&&xC(t.y)}function HG(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function IM(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function AC(t){return vn(t.x)/vn(t.y)}class zG{constructor(){this.members=[]}add(e){UE(this.members,e),e.scheduleRender()}remove(e){if($E(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RC(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const WG=(t,e)=>t.depth-e.depth;class GG{constructor(){this.children=[],this.isDirty=!1}add(e){UE(this.children,e),this.isDirty=!0}remove(e){$E(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WG),this.isDirty=!1,this.children.forEach(e)}}function qG(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Sr(r),t(s-e))};return Te.read(r,!0),()=>Sr(r)}function QG(t){window.MotionDebug&&window.MotionDebug.record(t)}function KG(t){return t instanceof SVGElement&&t.tagName!=="svg"}function YG(t,e,n){const r=Qt(t)?t:ro(t);return r.start(BE("",r,e,n)),r.animation}const IC=["","X","Y","Z"],XG={visibility:"hidden"},kC=1e3;let ZG=0;const xs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function kM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ZG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xs.totalNodes=xs.resolvedTargetDeltas=xs.recalculatedProjection=0,this.nodes.forEach(tq),this.nodes.forEach(oq),this.nodes.forEach(aq),this.nodes.forEach(nq),QG(xs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new GG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new HE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KG(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=qG(h,250),oh.hasAnimatedSinceResize&&(oh.hasAnimatedSinceResize=!1,this.nodes.forEach(PC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||hq,{onLayoutAnimationStart:E,onLayoutAnimationComplete:w}=u.getProps(),y=!this.targetLayout||!IM(this.targetLayout,g)||f,_=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const S={...FE(v,"layout"),onPlay:E,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||PC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DC);return}this.isUpdating||this.nodes.forEach(iq),this.isUpdating=!1,this.nodes.forEach(sq),this.nodes.forEach(JG),this.nodes.forEach(eq),this.clearAllSnapshots();const a=performance.now();Rt.delta=ss(0,1e3/60,a-Rt.timestamp),Rt.timestamp=a,Rt.isProcessing=!0,tg.update.process(Rt),tg.preRender.process(Rt),tg.render.process(Rt),Rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rq),this.sharedNodes.forEach(cq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!RM(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Cs(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),fq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return qe();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(_i(a.x,l.offset.x),_i(a.y,l.offset.y)),a}removeElementScroll(o){const a=qe();Tn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){Tn(a,o);const{scroll:h}=this.root;h&&(_i(a.x,-h.offset.x),_i(a.y,-h.offset.y))}_i(a.x,u.offset.x),_i(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=qe();Tn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cs(u.latestValues)&&Xo(l,u.latestValues)}return Cs(this.latestValues)&&Xo(l,this.latestValues),l}removeTransform(o){const a=qe();Tn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Cs(c.latestValues))continue;Ry(c.latestValues)&&c.updateSnapshot();const u=qe(),d=c.measurePageBox();Tn(u,d),CC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Cs(this.latestValues)&&CC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Rt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),rc(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),SM(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),rc(this.relativeTargetOrigin,this.target,f.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ry(this.parent.latestValues)||_M(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Rt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Tn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;bG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Yo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo());const v=this.projectionTransform;nc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=RC(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),xs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=qe(),f=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=f!==g,E=this.getStack(),w=!E||E.members.length<=1,y=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(dq));this.animationProgress=0;let _;this.mixTargetDelta=S=>{const T=S/1e3;NC(d.x,o.x,T),NC(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rc(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uq(this.relativeTarget,this.relativeTargetOrigin,h,T),_&&HG(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=qe()),Tn(_,this.relativeTarget)),v&&(this.animationValues=u,VG(u,c,this.latestValues,T,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{oh.hasAnimatedSinceResize=!0,this.currentAnimation=YG(0,kC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&DM(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qe();const d=vn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=vn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Tn(a,l),Xo(a,u),nc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zG),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<IC.length;u++){const d="rotate"+IC[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return XG;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sh(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=sh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cs(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=RC(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:g}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in df){if(h[v]===void 0)continue;const{correct:E,applyTo:w}=df[v],y=c.transform==="none"?h[v]:E(h[v],d);if(w){const _=w.length;for(let S=0;S<_;S++)c[w[S]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=d===this?sh(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(DC),this.root.sharedNodes.clear()}}}function JG(t){t.updateLayout()}function eq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Cn(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=vn(h);h.min=r[d].min,h.max=h.min+f}):DM(s,n.layoutBox,r)&&Cn(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=vn(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Yo();nc(a,r,n.layoutBox);const l=Yo();o?nc(l,t.applyTransform(i,!0),n.measuredBox):nc(l,r,n.layoutBox);const c=!RM(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const g=qe();rc(g,n.layoutBox,h.layoutBox);const v=qe();rc(v,r,f.layoutBox),IM(g,v)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tq(t){xs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rq(t){t.clearSnapshot()}function DC(t){t.clearMeasurements()}function iq(t){t.isLayoutDirty=!1}function sq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oq(t){t.resolveTargetDelta()}function aq(t){t.calcProjection()}function lq(t){t.resetRotation()}function cq(t){t.removeLeadSnapshot()}function NC(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function MC(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function uq(t,e,n,r){MC(t.x,e.x,n.x,r),MC(t.y,e.y,n.y,r)}function dq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hq={duration:.45,ease:[.4,0,.1,1]},OC=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),LC=OC("applewebkit/")&&!OC("chrome/")?Math.round:$e;function VC(t){t.min=LC(t.min),t.max=LC(t.max)}function fq(t){VC(t.x),VC(t.y)}function DM(t,e,n){return t==="position"||t==="preserve-aspect"&&!xy(AC(e),AC(n),.2)}const pq=kM({attachResizeListener:(t,e)=>Lr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hg={current:void 0},PM=kM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hg.current){const t=new pq({});t.mount(window),t.setOptions({layoutScroll:!0}),hg.current=t}return hg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mq={pan:{Feature:DG},drag:{Feature:kG,ProjectionNode:PM,MeasureLayout:CM}},gq=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function vq(t){const e=gq.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ky(t,e,n=1){const[r,i]=vq(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return pM(o)?parseFloat(o):o}else return wy(i)?ky(i,e,n+1):i}function yq(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!wy(s))return;const o=ky(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!wy(s))continue;const o=ky(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const wq=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),NM=t=>wq.has(t),Eq=t=>Object.keys(t).some(NM),jC=t=>t===go||t===G,FC=(t,e)=>parseFloat(t.split(", ")[e]),BC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return FC(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?FC(s[1],t):0}},_q=new Set(["x","y","z"]),Sq=Nu.filter(t=>!_q.has(t));function bq(t){const e=[];return Sq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:BC(4,13),y:BC(5,14)};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const Tq=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Pa[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Pa[c](l,s)}),t},Cq=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(NM);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=Sl(u);const h=e[l];let f;if(ff(h)){const g=h.length,v=h[0]===null?1:0;u=h[v],d=Sl(u);for(let E=v;E<g&&h[E]!==null;E++)f?NE(Sl(h[E])===f):f=Sl(h[E])}else f=Sl(h);if(d!==f)if(jC(d)&&jC(f)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===G&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||h===0)?u===0?c.set(f.transform(u)):e[l]=d.transform(h):(o||(s=bq(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Tq(e,t,a);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),Fp&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function xq(t,e,n,r){return Eq(e)?Cq(t,e,n,r):{target:e,transitionEnd:r}}const Aq=(t,e,n,r)=>{const i=yq(t,e,r);return e=i.target,r=i.transitionEnd,xq(t,e,n,r)},Dy={current:null},MM={current:!1};function Rq(){if(MM.current=!0,!!Fp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dy.current=t.matches;t.addListener(e),e()}else Dy.current=!1}function Iq(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Qt(s))t.addValue(i,s),vf(r)&&r.add(i);else if(Qt(o))t.addValue(i,ro(s,{owner:t})),vf(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,ro(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const UC=new WeakMap,OM=Object.keys(Kc),kq=OM.length,$C=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Dq=CE.length;class Pq{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Up(n),this.isVariantNode=EN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&Qt(h)&&(h.set(a[d],!1),vf(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,UC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),MM.current||Rq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UC.delete(this.current),this.projection&&this.projection.unmount(),Sr(this.notifyUpdate),Sr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=mo.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Te.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<kq;l++){const c=OM[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:f}=Kc[c];h&&(o=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&Qo(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$C.length;r++){const i=$C[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Iq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Dq;r++){const i=CE[r],s=this.props[i];(Qc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ro(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=PE(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Qt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new HE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LM extends Pq{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=K7(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){q7(this,r,o);const a=Aq(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Nq(t){return window.getComputedStyle(t)}class Mq extends LM{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(mo.has(n)){const r=jE(n);return r&&r.default||0}else{const r=Nq(e),i=(CN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bM(e,n)}build(e,n,r,i){AE(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return DE(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){DN(e,n,r,i)}}class Oq extends LM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mo.has(n)){const r=jE(n);return r&&r.default||0}return n=PN.has(n)?n:bE(n),e.getAttribute(n)}measureInstanceViewportBox(){return qe()}scrapeMotionValuesFromProps(e,n){return MN(e,n)}build(e,n,r,i){IE(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){NN(e,n,r,i)}mount(e){this.isSVGTag=kE(e.tagName),super.mount(e)}}const Lq=(t,e)=>xE(t)?new Oq(e,{enableHardwareAcceleration:!1}):new Mq(e,{enableHardwareAcceleration:!0}),Vq={layout:{ProjectionNode:PM,MeasureLayout:CM}},jq={...uG,...I8,...mq,...Vq},VM=jW((t,e)=>g8(t,e,jq,Lq)),jM=p.createContext(null);function Fq(t,e,n,r){if(!r)return t;const i=t.findIndex(u=>u.value===e);if(i===-1)return t;const s=r>0?1:-1,o=t[i+s];if(!o)return t;const a=t[i],l=o.layout,c=Ne(l.min,l.max,.5);return s===1&&a.layout.max+n>c||s===-1&&a.layout.min+n<c?F7(t,i,i+s):t}function Bq({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...s},o){const a=Lu(()=>VM(e)),l=[],c=p.useRef(!1),u={axis:n,registerItem:(d,h)=>{const f=l.findIndex(g=>d===g.value);f!==-1?l[f].layout=h[n]:l.push({value:d,layout:h[n]}),l.sort(Hq)},updateOrder:(d,h,f)=>{if(c.current)return;const g=Fq(l,d,h,f);l!==g&&(c.current=!0,r(g.map($q).filter(v=>i.indexOf(v)!==-1)))}};return p.useEffect(()=>{c.current=!1}),p.createElement(a,{...s,ref:o,ignoreStrict:!0},p.createElement(jM.Provider,{value:u},t))}const Uq=p.forwardRef(Bq);function $q(t){return t.value}function Hq(t,e){return t.layout.min-e.layout.min}function FM(t){const e=Lu(()=>ro(t)),{isStatic:n}=p.useContext(_E);if(n){const[,r]=p.useState(t);p.useEffect(()=>e.on("change",r),[])}return e}const zq=t=>t&&typeof t=="object"&&t.mix,Wq=t=>zq(t)?t.mix:void 0;function Gq(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],a=VE(i,s,{mixer:Wq(s[0]),...o});return e?a(r):a}function BM(t,e){const n=FM(e()),r=()=>n.set(e());return r(),vN(()=>{const i=()=>Te.update(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),Sr(r)}}),n}function qq(t){tc.current=[],t();const e=BM(tc.current,t);return tc.current=void 0,e}function Qq(t,e,n,r){if(typeof t=="function")return qq(t);const i=typeof e=="function"?e:Gq(e,n,r);return Array.isArray(t)?HC(t,i):HC([t],([s])=>i(s))}function HC(t,e){const n=Lu(()=>[]);return BM(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function zC(t,e=0){return Qt(t)?t:FM(e)}function Kq({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:s=!0,...o},a){const l=Lu(()=>VM(r)),c=p.useContext(jM),u={x:zC(e.x),y:zC(e.y)},d=Qq([u.x,u.y],([v,E])=>v||E?1:"unset"),{axis:h,registerItem:f,updateOrder:g}=c;return p.createElement(l,{drag:h,...o,dragSnapToOrigin:!0,style:{...e,x:u.x,y:u.y,zIndex:d},layout:s,onDrag:(v,E)=>{const{velocity:w}=E;w[h]&&g(n,u[h].get(),w[h]),i&&i(v,E)},onLayoutMeasure:v=>f(n,v),ref:a,ignoreStrict:!0},t)}const Yq=p.forwardRef(Kq),Na={Group:Uq,Item:Yq};function ws(t){return m.jsxs(Kn.Group,{className:t.containerClass,children:[m.jsx(Kn.Label,{className:t.labelClass,children:t.labelValue}),m.jsx("div",{"data-animation":t.animationData,className:t.inputWrapperClass,children:m.jsx("textarea",{placeholder:t.placeholder,value:t.txtAreaValue,onChange:t.onChange,className:t.txtAreaClass,style:{resize:"none"}})})]})}function UM(t){const[e,n]=p.useState(!1),r=t.newTask.subtasks,i=p.useRef(null),s=p.useRef(null),{openSection:o}=wE();o(i,s,e,n,"right",5e11);const a=()=>{let c=r[t.index].description;c!==void 0?(c=void 0,r[t.index].description=c,t.setNewTask({...t.newTask,subtasks:[...r]})):(c="",r[t.index].description=c,t.setNewTask({...t.newTask,subtasks:[...r]}))},l=()=>{r.splice(t.index,1),t.setNewTask({...t.newTask,subtasks:[...r]})};return m.jsxs("div",{className:"d-flex flex-column my-bg-dark rounded add-task-subtask-container scaleHover position-relative overflow-hidden pe-4 fadeIn",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",inputType:"text",inputStyle:"w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:t.subtask.title,inputPlaceholder:"Subtask title...",onChange:c=>{r[t.index].title=c.target.value,t.setNewTask({...t.newTask,subtasks:[...r]})}}),t.subtask.description!==void 0?m.jsxs("div",{className:"d-flex flex-row align-items-start",children:[m.jsx(mN,{className:"mt-3",style:{color:"white"}}),m.jsx(ws,{labelValue:"",labelClass:"my-color-light fw-semibold mb-1 txt-small",placeholder:"Subtask description...",txtAreaClass:"task-details-descripion w-100 txt-small my-bg-dark border-0 my-color-light p-2 fw-semibold",containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2 flex-1",txtAreaValue:t.subtask.description,onChange:c=>{r[t.index].description=c.target.value,t.setNewTask({...t.newTask,subtasks:[...r]})}})]}):m.jsx(m.Fragment,{}),m.jsx("div",{ref:i,className:"position-absolute h-100 add-task-subtask-options my-color-lighter pe-2",children:m.jsxs("div",{className:"d-flex flex-row align-items-center h-100 gap-2",children:[m.jsx("div",{ref:s,onClick:()=>{n(!e)},className:"h-100 d-flex align-items-center section-opener",children:m.jsx(hN,{className:"my-color-lighter large-icon",style:{transform:`rotate(${e?180:0}deg)`}})}),m.jsxs("div",{className:"d-flex flex-row gap-2",children:[m.jsx(ka,{txt:"Subtask",icon:m.jsx(yy,{className:"regular-icon"}),buttonClass:"btn-purple txt-small p-0 bg-transparent border-0 d-flex flex-row-reverse flex-1 justify-content-between align-items-center fw-semibold my-color-lighter",function:()=>{l()}}),m.jsx(ka,{txt:"Description",icon:t.subtask.description!==void 0?m.jsx(yy,{className:"regular-icon"}):m.jsx(pN,{className:"regular-icon"}),buttonClass:"btn-purple txt-small p-0 bg-transparent border-0 d-flex flex-row-reverse flex-1 justify-content-between align-items-center fw-semibold my-color-lighter",function:()=>{a()}})]})]})})]})}function $M(){const{taskLists:t,setTaskLists:e,setCurrentList:n,currentList:r}=p.useContext(Dp),{authContext:i}=on(),{modalContext:s,setModalContext:o}=Ft(),[a,l]=p.useState({start:"",end:"",description:"",taskStatus:!1,title:"",list:t[0].listName,taskID:`${new Date().getTime()}`,listColor:t[0].listColor,subtasks:[]}),c=()=>a.title!==""&&a.description!==""&&a.start!==""&&a.end!==""&&a.start!==a.end&&new Date(a.start).getTime()<new Date(a.end).getTime()&&a.list!=="";return m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Add task"})}),m.jsxs(si,{className:"d-flex flex-column gap-4 border-0 my-bg-darker modal-body overflow-auto",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Title",labelStyle:"my-color-light fw-semibold mb-1 txt-small",inputType:"text",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputPlaceholder:"Title...",inputValue:a.title,onChange:u=>{l({...a,title:u.target.value})}}),m.jsx(ws,{containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Description",placeholder:"Description...",labelClass:"my-color-light fw-semibold mb-1 txt-small",txtAreaClass:"task-details-descripion border-0 shadowHover shadowFocus w-100 txt-small modal-description my-bg-dark rounded fw-semibold my-color-light p-2",txtAreaValue:a.description,onChange:u=>{l({...a,description:u.target.value})}}),m.jsxs("div",{className:"d-flex flex-column p-0 gap-2 me-auto",children:[m.jsx(Pu,{containerStyle:"d-flex flex-row p-0 gap-2 fw-semibold ms-auto align-items-center bg-transparent w-100 justify-content-between",label:"List",labelStyle:"my-color-light",selectStyle:"border-0 rounded fw-semibold txt-small text-start p-1 select-purple my-color-lighter",optionStyle:"fw-semibold txt-small",options:t.map(u=>u.listName),selectedList:a.list,onChange:u=>{let d=t.map(h=>h.listName).indexOf(u.target.value);l({...a,list:t[d].listName,listColor:t[d].listColor})}}),m.jsx(Da,{containerSyle:"d-flex flex-row justify-content-between gap-4 my-color-light fw-semibold txt-small align-items-center p-0",labelValue:"Start",inputStyle:"border-0 rounded my-color-light p-1 ms-auto fw-semibold txt-small shadowFocus shadowHover my-bg-dark text-center",inputType:"datetime-local",inputValue:a.start,onChange:u=>{l({...a,start:u.target.value})}}),m.jsx(Da,{containerSyle:"d-flex flex-row justify-content-between gap-4 my-color-light fw-semibold txt-small align-items-center p-0",labelValue:"Start",inputStyle:"border-0 rounded my-color-light p-1 ms-auto fw-semibold txt-small shadowFocus shadowHover my-bg-dark text-center",inputType:"datetime-local",inputValue:a.end,onChange:u=>{l({...a,end:u.target.value})}})]}),m.jsx(po,{buttonTxt:"Add subtask",function:()=>{const u=new Date().getTime();l({...a,subtasks:[...a.subtasks,{subtaskID:`${u}`,title:"",description:"",subtaskStatus:!1}]})}}),m.jsx("div",{className:"d-flex flex-column",children:m.jsx(Na.Group,{axis:"y",values:a.subtasks,className:"d-flex flex-column p-0 gap-4",onReorder:u=>{l({...a,subtasks:[...u]})},children:a.subtasks.map((u,d)=>m.jsx(Na.Item,{value:u,children:m.jsx(UM,{subtask:u,newTask:a,setNewTask:l,index:d})},u.subtaskID))})})]}),m.jsx(oi,{className:"my-bg-darker border-0",children:m.jsx(St,{size:"sm",className:`${c()?"bg-warning text-secondary":"btn-purple my-color-light"} border-0 fw-semibold my-color-lighter txt-small`,onClick:async()=>{c()?(await qc(i.userID,a),RW(t,e,r,n,a),o({...s,showModal:!s.showModal})):o({...s,showModal:!s.showModal})},children:c()?"Add task":"Close"})})]})}const ur=(t,e,n,r)=>{e({...t,[n]:r.target.value})};async function zE(t,e){const n=Vn(Wt,"users",t,"task-lists",e.list,"tasks",e.taskID);await Nn(n,{}),await ih(n)}async function HM(t,e,n){e.list===n.list?await qc(t,n):(await zE(t,e),await qc(t,n))}function zM(t,e,n,r,i){const s=i.findIndex(l=>l.listName===t.list),o=i.findIndex(l=>l.listName===e.list);let a=[...i];if(t.list===e.list){const l=i[s].tasks.findIndex(c=>c.taskID===e.taskID);a[s].tasks[l]=e,n({...a[s]}),r(a)}else{const l=i[s].tasks.findIndex(c=>c.taskID===t.taskID);a[s].tasks.splice(l,1),a[o].tasks.push(e),n({...a[o]}),r(a)}}function WM(t,e,n,r){const i=t.map(o=>(o.listName===r.list&&(o.tasks=o.tasks.filter(a=>a.taskID!==r.taskID)),o)),s=i.find(o=>o.listName===r.list);e(i),n({...s,tasks:s.tasks})}function Xq(t,e,n){const r={...t};r.subtasks=[...r.subtasks,n],e(r)}function Zq(){const{modalContext:t,setModalContext:e}=Ft(),{editedTask:n,setEditedTask:r}=En(),[i,s]=p.useState({subtaskID:`${new Date().getTime()}`,title:"",description:"",subtaskStatus:!1});return m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Add subtask"})}),m.jsxs(si,{className:"d-flex flex-column gap-4 border-0 my-bg-darker",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelStyle:"my-color-light fw-semibold mb-1 txt-small",labelValue:"Subtask title",inputType:"text",inputPlaceholder:"Subtask title...",inputValue:i.title,inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:o=>{s({...i,title:o.target.value})}}),m.jsx(ws,{containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Subtask Description",placeholder:"Subtask description...",labelClass:"my-color-light fw-semibold mb-1",txtAreaClass:"w-100 txt-small shadowHover shadowFocus my-bg-dark rounded border-0 my-color-light p-2 fw-semibold modal-description",txtAreaValue:i.description,onChange:o=>{s({...i,description:o.target.value})}})]}),m.jsx(oi,{className:"my-bg-darker border-0",children:m.jsx(St,{className:`txt-small btn ${i.title!==""?"bg-warning text-secondary":"btn-purple my-color-lighter"} border-0 fw-semibold`,onClick:()=>{i.title!==""?(Xq(n,r,i),e({...t,showModal:!t.showModal})):e({...t,showModal:!t.showModal})},children:i.title!==""?"Add":"Close"})})]})}const Jq=(t,e,n)=>{let r=[...t.subtasks];const i=t.subtasks.findIndex(s=>s.subtaskID===n.subtaskID);t.subtasks[i]?r[i]=n:r=[n,...r],e({...t,subtasks:r})};function eQ(t,e,n){let r=[...t.subtasks];const i=t.subtasks.findIndex(s=>s.subtaskID===n.subtaskID);r.splice(i,1),e({...t,subtasks:r})}function tQ(t){const{currentTask:e,editedTask:n,setEditedTask:r}=En(),{modalContext:i,setModalContext:s}=Ft(),[o,a]=p.useState(t.subtask),l=p.useRef(),[c,u]=p.useState(!1);return l.current=t.subtask,p.useEffect(()=>{e.subtasks[t.index]&&(o.title!==e.subtasks[t.index].title||o.description!==e.subtasks[t.index].description?u(!0):u(!1)),l.current.title!==o.title||l.current.description!==o.description?u(!0):u(!1)},[o]),m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Edit subtask"})}),m.jsxs(si,{className:"d-flex flex-column gap-4 border-0 my-bg-darker",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelStyle:"my-color-light fw-semibold mb-1 txt-small",labelValue:"Subtask title",inputType:"text",inputPlaceholder:"Subtask title...",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:o.title,onChange:d=>{a({...o,title:d.target.value})}}),m.jsx(ws,{containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Subtask Description",placeholder:"Subtask description...",labelClass:"my-color-light fw-semibold mb-1",txtAreaClass:"modal-description w-100 txt-small shadowHover shadowFocus my-bg-dark rounded border-0 my-color-light p-2 fw-semibold",txtAreaValue:o.description,onChange:d=>{a({...o,description:d.target.value})}})]}),m.jsxs(oi,{className:"my-bg-darker border-0 d-flex flex-row gap-4",children:[m.jsx(St,{className:"fw-semibold btn-purple-outline my-color-lighter txt-small",style:{flex:1},onClick:()=>{s({...i,showModal:!i.showModal})},children:"Close"}),m.jsx(St,{className:`${c?"bg-warning text-secondary":"btn-purple my-color-lighter"} border-0 fw-semibold txt-small`,style:{flex:1},onClick:()=>{c?(Jq(n,r,o),s({...i,showModal:!i.showModal})):(eQ(n,r,o),s({...i,showModal:!i.showModal}))},children:c?"Save Changes":"Delete"})]})]})}function nQ(t,e,n){const r=t.subtasks;r[n].subtaskStatus=!r[n].subtaskStatus,e({...t,subtasks:[...r]})}function rQ(t){const{modalContext:e,setModalContext:n}=Ft(),{setEditedTask:r,editedTask:i}=En();return m.jsxs("div",{className:"d-flex flex-column gap-1 border-0 rounded my-bg-dark shadowHover p-2","data-animation":t.animationData,style:{cursor:"pointer",position:"relative",maxHeight:"200px"},onMouseUp:()=>{r({...i,subtasks:t.reorderedSubtasks})},onDoubleClick:()=>{n({...e,modalContent:m.jsx(tQ,{subtask:t.subtask,index:t.index}),showModal:!e.showModal})},children:[m.jsxs("div",{className:"p-1 border-0 rounded my-color-light fw-semibold txt-small d-flex flex-row align-items-center",children:[m.jsx("span",{className:"flex-1 text-truncate",children:t.subtask.title}),m.jsx("input",{type:"checkbox",onDoubleClick:s=>{s.stopPropagation()},onChange:async()=>{nQ(i,r,t.index)},checked:t.subtask.subtaskStatus,className:"checkbox ms-2"})]}),t.subtask.description!==""?m.jsxs("div",{className:"d-flex flex-row mt-1 gap-1 bg-transparent my-color-light fw-semibold txt-small overflow-hidden",children:[m.jsx(mN,{className:"small-icon ms-1 flex-shrink-0"}),m.jsx("div",{className:"my-scrollbar task-details-subtask-description",children:m.jsx("span",{className:"ps-1 pe-1 fw-semibold txt-small ",style:{wordBreak:"break-word"},children:t.subtask.description})})]}):null]})}function iQ(t){const{modalContext:e,setModalContext:n}=Ft(),{editedTask:r}=En(),[i,s]=p.useState(r.subtasks);return p.useEffect(()=>{s(r.subtasks)},[r]),m.jsxs(no,{className:"p-0 d-flex flex-column flex-1 gap-4",children:[m.jsx("div",{className:"my-color-light fw-bold txt-medium",children:m.jsx("span",{children:"Subtasks:"})}),m.jsx(po,{buttonTxt:"Add subtask",function:()=>{n({modalContent:m.jsx(Zq,{}),showModal:!e.showModal})}}),m.jsx("div",{className:"d-flex flex-column slideInRight opacity_0","data-animation":t.animationData,children:m.jsx(Na.Group,{axis:"y",values:i,onReorder:s,className:"d-flex flex-column p-2 gap-4 ",children:i.map((o,a)=>m.jsx(Na.Item,{value:o,children:m.jsx(rQ,{subtask:o,reorderedSubtasks:i,index:a,animationData:t.animationData},`subtask ${a}`)},o.subtaskID))})})]})}const GM=(t,e,n)=>{for(const r in t){if(t[r]!==e[r]&&r!=="subtasks"){n(!0);return}if(r==="subtasks"){if(t[r].length!==e[r].length){n(!0);return}for(const i in t[r]){const s=t[r][i],o=e[r][i];if(s.description!==o.description||s.title!==o.title||s.subtaskStatus!==o.subtaskStatus){n(!0);return}}return}n(!1)}};function qM(t,e){const[n,r]=p.useState(!1);return p.useEffect(()=>{GM(t,e,r)},[e]),n}function Py(t){return document.querySelectorAll(t)}function sQ(){const{currentTask:t}=En();return{taskDetailsAnimation:n=>{p.useEffect(()=>{Py('[data-animation="slide-animation"]').forEach(r=>{r.classList.remove("slideInRight"),r.style.animationDuration=`${n}ms`,setTimeout(()=>{r.classList.add("slideInRight"),r.classList.remove("opacity_0")},1),n+=100})},[t])}}}function oQ(t){const{currentTask:e,setCurrentTask:n,setEditedTask:r,editedTask:i,taskLists:s,setTaskLists:o,setCurrentList:a}=En(),{authContext:l}=on(),[c,u]=p.useState(!1),d=p.useRef(null),h=p.useRef(null),f=qM(e,i),{taskDetailsAnimation:g}=sQ(),{openSection:v}=wE();return g(500),v(d,h,c,u,"right",1025),m.jsxs("div",{ref:d,className:"p-0 d-flex flex-row my-bg-darker task-details-container overflow-hidden",children:[m.jsx("div",{ref:h,className:"h-100 align-items-center section-opener-task-details section-opener",onClick:()=>{u(!c)},children:m.jsx(hN,{className:"my-color-lighter large-icon",style:{transform:`rotate(${c?180:0}deg)`}})}),m.jsxs("div",{className:"d-flex flex-column flex-1 justify-content-between gap-2 overflow-hidden","data-task-details":"task-details-slider",children:[m.jsxs("div",{className:"p-4 d-flex flex-column flex-1 gap-4 my-scrollbar",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelStyle:"my-color-light txt-large",labelValue:"Task:",inputType:"text",inputWrapperStyle:"slideInRight opacity_0",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:i.title,onChange:E=>{ur(i,r,"title",E)},animationData:"slide-animation"}),m.jsx(ws,{containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Description",inputWrapperClass:"opacity_0 slideInRight",labelClass:"my-color-light fw-semibold mb-1 txt-large",txtAreaClass:"task-details-descripion w-100 txt-small shadowHover shadowFocus my-bg-dark rounded border-0 my-color-light p-2 fw-semibold",txtAreaValue:i.description,onChange:E=>{ur(i,r,"description",E)},animationData:"slide-animation"}),m.jsxs("div",{className:"d-flex flex-column p-1 gap-2",children:[m.jsx(Pu,{containerStyle:"d-flex flex-row justify-content-between w-100 p-0 gap-2 fw-semibold ms-auto align-items-center bg-transparent",label:"List",labelStyle:"my-color-light",selectStyle:"border-0 rounded fw-semibold txt-small text-center p-2 select-purple my-color-lighter slideInRight opacity_0",optionStyle:"fw-semibold txt-smaller",options:s.map(E=>E.listName),selectedList:i.list,onChange:E=>{ur(i,r,"list",E)},animationData:"slide-animation"}),m.jsx(Da,{containerSyle:"task-details-date-container my-color-light gap-2 justify-content-between fw-semibold p-0",labelValue:"Start",labelStyle:"my-auto mx-0 d-flex flex-1  txt-small",inputWrapperStyle:"slideInRight opacity_0",inputStyle:"border-0 rounded my-color-light p-1 task-details-date-input fw-semibold m-0 shadowFocus shadowHover my-bg-dark text-start txt-small",inputType:"datetime-local",inputValue:i.start,onChange:E=>{ur(i,r,"start",E)},animationData:"slide-animation"}),m.jsx(Da,{containerSyle:"task-details-date-container my-color-light gap-2 justify-content-between fw-semibold p-0",labelValue:"End",labelStyle:"my-auto mx-0 d-flex flex-1  txt-small",inputWrapperStyle:"slideInRight opacity_0",inputStyle:"border-0 rounded my-color-light p-1 task-details-date-input fw-semibold m-0 shadowFocus shadowHover my-bg-dark text-start txt-small",inputType:"datetime-local",inputValue:i.end,onChange:E=>{ur(i,r,"end",E)},animationData:"slide-animation"})]}),m.jsx(iQ,{animationData:"slide-animation"})]}),m.jsx(no,{className:"d-flex flex-column px-4 pb-4",children:m.jsx(St,{className:`${f?"bg-warning text-secondary":"btn-purple my-color-lighter"} border-0 fw-semibold txt-small`,onClick:async()=>{f?(await HM(l.userID,e,i),zM(e,i,a,o,s),n(t.sortedList.tasks[0]),r(t.sortedList.tasks[0])):(await zE(l.userID,e),WM(s,o,a,e),n(t.sortedList.tasks[0]))},children:f?"Save changes":"Delete task"})})]})]})}async function QM(t,e,n,r,i){let s=t;const o=Py('[data-animation="slide-animation"]');if(o.length){o.forEach(l=>{l.style.transition="0ms",l.classList.add("opacity_0")}),await new Promise(async l=>{n(r),i(r),setTimeout(l,10)});const a=Py('[data-animation="slide-animation"]');a.forEach(l=>{l.classList.remove("slideInRight"),l.style.animationDuration=`${s}ms`,setTimeout(()=>{l.classList.add("slideInRight"),l.classList.remove("opacity_0")},1),s+=e}),a.forEach(l=>{l.style.transition="300ms"})}else n(r),i(r);s=t}function aQ(t){return m.jsxs("div",{className:"d-flex flex-row w-100 my-color-light",style:{pointerEvents:"none"},children:[m.jsx("span",{className:"text-truncate text-start txt-medium",children:t.task.title}),m.jsx(fN,{className:"my-color-light regular-icon ms-auto",style:{transform:"rotate(90deg)"}})]})}function lQ(t){return Bt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zm9.954 3H2.545c-.3 0-.545.224-.545.5v1c0 .276.244.5.545.5h10.91c.3 0 .545-.224.545-.5v-1c0-.276-.244-.5-.546-.5zm-6.6 5.146a.5.5 0 1 0-.708.708L7.293 10l-1.147 1.146a.5.5 0 0 0 .708.708L8 10.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 10l1.147-1.146a.5.5 0 0 0-.708-.708L8 9.293 6.854 8.146z"}}]})(t)}function cQ(t){const e=n=>new Date(n).toLocaleString();return m.jsxs("div",{className:"d-flex flex-row align-items-center gap-2 my-color-light",children:[m.jsx(lQ,{className:"my-color-light"}),m.jsxs("div",{className:"d-flex flex-row gap-1",children:[m.jsx("span",{children:e(t.task.start)}),m.jsx("span",{children:t.task.end!==t.task.start?"-":m.jsx(m.Fragment,{})}),t.task.end!==t.task.start?m.jsx("span",{children:e(t.task.end)}):m.jsx(m.Fragment,{})]})]})}function uQ(t){return m.jsxs("div",{className:" align-items-center text-center gap-2 my-color-light task-list-item-details-subtasks",children:[m.jsx("div",{className:"d-flex justify-content-center align-items-center currentList-task-subtasksIcon currentList-task-icon-radius text-truncate",children:t.task.subtasks.length?t.task.subtasks.length:1}),m.jsx("span",{className:"text-truncate",children:"Subtasks"})]})}function dQ(t){return m.jsxs("div",{className:"align-items-center gap-2 my-color-light task-list-item-details-list",children:[m.jsx("div",{className:"small-icon currentList-task-icon-radius",style:{backgroundColor:`${t.task.listColor}`}}),m.jsx("span",{children:t.task.list})]})}async function hQ(t,e,n,r){await Nn(Vn(Wt,"users",t,"task-lists",e,"tasks",n),{task_status:!r.taskStatus},{merge:!0})}function fQ(t,e,n){const r=t.findIndex(o=>o.listName===e.list),i=t[r].tasks.findIndex(o=>o.taskID===e.taskID),s=[...t];s[r].tasks[i].taskStatus=!e.taskStatus,n(s)}function pQ(t){const{currentTask:e,setCurrentTask:n,setEditedTask:r,taskLists:i,setTaskLists:s}=En(),{authContext:o}=on();return m.jsxs("div",{className:"d-flex flex-row gap-2 p-2 ms-1 currentList-tasks-container fadeIn",children:[m.jsx("input",{type:"checkbox",onChange:async()=>{await hQ(o.userID,t.task.list,t.task.taskID,t.task),fQ(i,t.task,s)},checked:t.task.taskStatus,className:"checkbox mt-4"}),m.jsxs(St,{className:`d-flex flex-column flex-1 align-items-start border-0 fw-semibold p-3 gap-2 currentList-task scaleHover ${e&&t.task.taskID===e.taskID?"currentList-task-focus scaleHoverFocus":""}`,onClick:()=>{e.taskID!==t.task.taskID&&QM(500,100,n,t.task,r)},children:[m.jsx(aQ,{task:t.task}),m.jsxs("div",{className:"d-flex flex-row gap-4 align-items-center fw-semibold txt-small p-0 m-0",style:{pointerEvents:"none"},children:[m.jsx(cQ,{task:t.task}),m.jsx(uQ,{task:t.task}),m.jsx(dQ,{task:t.task})]})]})]},t.task.title)}function fg(t){return t.map(e=>m.jsx(pQ,{task:e},`task ${e.taskID}`))}function mQ(t){if(t.listName==="Upcoming")return t.tasks.length?fg(t.tasks):m.jsx("div",{className:"d-flex justify-content-center align-items-center text-center  text-secondary fw-semibold txt-small flex-1",children:"No tasks for upcoming days"});if(t.listName==="Today")return t.tasks.length?fg(t.tasks):m.jsx("div",{className:"d-flex justify-content-center align-items-center text-center text-secondary fw-semibold txt-small flex-1",children:"No tasks for today"});if(t.listName!=="Upcoming"&&t.listName!==" Today")return t.tasks.length?fg(t.tasks):m.jsx("div",{className:"d-flex justify-content-center align-items-center text-center  text-secondary fw-semibold txt-small flex-1",children:"Add your first task"})}function gQ(t){return m.jsx("div",{className:"d-flex flex-column gap-4 flex-1",children:mQ(t.list)})}function vQ(){const{modalContext:t,setModalContext:e}=Ft(),{taskLists:n,currentList:r,editedTask:i,currentTask:s,setCurrentTask:o,setEditedTask:a}=En(),[l,c]=p.useState(r),[u,d]=p.useState("Oldest");return p.useEffect(()=>{QM(500,100,o,l.tasks[0],a)},[l]),p.useEffect(()=>{c(AW(u,r,c))},[r,u]),m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"d-flex flex-column flex-1 p-2 position-relative",children:[m.jsx(EE,{txt:`${r.listName}`,keyProp:r.listName,className:"txt-larger fw-semibold ms-2 mb-2 my-color-light fadeIn"}),m.jsxs("div",{className:"d-flex flex-column gap-3 flex-1 my-scrollbar",children:[m.jsxs("div",{className:"d-flex flex-row align-items-center gap-4 me-1",children:[m.jsx(po,{buttonTxt:"Add task",function:()=>{n.length>0?e({showModal:!t.showModal,modalContent:m.jsx($M,{})}):(window.alert("You have no task list created yet. Please create new task list first."),e({showModal:!t.showModal,modalContent:m.jsx(yE,{})}))}}),m.jsx(Pu,{containerStyle:"d-flex flex-row p-0 gap-2 fw-semibold ms-auto align-items-center bg-transparent",label:"Sort by:",labelStyle:"my-color-light txt-small",selectStyle:"border-0 rounded fw-semibold txt-small text-center p-2 select-purple my-color-lighter",optionStyle:"fw-semibold txt-smaller ",options:["Oldest","Latest","Done","Ongoing"],selectedList:u,onChange:h=>{d(h.target.value)}})]}),m.jsx(gQ,{list:l})]})]}),i!==void 0&&s!==void 0?m.jsx(oQ,{sortedList:l}):null]})}var Wp,H,KM,YM,Ma,Is,WC,XM,ZM,wf={},JM=[],yQ=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ni(t,e){for(var n in e)t[n]=e[n];return t}function eO(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Wp.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return ah(t,o,r,i,null)}function ah(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++KM};return i==null&&H.vnode!=null&&H.vnode(s),s}function Gt(){return{current:null}}function ke(t){return t.children}function wQ(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||Ef(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||Ef(t,s,e[s],n[s],r)}function GC(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||yQ.test(e)?n:n+"px"}function Ef(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||GC(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||GC(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?QC:qC,s):t.removeEventListener(e,s?QC:qC,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function qC(t){Ma=!0;try{return this.l[t.type+!1](H.event?H.event(t):t)}finally{Ma=!1}}function QC(t){Ma=!0;try{return this.l[t.type+!0](H.event?H.event(t):t)}finally{Ma=!1}}function fn(t,e){this.props=t,this.context=e}function Xc(t,e){if(e==null)return t.__?Xc(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Xc(t):null}function tO(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return tO(t)}}function EQ(t){Ma?setTimeout(t):XM(t)}function Ny(t){(!t.__d&&(t.__d=!0)&&Is.push(t)&&!_f.__r++||WC!==H.debounceRendering)&&((WC=H.debounceRendering)||EQ)(_f)}function _f(){var t,e,n,r,i,s,o,a;for(Is.sort(function(l,c){return l.__v.__b-c.__v.__b});t=Is.shift();)t.__d&&(e=Is.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=Ni({},s)).__v=s.__v+1,WE(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Xc(s),s.__h),oO(r,s),s.__e!=o&&tO(s)),Is.length>e&&Is.sort(function(l,c){return l.__v.__b-c.__v.__b}));_f.__r=0}function nO(t,e,n,r,i,s,o,a,l,c){var u,d,h,f,g,v,E,w=r&&r.__k||JM,y=w.length;for(n.__k=[],u=0;u<e.length;u++)if((f=n.__k[u]=(f=e[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?ah(null,f,null,null,f):Array.isArray(f)?ah(ke,{children:f},null,null,null):f.__b>0?ah(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(h=w[u])===null||h&&f.key==h.key&&f.type===h.type)w[u]=void 0;else for(d=0;d<y;d++){if((h=w[d])&&f.key==h.key&&f.type===h.type){w[d]=void 0;break}h=null}WE(t,f,h=h||wf,i,s,o,a,l,c),g=f.__e,(d=f.ref)&&h.ref!=d&&(E||(E=[]),h.ref&&E.push(h.ref,null,f),E.push(d,f.__c||g,f)),g!=null?(v==null&&(v=g),typeof f.type=="function"&&f.__k===h.__k?f.__d=l=rO(f,l,t):l=iO(t,f,h,w,g,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Xc(h))}for(n.__e=v,u=y;u--;)w[u]!=null&&(typeof n.type=="function"&&w[u].__e!=null&&w[u].__e==n.__d&&(n.__d=sO(r).nextSibling),lO(w[u],w[u]));if(E)for(u=0;u<E.length;u++)aO(E[u],E[++u],E[++u])}function rO(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?rO(r,e,n):iO(n,r,r,i,r.__e,e));return e}function Sf(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Sf(n,e)}):e.push(t)),e}function iO(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function sO(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=sO(n)))return r}return null}function WE(t,e,n,r,i,s,o,a,l){var c,u,d,h,f,g,v,E,w,y,_,S,T,C,x,A=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(c=H.__b)&&c(e);try{e:if(typeof A=="function"){if(E=e.props,w=(c=A.contextType)&&r[c.__c],y=c?w?w.props.value:c.__:r,n.__c?v=(u=e.__c=n.__c).__=u.__E:("prototype"in A&&A.prototype.render?e.__c=u=new A(E,y):(e.__c=u=new fn(E,y),u.constructor=A,u.render=SQ),w&&w.sub(u),u.props=E,u.state||(u.state={}),u.context=y,u.__n=r,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),A.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Ni({},u.__s)),Ni(u.__s,A.getDerivedStateFromProps(E,u.__s))),h=u.props,f=u.state,u.__v=e,d)A.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(A.getDerivedStateFromProps==null&&E!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(E,y),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(E,u.__s,y)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=E,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(N){N&&(N.__=e)}),_=0;_<u._sb.length;_++)u.__h.push(u._sb[_]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(E,u.__s,y),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,f,g)})}if(u.context=y,u.props=E,u.__P=t,S=H.__r,T=0,"prototype"in A&&A.prototype.render){for(u.state=u.__s,u.__d=!1,S&&S(e),c=u.render(u.props,u.state,u.context),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[]}else do u.__d=!1,S&&S(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++T<25);u.state=u.__s,u.getChildContext!=null&&(r=Ni(Ni({},r),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(h,f)),x=c!=null&&c.type===ke&&c.key==null?c.props.children:c,nO(t,Array.isArray(x)?x:[x],e,n,r,i,s,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),v&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=_Q(n.__e,e,n,r,i,s,o,l);(c=H.diffed)&&c(e)}catch(N){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),H.__e(N,e,n)}}function oO(t,e){H.__c&&H.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){H.__e(r,n.__v)}})}function _Q(t,e,n,r,i,s,o,a){var l,c,u,d=n.props,h=e.props,f=e.type,g=0;if(f==="svg"&&(i=!0),s!=null){for(;g<s.length;g++)if((l=s[g])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){t=l,s[g]=null;break}}if(t==null){if(f===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),s=null,a=!1}if(f===null)d===h||a&&t.data===h||(t.data=h);else{if(s=s&&Wp.call(t.childNodes),c=(d=n.props||wf).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(s!=null)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(wQ(t,h,d,i,a),u)e.__k=[];else if(g=e.props.children,nO(t,Array.isArray(g)?g:[g],e,n,r,i&&f!=="foreignObject",s,o,s?s[0]:n.__k&&Xc(n,0),a),s!=null)for(g=s.length;g--;)s[g]!=null&&eO(s[g]);a||("value"in h&&(g=h.value)!==void 0&&(g!==t.value||f==="progress"&&!g||f==="option"&&g!==d.value)&&Ef(t,"value",g,d.value,!1),"checked"in h&&(g=h.checked)!==void 0&&g!==t.checked&&Ef(t,"checked",g,d.checked,!1))}return t}function aO(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){H.__e(r,n)}}function lO(t,e,n){var r,i;if(H.unmount&&H.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||aO(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){H.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&lO(r[i],e,n||typeof t.type!="function");n||t.__e==null||eO(t.__e),t.__=t.__e=t.__d=void 0}function SQ(t,e,n){return this.constructor(t,n)}function Zc(t,e,n){var r,i,s;H.__&&H.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],WE(e,t=(!r&&n||e).__k=b(ke,null,[t]),i||wf,wf,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Wp.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),oO(s,t)}function bQ(t,e){var n={__c:e="__cC"+ZM++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Ny(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Wp=JM.slice,H={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},KM=0,YM=function(t){return t!=null&&t.constructor===void 0},Ma=!1,fn.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ni({},this.state),typeof t=="function"&&(t=t(Ni({},n),this.props)),t&&Ni(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ny(this))},fn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ny(this))},fn.prototype.render=ke,Is=[],XM=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_f.__r=0,ZM=0;var sr,pg,KC,cO=[],mg=[],YC=H.__b,XC=H.__r,ZC=H.diffed,JC=H.__c,ex=H.unmount;function TQ(){for(var t;t=cO.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(lh),t.__H.__h.forEach(My),t.__H.__h=[]}catch(e){t.__H.__h=[],H.__e(e,t.__v)}}H.__b=function(t){sr=null,YC&&YC(t)},H.__r=function(t){XC&&XC(t);var e=(sr=t.__c).__H;e&&(pg===sr?(e.__h=[],sr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=mg,n.__N=n.i=void 0})):(e.__h.forEach(lh),e.__h.forEach(My),e.__h=[])),pg=sr},H.diffed=function(t){ZC&&ZC(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(cO.push(e)!==1&&KC===H.requestAnimationFrame||((KC=H.requestAnimationFrame)||CQ)(TQ)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==mg&&(n.__=n.__V),n.i=void 0,n.__V=mg})),pg=sr=null},H.__c=function(t,e){e.some(function(n){try{n.__h.forEach(lh),n.__h=n.__h.filter(function(r){return!r.__||My(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],H.__e(r,n.__v)}}),JC&&JC(t,e)},H.unmount=function(t){ex&&ex(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{lh(r)}catch(i){e=i}}),n.__H=void 0,e&&H.__e(e,n.__v))};var tx=typeof requestAnimationFrame=="function";function CQ(t){var e,n=function(){clearTimeout(r),tx&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);tx&&(e=requestAnimationFrame(n))}function lh(t){var e=sr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),sr=e}function My(t){var e=sr;t.__c=t.__(),sr=e}function xQ(t,e){for(var n in e)t[n]=e[n];return t}function nx(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function rx(t){this.props=t}(rx.prototype=new fn).isPureReactComponent=!0,rx.prototype.shouldComponentUpdate=function(t,e){return nx(this.props,t)||nx(this.state,e)};var ix=H.__b;H.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ix&&ix(t)};var AQ=H.__e;H.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}AQ(t,e,n,r)};var sx=H.unmount;function uO(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=xQ({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return uO(r,e,n)})),t}function dO(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return dO(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function gg(){this.__u=0,this.t=null,this.__b=null}function hO(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Id(){this.u=null,this.o=null}H.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),sx&&sx(t)},(gg.prototype=new fn).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=hO(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=dO(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},gg.prototype.componentWillUnmount=function(){this.t=[]},gg.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=uO(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&b(ke,null,t.fallback);return i&&(i.__h=null),[b(ke,null,e.__a?null:t.children),i]};var ox=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function RQ(t){return this.getChildContext=function(){return t.context},t.children}function IQ(t){var e=this,n=t.i;e.componentWillUnmount=function(){Zc(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Zc(b(RQ,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function kQ(t,e){var n=b(IQ,{__v:t,i:e});return n.containerInfo=e,n}(Id.prototype=new fn).__a=function(t){var e=this,n=hO(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),ox(e,t,r)):i()};n?n(s):s()}},Id.prototype.render=function(t){this.u=null,this.o=new Map;var e=Sf(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Id.prototype.componentDidUpdate=Id.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){ox(t,n,e)})};var DQ=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,PQ=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,NQ=typeof document<"u",MQ=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};fn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(fn.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var ax=H.event;function OQ(){}function LQ(){return this.cancelBubble}function VQ(){return this.defaultPrevented}H.event=function(t){return ax&&(t=ax(t)),t.persist=OQ,t.isPropagationStopped=LQ,t.isDefaultPrevented=VQ,t.nativeEvent=t};var lx={configurable:!0,get:function(){return this.class}},cx=H.vnode;H.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];NQ&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!MQ(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&PQ.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Sf(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Sf(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(lx.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",lx))}t.$$typeof=DQ,cx&&cx(t)};var ux=H.__r;H.__r=function(t){ux&&ux(t),t.__c};const fO=[],Oy=new Map;function GE(t){fO.push(t),Oy.forEach(e=>{mO(e,t)})}function jQ(t){t.isConnected&&pO(t.getRootNode())}function pO(t){let e=Oy.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=BQ();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}Oy.set(t,e),FQ(e)}}function FQ(t){for(const e of fO)mO(t,e)}function mO(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let vg;function BQ(){return vg===void 0&&(vg=UQ()),vg}function UQ(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&pO(document);var $Q=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';GE($Q);class qE{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function QE(t){t.parentNode&&t.parentNode.removeChild(t)}function Pt(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(HQ(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function HQ(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function zQ(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const WQ=/(top|left|right|bottom|width|height)$/i;function ic(t,e){for(let n in e)gO(t,n,e[n])}function gO(t,e,n){n==null?t.style[e]="":typeof n=="number"&&WQ.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function vO(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let dx=0;function Gp(){return dx+=1,"fc-dom-"+dx}function qp(t){t.preventDefault()}function GQ(t,e){return n=>{let r=Pt(n.target,t);r&&e.call(r,n,r)}}function yO(t,e,n,r){let i=GQ(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function qQ(t,e,n,r){let i;return yO(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const hx=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function QQ(t,e){let n=r=>{e(r),hx.forEach(i=>{t.removeEventListener(i,n)})};hx.forEach(r=>{t.addEventListener(r,n)})}function wO(t){return Object.assign({onClick:t},EO(t))}function EO(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let fx=0;function vo(){return fx+=1,String(fx)}function KE(){document.body.classList.add("fc-not-allowed")}function YE(){document.body.classList.remove("fc-not-allowed")}function KQ(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",qp)}function YQ(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",qp)}function XQ(t){t.addEventListener("contextmenu",qp)}function ZQ(t){t.removeEventListener("contextmenu",qp)}function JQ(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function eK(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=tK(t,e,n[r]),i)return i;return 0}function tK(t,e,n){return n.func?n.func(t,e):nK(t[n.field],e[n.field])*(n.order||1)}function nK(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function ua(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function sc(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function rK(t,e){return t-e}function ch(t){return t%1===0}function iK(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const px=["years","months","days","milliseconds"],sK=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function le(t,e){return typeof t=="string"?oK(t):typeof t=="object"&&t?mx(t):typeof t=="number"?mx({[e||"milliseconds"]:t}):null}function oK(t){let e=sK.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function mx(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function aK(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Ly(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function lK(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function cK(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function uK(t){return da(t)/365}function dK(t){return da(t)/30}function da(t){return Gn(t)/864e5}function Gn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function XE(t,e){let n=null;for(let r=0;r<px.length;r+=1){let i=px[r];if(e[i]){let s=t[i]/e[i];if(!ch(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function Vy(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function as(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const hK=["sun","mon","tue","wed","thu","fri","sat"];function gx(t,e){let n=Mi(t);return n[2]+=e*7,en(n)}function Ot(t,e){let n=Mi(t);return n[2]+=e,en(n)}function ls(t,e){let n=Mi(t);return n[6]+=e,en(n)}function fK(t,e){return yo(t,e)/7}function yo(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function pK(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function mK(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function gK(t,e){return(e.valueOf()-t.valueOf())/1e3}function vK(t,e){let n=Ce(t),r=Ce(e);return{years:0,months:0,days:Math.round(yo(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function yK(t,e){let n=bf(t,e);return n!==null&&n%7===0?n/7:null}function bf(t,e){return Oi(t)===Oi(e)?Math.round(yo(t,e)):null}function Ce(t){return en([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function wK(t){return en([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function EK(t){return en([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function _K(t){return en([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function SK(t,e,n){let r=t.getUTCFullYear(),i=yg(t,r,e,n);if(i<1)return yg(t,r-1,e,n);let s=yg(t,r+1,e,n);return s>=1?Math.min(i,s):i}function yg(t,e,n,r){let i=en([e,0,1+bK(e,n,r)]),s=Ce(t),o=Math.round(yo(i,s));return Math.floor(o/7)+1}function bK(t,e,n){let r=7+e-n;return-((7+en([t,0,r]).getUTCDay()-e)%7)+r-1}function vx(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function yx(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Mi(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function en(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function _O(t){return!isNaN(t.valueOf())}function Oi(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function SO(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",JE(e,!0)))),r}function ZE(t){return t.toISOString().replace(/T.*$/,"")}function TK(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function CK(t){return ua(t.getUTCHours(),2)+":"+ua(t.getUTCMinutes(),2)+":"+ua(t.getUTCSeconds(),2)}function JE(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+ua(i,2)}:${ua(s,2)}`:`GMT${n}${i}${s?`:${ua(s,2)}`:""}`}function W(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!as(r,s)){n&&n(i);let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function uh(t,e,n){let r,i;return s=>{if(!r)i=t.call(this,s);else if(!br(r,s)){n&&n(i);let o=t.call(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}const wx={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Tf={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},kd=/\s*([ap])\.?m\.?/i,xK=/,/g,AK=/\s+/g,RK=/\u200e/g,IK=/UTC|GMT/;class kK{constructor(e){let n={},r={},i=0;for(let s in e)s in wx?(r[s]=e[s],i=Math.max(wx[s],i)):(n[s]=e[s],s in Tf&&(i=Math.max(Tf[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=W(Ex)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=LK(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let d=VK(s,l),h=Ex(d,o,r),f=h(e),g=h(n),v=jK(c,f,u,g),E=o.separator||i||r.defaultSeparator||"";return v?v.before+f+E+g+v.after:c+E+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Ex(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>JE(i.timeZoneOffset):r===0&&e.week?i=>OK(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):DK(t,e,n)}function DK(t,e,n){t=Object.assign({},t),e=Object.assign({},e),PK(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let l=a.format(o);return NK(l,s,t,e,n)}}function PK(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function NK(t,e,n,r,i){return t=t.replace(RK,""),n.timeZoneName==="short"&&(t=MK(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":JE(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(xK,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(kd,"").trim():r.meridiem==="narrow"?t=t.replace(kd,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(kd,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(kd,s=>s.toLocaleLowerCase())),t=t.replace(AK," "),t=t.trim(),t}function MK(t,e){let n=!1;return t=t.replace(IK,()=>(n=!0,e)),n||(t+=` ${e}`),t}function OK(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function LK(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Oi(t)!==Oi(e)?1:0}function VK(t,e){let n={};for(let r in t)(!(r in Tf)||Tf[r]<=e)&&(n[r]=t[r]);return n}function jK(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let d=n.substr(l);if(o===u&&a===d)return{before:o,after:a}}}return null}function _x(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Cf(t,e,n,r){let i=_x(t,n.calendarSystem),s=e?_x(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class FK{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Cf(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,Cf(e,n,r,i))}}class BK{constructor(e){this.func=e}format(e,n,r){return this.func(Cf(e,null,n,r))}formatRange(e,n,r,i){return this.func(Cf(e,n,r,i))}}function Ve(t){return typeof t=="object"&&t?new kK(t):typeof t=="string"?new FK(t):typeof t=="function"?new BK(t):null}const Sx={navLinkDayClick:R,navLinkWeekClick:R,duration:le,bootstrapFontAwesome:R,buttonIcons:R,customButtons:R,defaultAllDayEventDuration:le,defaultTimedEventDuration:le,nextDayThreshold:le,scrollTime:le,scrollTimeReset:Boolean,slotMinTime:le,slotMaxTime:le,dayPopoverFormat:Ve,slotDuration:le,snapDuration:le,headerToolbar:R,footerToolbar:R,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ve,dayHeaderClassNames:R,dayHeaderContent:R,dayHeaderDidMount:R,dayHeaderWillUnmount:R,dayCellClassNames:R,dayCellContent:R,dayCellDidMount:R,dayCellWillUnmount:R,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:R,weekNumbers:Boolean,weekNumberClassNames:R,weekNumberContent:R,weekNumberDidMount:R,weekNumberWillUnmount:R,editable:Boolean,viewClassNames:R,viewDidMount:R,viewWillUnmount:R,nowIndicator:Boolean,nowIndicatorClassNames:R,nowIndicatorContent:R,nowIndicatorDidMount:R,nowIndicatorWillUnmount:R,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:R,locale:R,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:R,eventOrder:JQ,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:R,contentHeight:R,direction:String,weekNumberFormat:Ve,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:R,initialDate:R,now:R,eventDataTransform:R,stickyHeaderDates:R,stickyFooterScrollbar:R,viewHeight:R,defaultAllDay:Boolean,eventSourceFailure:R,eventSourceSuccess:R,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:R,eventConstraint:R,eventAllow:R,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:R,eventContent:R,eventDidMount:R,eventWillUnmount:R,selectConstraint:R,selectOverlap:R,selectAllow:R,droppable:Boolean,unselectCancel:String,slotLabelFormat:R,slotLaneClassNames:R,slotLaneContent:R,slotLaneDidMount:R,slotLaneWillUnmount:R,slotLabelClassNames:R,slotLabelContent:R,slotLabelDidMount:R,slotLabelWillUnmount:R,dayMaxEvents:R,dayMaxEventRows:R,dayMinWidth:Number,slotLabelInterval:le,allDayText:String,allDayClassNames:R,allDayContent:R,allDayDidMount:R,allDayWillUnmount:R,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ve,rerenderDelay:Number,moreLinkText:R,moreLinkHint:R,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:R,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:le,hiddenDays:R,fixedWeekCount:Boolean,validRange:R,visibleRange:R,titleFormat:R,eventInteractive:Boolean,noEventsText:String,viewHint:R,navLinkHint:R,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:R,moreLinkClassNames:R,moreLinkContent:R,moreLinkDidMount:R,moreLinkWillUnmount:R,monthStartFormat:Ve,handleCustomRendering:R,customRenderingMetaMap:R,customRenderingReplaces:Boolean},oc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},bx={datesSet:R,eventsSet:R,eventAdd:R,eventChange:R,eventRemove:R,windowResize:R,eventClick:R,eventMouseEnter:R,eventMouseLeave:R,select:R,unselect:R,loading:R,_unmount:R,_beforeprint:R,_afterprint:R,_noEventDrop:R,_noEventResize:R,_resize:R,_scrollRequest:R},Tx={buttonText:R,buttonHints:R,views:R,plugins:R,initialEvents:R,events:R,eventSources:R},As={headerToolbar:Rs,footerToolbar:Rs,buttonText:Rs,buttonHints:Rs,buttonIcons:Rs,dateIncrement:Rs,plugins:Dd,events:Dd,eventSources:Dd,resources:Dd};function Rs(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?br(t,e):t===e}function Dd(t,e){return Array.isArray(t)&&Array.isArray(e)?as(t,e):t===e}const UK={type:String,component:R,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:R,usesMinMaxTime:Boolean,classNames:R,content:R,didMount:R,willUnmount:R};function wg(t){return t_(t,As)}function e_(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function R(t){return t}const{hasOwnProperty:xf}=Object.prototype;function t_(t,e){let n={};if(e){for(let r in e)if(e[r]===Rs){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=t_(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function io(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function ei(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function bO(t){let e={};for(let n of t)e[n]=!0;return e}function n_(t){let e=[];for(let n in t)e.push(t[n]);return e}function br(t,e){if(t===e)return!0;for(let n in t)if(xf.call(t,n)&&!(n in e))return!1;for(let n in e)if(xf.call(e,n)&&t[n]!==e[n])return!1;return!0}const $K=/^on[A-Z]/;function HK(t,e){const n=jy(t,e);for(let r of n)if(!$K.test(r))return!1;return!0}function jy(t,e){let n=[];for(let r in t)xf.call(t,r)&&(r in e||n.push(r));for(let r in e)xf.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Eg(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&zK(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function zK(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function WK(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let TO={};function GK(t,e){TO[t]=e}function qK(t){return new TO[t]}class QK{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return en(e)}markerToArray(e){return Mi(e)}}GK("gregory",QK);const KK=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function YK(t){let e=KK.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(_O(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class XK{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=qK(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):en(vx(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=en(e)),n===null||!_O(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=YK(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Oi(e)===Oi(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Oi(e)===Oi(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=yK(e,n),r!==null?{unit:"week",value:r}:(r=bf(e,n),r!==null?{unit:"day",value:r}:(r=pK(e,n),ch(r)?{unit:"hour",value:r}:(r=mK(e,n),ch(r)?{unit:"minute",value:r}:(r=gK(e,n),ch(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/uK(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/dK(r):r.days&&(i=bf(e,n),i!==null)?i/da(r):(n.valueOf()-e.valueOf())/Gn(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Ce(e):n==="hour"?wK(e):n==="minute"?EK(e):n==="second"?_K(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):SK(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=ls(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),SO(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?en(vx(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):en(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-yx(Mi(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Mi(e)):null}toDate(e,n){return this.timeZone==="local"?yx(Mi(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Mi(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class ju{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}ju.prototype.classes={};ju.prototype.iconClasses={};ju.prototype.baseIconClass="";ju.prototype.iconOverridePrefix="";function Cx(t){t();let e=H.debounceRendering,n=[];function r(i){n.push(i)}for(H.debounceRendering=r,Zc(b(ZK,{}),document.createElement("div"));n.length;)n.shift()();H.debounceRendering=e}class ZK extends fn{render(){return b("div",{})}componentDidMount(){this.setState({})}}function CO(t){let e=bQ(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}class JK{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ci=CO({});function eY(t,e,n,r,i,s,o,a,l,c,u,d,h){return{dateEnv:i,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(f){c.on("_resize",f)},removeResizeHandler(f){c.off("_resize",f)},createScrollResponder(f){return new JK(f,c,le(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:h}}class wo extends fn{shouldComponentUpdate(e,n){return this.debug&&console.log(jy(e,this.props),jy(n,this.state)),!Eg(this.props,e,this.propEquality)||!Eg(this.state,n,this.stateEquality)}safeSetState(e){Eg(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}wo.addPropsEquality=tY;wo.addStateEquality=nY;wo.contextType=ci;wo.prototype.propEquality={};wo.prototype.stateEquality={};class we extends wo{}we.contextType=ci;function tY(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function nY(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function ti(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class r_ extends we{constructor(){super(...arguments),this.id=vo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!Fy(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ti(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=xO(e,[],this.handleEl);let l=!1,c,u=[],d;if(i!=null){const h=typeof i=="function"?i(o,b):i;if(h===!0)l=!0;else{const f=h&&typeof h=="object";f&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:f&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(f?YM(h):typeof h!="function")?c=h:d=h}}else l=!Fy(e.generatorName,r);return l&&s&&(c=s(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,b(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(rY)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!as(e,n)){n.forEach(QE);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}r_.addPropsEquality({elClasses:as,elStyle:br,elAttrs:HK,renderProps:br});function Fy(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function xO(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function rY(t){return!!t}const AO=CO(0);class _n extends fn{constructor(){super(...arguments),this.InnerContent=iY.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ti(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=sY(e.classNameGenerator,e.renderProps);if(e.children){const r=xO(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?b(e.elTag,r,i):i}else return b(r_,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}_n.contextType=AO;function iY(t,e){const n=t.props;return b(r_,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function sY(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Af extends we{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return b(_n,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...RO(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function RO(t){return[`fc-${t.type}-view`,"fc-view"]}function oY(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function xx(t,e){let n=[],{start:r}=e,i,s;for(t.sort(aY),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function aY(t,e){return t.start.valueOf()-e.start.valueOf()}function so(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function lY(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function i_(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Qp(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function zr(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function cY(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function IO(t){let e=Math.floor(yo(t.start,t.end))||1,n=Ce(t.start),r=Ot(n,e);return{start:n,end:r}}function kO(t,e=le(0)){let n=null,r=null;if(t.end){r=Ce(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Gn(e)&&(r=Ot(r,1))}return t.start&&(n=Ce(t.start),r&&r<=n&&(r=Ot(n,1))),{start:n,end:r}}function Zo(t,e,n,r){return r==="year"?le(n.diffWholeYears(t,e),"year"):r==="month"?le(n.diffWholeMonths(t,e),"month"):vK(t,e)}function uY(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function dY(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):Fu(t.now,e)}function Fu(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class DO{constructor(e){this.props=e,this.nowDate=Fu(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,l,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=cY(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=so(c,o.range)),c=this.adjustActiveRange(c),c=so(c,s),u=i_(o.range,s),zr(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=Vy(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return le({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(da(i)<0&&(o=Ce(o),o=n.add(o,i)),da(s)>1&&(a=Ce(a),a=Ot(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:d}=this.props;d&&Gn(d)<Gn(r)?o=Vy(d).unit:o=i}da(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=Ce(a));function u(){a=s.startOf(e,o),l=s.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=i.startOf(a,s)),a=Ce(a),a=this.skipHiddenDays(a,n),l=a;do l=Ot(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?le(1,r):e||le({days:1}))}refineRange(e){if(e){let n=oY(e,this.props.dateEnv);return n&&(n=kO(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=Ot(e,n);return e}}function s_(t,e,n,r){return{instanceId:vo(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function hY(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function oo(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=io(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let d=fY(c,u,e,r,i.recurringTypes);for(let h of d){let f=s_(l,{start:h,end:r.add(h,u)});a[f.instanceId]=f}}}return{defs:o,instances:a}}function fY(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(Ce)),o}const dh={id:String,groupId:String,title:String,url:String,interactive:Boolean},PO={start:R,end:R,date:R,allDay:Boolean},pY=Object.assign(Object.assign(Object.assign({},dh),PO),{extendedProps:R});function NO(t,e,n,r,i=o_(n),s,o){let{refined:a,extra:l}=MO(t,n,i),c=gY(e,n),u=hY(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=By(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,s);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let d=mY(a,c,n,r);if(d){let h=By(a,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,s),f=s_(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(f.instanceId=o[h.publicId]),{def:h,instance:f}}return null}function MO(t,e,n=o_(e)){return e_(t,n)}function o_(t){return Object.assign(Object.assign(Object.assign({},Rf),pY),t.pluginHooks.eventRefiners)}function By(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||vo(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:If(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function mY(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(u),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=Ce(o)),l&&(c=l.marker,i&&(c=Ce(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function gY(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Jc(t,e,n,r,i,s){let o=pn(),a=o_(n);for(let l of t){let c=NO(l,e,n,r,a,i,s);c&&Uy(c,o)}return o}function Uy(t,e=pn()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function a_(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=Kp(t,s=>vY(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return pn()}function vY(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function pn(){return{defs:{},instances:{}}}function l_(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Kp(t,e){let n=io(t.defs,e),r=io(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function yY(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function wY(t,e){return Array.isArray(t)?Jc(t,null,e,!0):typeof t=="object"&&t?Jc([t],null,e,!0):t!=null?String(t):null}function Ax(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Rf={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:R,overlap:R,allow:R,className:Ax,classNames:Ax,color:String,backgroundColor:String,borderColor:String,textColor:String},EY={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function If(t,e){let n=wY(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function OO(t){return t.reduce(_Y,EY)}function _Y(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const SY={id:String,defaultAllDay:Boolean,url:String,format:String,events:R,eventDataTransform:R,success:R,failure:R};function LO(t,e,n=VO(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=e_(r,n),o=bY(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:vo(),sourceDefId:o.sourceDefId,meta:o.meta,ui:If(i,e),extendedProps:s}}return null}function VO(t){return Object.assign(Object.assign(Object.assign({},Rf),SY),t.pluginHooks.eventSourceRefiners)}function bY(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function TY(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return CY(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return xY(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return AY(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return l_(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?oo(t,r.activeRange,i):t;case"REMOVE_EVENTS":return yY(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return FO(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Kp(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return pn();default:return t}}function CY(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Jc(jO(i,e,s),e,s);return r&&(o=oo(o,r,s)),l_(FO(t,e.sourceId),o)}return t}function xY(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=IY(t);let a=Jc(jO(n,e,i),e,i,!1,s,o);return oo(a,r,i)}function jO(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Rx(t,i)),r&&(t=Rx(t,r)),t}function Rx(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function AY(t,e,n,r){return n&&(e=oo(e,n,r)),l_(t,e)}function Ix(t,e,n){let{defs:r}=t,i=ei(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function FO(t,e){return Kp(t,n=>n.sourceId!==e)}function RY(t,e){return{defs:t.defs,instances:io(t.instances,n=>!e[n.instanceId])}}function IY(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){const o=n[s],a=e[o.defId],{publicId:l}=a;l&&(i[l]=s)}return{defIdMap:r,instanceIdMap:i}}class Yp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){kY(this.handlers,e,n)}off(e,n){DY(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function kY(t,e,n){(t[e]||(t[e]=[])).push(n)}function DY(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const PY={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function NY(t,e){return Jc(MY(t),null,e)}function MY(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},PY),n)),e}function BO(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},c_(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function OY(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function c_(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,KY(t,e.dateEnv)),n}function kx(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=Ce(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function u_(t,e,n,r){let i=kf(t.defs,e),s=pn();for(let o in t.defs){let a=t.defs[o];s.defs[o]=LY(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=s.defs[a.defId];s.instances[o]=VY(a,l,i[a.defId],n,r)}return s}function LY(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function VY(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=IO(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:kx(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Ce(l.range.start),end:Ce(l.range.end)}),l.range.end<l.range.start&&(l.range.end=kx(e.allDay,l.range.start,i)),l}class Po{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Me{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in PO)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=dh[e](n),this.mutate({standardProps:{publicId:n}});else if(e in dh)n=dh[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Rf){let r=Rf[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=Zo(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Zo(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=IO(l));let c=Zo(l.start,o,i,r.granularity);if(a){let u=Zo(l.end,a,i,r.granularity);aK(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let n=le(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=le(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=le(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Ve(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=a_(s,n.instanceId);o=u_(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new Me(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:$s(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=UO(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Po(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function UO(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function $s(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==o&&s.push(new Me(e,c,l))}return s}function Dx(t,e,n,r){let i={},s={},o={},a=[],l=[],c=kf(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):s[u]=[])}for(let u in t.instances){let d=t.instances[u],h=t.defs[d.defId],f=c[h.defId],g=d.range,v=!h.allDay&&r?kO(g,r):g,E=so(v,n);E&&(f.display==="inverse-background"?h.groupId?i[h.groupId].push(E):s[d.defId].push(E):f.display!=="none"&&(f.display==="background"?a:l).push({def:h,ui:f,instance:d,range:E,isStart:v.start&&v.start.valueOf()===E.start.valueOf(),isEnd:v.end&&v.end.valueOf()===E.end.valueOf()}))}for(let u in i){let d=i[u],h=xx(d,n);for(let f of h){let g=o[u],v=c[g.defId];a.push({def:g,ui:v,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let u in s){let d=s[u],h=xx(d,n);for(let f of h)a.push({def:t.defs[u],ui:c[u],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function jY(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function Px(t,e){t.fcSeg=e}function Oa(t){return t.fcSeg||t.parentNode.fcSeg||null}function kf(t,e){return ei(t,n=>$O(n,e))}function $O(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),OO(n)}function HO(t,e){let n=t.map(FY);return n.sort((r,i)=>eK(r,i,e)),n.map(r=>r._seg)}function FY(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function BY(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function UY(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function $Y(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function zO(t,e,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=t.eventRange.def,h=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=i!==!1);let f=h.range.start,g=h.range.end,v=s||t.start||t.eventRange.range.start,E=o||t.end||t.eventRange.range.end,w=Ce(f).valueOf()===Ce(v).valueOf(),y=Ce(ls(g,-1)).valueOf()===Ce(ls(E,-1)).valueOf();return c&&!d.allDay&&(w||y)?(v=w?f:v,E=y?g:E,u&&d.hasEnd?a.formatRange(v,E,e,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):a.format(v,e,{forcedTzo:s?null:h.forcedStartTzo})):""}function Zi(t,e,n){let r=t.eventRange.range;return{isPast:r.end<(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&zr(e,r.start)}}function HY(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function WO(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function GO(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?EO(l=>{s.trigger("eventClick",{el:l.target,event:new Me(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const zY={start:R,end:R,allDay:Boolean};function WY(t,e,n){let r=GY(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function GY(t,e){let{refined:n,extra:r}=e_(t,zY),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function qY(t,e){return lY(t.range,e.range)&&t.allDay===e.allDay&&QY(t,e)}function QY(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function KY(t,e){return Object.assign(Object.assign({},QO(t.range,e,t.allDay)),{allDay:t.allDay})}function qO(t,e,n){return Object.assign(Object.assign({},QO(t,e,n)),{timeZone:e.timeZone})}function QO(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function YY(t,e,n){let r=MO({editable:!1},n),i=By(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:$O(i,e),instance:s_(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function XY(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class Nx extends Error{constructor(e,n){super(e),this.response=n}}function ZY(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new Nx("Failure parsing JSON",i)});throw new Nx("Request failed",i)})}let _g;function KO(){return _g==null&&(_g=JY()),_g}function JY(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class eX extends we{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return KO()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Xa{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function tX(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function d_(t){return{[t.component.uid]:t}}const $y={};class nX{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Fu(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=le(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Ve(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Ve(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=WY(r,i.dateEnv,le({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),BO(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),OY(e,n))}addEvent(e,n){if(e instanceof Me){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Uy({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Po)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=n_(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=NO(e,i,r,!1);if(s){let o=new Me(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Uy(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:UO(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new Me(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new Me(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return $s(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Po(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Po(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Po)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=LO(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Po(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=le(e);n&&this.trigger("_scrollRequest",{time:n})}}function rX(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function YO(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function iX(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function sX(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function oX(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Sg=pn();class aX{constructor(){this.getKeysForEventDefs=W(this._getKeysForEventDefs),this.splitDateSelection=W(this._splitDateSpan),this.splitEventStore=W(this._splitEventStore),this.splitIndividualUi=W(this._splitIndividualUi),this.splitEventDrag=W(this._splitInteraction),this.splitEventResize=W(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};this.eventUiBuilders=ei(n,(u,d)=>this.eventUiBuilders[d]||W(lX));for(let u in n){let d=n[u],h=o[u]||Sg,f=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||e.businessHours,dateSelection:i[u]||null,eventStore:h,eventUiBases:f(e.eventUiBases[""],d.ui,s[u]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return ei(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let o in r)for(let a of n[o])s[a]||(s[a]=pn()),s[a].defs[o]=r[o];for(let o in i){let a=i[o];for(let l of n[a.defId])s[l]&&(s[l].instances[o]=a)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=a=>{n[a]||(n[a]={affectedEvents:r[a]||Sg,mutatedEvents:s[a]||Sg,isEvent:e.isEvent})};for(let a in r)o(a);for(let a in s)o(a)}return n}}function lX(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":OO(r)};return n&&Object.assign(i,n),i}function XO(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!zr(r.activeRange,t)),isOther:!!(r&&!zr(r.currentRange,t)),isToday:!!(e&&zr(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function h_(t,e){let n=["fc-day",`fc-day-${hK[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const cX=Ve({year:"numeric",month:"long",day:"numeric"}),uX=Ve({week:"long"});function Df(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let a=i.format(e,n==="week"?uX:cX);if(s.navLinks){let l=i.toDate(e);const c=u=>{let d=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof d=="function"?d.call(o,i.toDate(e),u):(typeof d=="string"&&(n=d),o.zoomTo(e,n))};return Object.assign({title:sc(s.navLinkHint,[a,l],a),"data-navlink":""},r?wO(c):{onClick:c})}return{"aria-label":a}}let bg=null;function dX(){return bg===null&&(bg=hX()),bg}function hX(){let t=document.createElement("div");ic(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return QE(t),n}let Tg;function fX(){return Tg||(Tg=pX()),Tg}function pX(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=ZO(t);return document.body.removeChild(t),e}function ZO(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function mX(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=ZO(t),l=a.y-r-i,c=a.x-s-o,u={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return dX()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function gX(t,e=!1,n){let r=n?t.getBoundingClientRect():f_(t),i=mX(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function f_(t){let e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function vX(t){let e=JO(t),n=t.getBoundingClientRect();for(let r of e){let i=YO(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function JO(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class La{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Pd(this.tops||[],e.tops||[])&&Pd(this.bottoms||[],e.bottoms||[])&&Pd(this.lefts||[],e.lefts||[])&&Pd(this.rights||[],e.rights||[])}}function Pd(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class p_{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class yX extends p_{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class wX extends p_{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Tr extends we{constructor(){super(...arguments),this.uid=vo()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Pt(e,".fc-event-mirror")}isValidDateDownEl(e){return!Pt(e,".fc-event:not(.fc-bg-event)")&&!Pt(e,".fc-more-link")&&!Pt(e,"a[data-navlink]")&&!Pt(e,".fc-popover")}}class eL{constructor(e=n=>n.thickness){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);return this.isInsertionValid(r,e)?(this.insertEntryAt(e,r),1):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){return this.allowReslicing&&e.touchingEntry?this.splitEntry(n,e.touchingEntry,r):(r.push(n),0)}splitEntry(e,n,r){let i=0,s=[],o=e.span,a=n.span;return o.start<a.start&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.start,end:a.start}},s)),o.end>a.end&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:o.end}},s)),i?(r.push({index:e.index,thickness:e.thickness,span:m_(a,o)},...s),i):(r.push(e),0)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(Cg(i,n.level,n.levelCoord),Cg(r,n.level,[e])):Cg(r[n.level],n.lateral,e),this.stackCnts[Hs(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,l=-1,c=-1,u=null,d=0;for(let g=0;g<o;g+=1){let v=n[g];if(!i&&v>=a+this.getEntryThickness(e))break;let E=r[g],w,y=zy(E,e.span.start,Hy),_=y[0]+y[1];for(;(w=E[_])&&w.span.start<e.span.end;){let S=v+this.getEntryThickness(w);S>a&&(a=S,u=w,l=g,c=_),S===a&&(d=Math.max(d,s[Hs(w)]+1)),_+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<a;)h+=1;let f=-1;return h<o&&n[h]===a&&(f=zy(r[h],e.span.end,Hy)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:a,level:h,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}}function Hy(t){return t.span.end}function Hs(t){return t.index+":"+t.span.start}function EX(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)m_(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:_X(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function _X(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function m_(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Cg(t,e,n){t.splice(e,0,n)}function zy(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class SX{constructor(e,n){this.emitter=new Yp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const g_={};function bX(t,e){return!t||e>10?Ve({weekday:"short"}):e>1?Ve({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ve({weekday:"long"})}const tL="fc-col-header-cell";function nL(t){return t.text}class TX extends we{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=XO(o,s.todayRange,null,a),c=[tL].concat(h_(l,r)),u=e.format(o,s.dayHeaderFormat),d=!l.isDisabled&&s.colCnt>1?Df(this.context,o):{},h=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:u}),l);return b(_n,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:ZE(o)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:nL,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},f=>b("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&b(f,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const CX=Ve({weekday:"long"});class xX extends we{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=Ot(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return b(_n,{elTag:"th",elClasses:[tL,...h_(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:nL,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>b("div",{className:"fc-scrollgrid-sync-inner"},b(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,CX)}})))}}class Bu extends fn{constructor(e,n){super(e,n),this.initialNowDate=Fu(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=ls(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(i,le(1,e.unit)),o=s.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:i,todayRange:Mx(i)},nextState:{nowDate:s,todayRange:Mx(s)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Bu.contextType=ci;function Mx(t){let e=Ce(t),n=Ot(e,1);return{start:e,end:n}}class rL extends we{constructor(){super(...arguments),this.createDayHeaderFormatter=W(AX)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return b(Bu,{unit:"day"},(a,l)=>b("tr",{role:"row"},s&&s("day"),n.map(c=>i?b(TX,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):b(xX,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function AX(t,e,n){return t||bX(e,n)}class iL{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=Ot(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Ot(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(yo(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class sL{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&c-1===o}),a=c}}return i}}class oL{constructor(){this.sliceBusinessHours=W(this._sliceBusinessHours),this.sliceDateSelection=W(this._sliceDateSpan),this.sliceEventStore=W(this._sliceEventStore),this.sliceEventDrag=W(this._sliceInteraction),this.sliceEventResize=W(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:ls(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(oo(e,Nd(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=Dx(e,n,Nd(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=Dx(e.mutatedEvents,n,Nd(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=Nd(n,!!r),l=so(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=YY(e,i,s),u=this.sliceRange(e.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Ot(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function Nd(t,e){let n=t.activeRange;return e?n:{start:ls(n.start,t.slotMinTime.milliseconds),end:ls(n.end,t.slotMaxTime.milliseconds-864e5)}}function aL(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!Qp(e.validRange,r[i].range))return!1;return lL({eventDrag:t},n)}function RX(t,e,n){return Qp(e.validRange,t.range)?lL({dateSelection:t},n):!1}function lL(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||IX)(r,e)}function IX(t,e,n={},r){return!(t.eventDrag&&!kX(t,e,n,r)||t.dateSelection&&!DX(t,e,n,r))}function kX(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=kf(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=ei(c,r));let u=RY(t.eventStore,s.affectedEvents.instances),d=u.defs,h=u.instances,f=kf(d,t.eventUiBases);for(let g in l){let v=l[g],E=v.range,w=c[v.defId],y=a[v.defId];if(!cL(w.constraints,E,u,t.businessHours,e))return!1;let{eventOverlap:_}=e.options,S=typeof _=="function"?_:null;for(let C in h){let x=h[C];if(i_(E,x.range)&&(f[x.defId].overlap===!1&&s.isEvent||w.overlap===!1||S&&!S(new Me(e,d[x.defId],x),new Me(e,y,v))))return!1}let T=i.eventStore;for(let C of w.allows){let x=Object.assign(Object.assign({},n),{range:v.range,allDay:y.allDay}),A=T.defs[y.defId],N=T.instances[g],M;if(A?M=new Me(e,A,N):M=new Me(e,y),!C(c_(x,e),M))return!1}}return!0}function DX(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!cL(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let h in o){let f=o[h];if(i_(l,f.range)&&(c.overlap===!1||d&&!d(new Me(e,s[f.defId],f),null)))return!1}for(let h of c.allows){let f=Object.assign(Object.assign({},n),a);if(!h(c_(f,e),null))return!1}return!0}function cL(t,e,n,r,i){for(let s of t)if(!NX(PX(s,e,n,r,i),e))return!1;return!0}function PX(t,e,n,r,i){return t==="businessHours"?xg(oo(r,e,i)):typeof t=="string"?xg(Kp(n,s=>s.groupId===t)):typeof t=="object"&&t?xg(oo(t,e,i)):[]}function xg(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function NX(t,e){for(let n of t)if(Qp(n,e))return!0;return!1}const Md=/^(visible|hidden)$/;class MX extends we{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ti(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),b("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Md.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Md.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Md.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Md.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Vr{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return WK(this.currentMap,e,n,r)}getAll(){return n_(this.currentMap)}}function OX(t){let e=zQ(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,iK(r));return Math.ceil(n)}function uL(t,e){return t.liquid&&e.liquid}function LX(t,e){return e.maxHeight!=null||uL(t,e)}function VX(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):b("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,b(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function jX(t,e){return as(t,e,br)}function FX(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(b("col",{style:{width:r.width==="shrink"?BX(e):r.width||"",minWidth:r.minWidth||""}}))}return b("colgroup",{},...n)}function BX(t){return t??4}function UX(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function $X(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function HX(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Wy(t){return b("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Pf(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function dL(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class v_ extends we{constructor(){super(...arguments),this.processCols=W(e=>e,jX),this.renderMicroColGroup=W(FX),this.scrollerRefs=new Vr,this.scrollerElRefs=new Vr(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=$X(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,d=[],h=[],f=[];for(;c<l&&(u=i[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)f.push(this.renderSection(u,o,!0)),c+=1;let g=!KO();const v={role:"rowgroup"};return b("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!g&&d.length)&&b("thead",v,...d),!!(!g&&h.length)&&b("tbody",v,...h),!!(!g&&f.length)&&b("tfoot",v,...f),g&&b("tbody",v,...d,...h,...f))}renderSection(e,n,r){return"outerContent"in e?b(ke,{key:e.key},e.outerContent):b("tr",{key:e.key,role:"presentation",className:HX(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=LX(s,e),u=uL(s,e),d=s.liquid?o?"scroll":c?"auto":"hidden":"visible",h=e.key,f=VX(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return b(i?"th":"td",{ref:r.elRef,role:"presentation"},b("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},b(MX,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,n){let r=zX(this.props.sections,n);r&&ti(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return UX(this.props.cols)?OX(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=fX(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;s[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}v_.addStateEquality({scrollerClientWidths:br,scrollerClientHeights:br});function zX(t,e){for(let n of t)if(n.key===e)return n;return null}class y_ extends we{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Px(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:new Me(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&BY(i,n),isStartResizable:!e.disableResizing&&UY(i,n),isEndResizable:!e.disableResizing&&$Y(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return b(_n,Object.assign({},e,{elRef:this.handleEl,elClasses:[...HY(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Px(this.el,this.props.seg)}}class hL extends we{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=zO(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return b(y_,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:GO(i,n),defaultGenerator:WX,timeText:a}),(l,c)=>b(ke,null,b(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&b("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&b("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function WX(t){return b("div",{className:"fc-event-main-frame"},t.timeText&&b("div",{className:"fc-event-time"},t.timeText),b("div",{className:"fc-event-title-container"},b("div",{className:"fc-event-title fc-sticky"},t.event.title||b(ke,null,""))))}const w_=t=>b(ci.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return b(_n,Object.assign({},t,{elTag:t.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),GX=Ve({day:"numeric"});class E_ extends we{constructor(){super(...arguments),this.refineRenderProps=uh(qX)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return b(_n,Object.assign({},e,{elClasses:[...h_(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":ZE(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function __(t){return!!(t.dayCellContent||Fy("dayCellContent",t))}function qX(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=XO(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:GX):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class fL extends we{render(){let{props:e}=this,{seg:n}=e;return b(y_,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:QX,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function QX(t){let{title:e}=t.event;return e&&b("div",{className:"fc-event-title"},t.event.title)}function pL(t){return b("div",{className:`fc-${t}`})}const mL=t=>b(ci.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s);return b(_n,Object.assign({},t,{renderProps:{num:o,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:KX,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function KX(t){return t.text}const Ag=10;class YX extends we{constructor(){super(...arguments),this.state={titleId:Gp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ti(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=vO(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return kQ(b("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),b("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},b("span",{className:"fc-popover-title",id:i.titleId},r.title),b("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),b("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=vX(n);if(s){let o=i.getBoundingClientRect(),a=r?Pt(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,Ag),l=Math.min(l,document.documentElement.clientWidth-Ag-o.width),l=Math.max(l,Ag);let c=i.offsetParent.getBoundingClientRect();ic(i,{top:a-c.top,left:l-c.left})}}}class XX extends Tr{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return b(E_,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(l,c,u)=>b(YX,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},__(e)&&b(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class gL extends we{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Gp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ti(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=Ox(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new Me(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return b(ci.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:l}=e,c=Ox(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,d=sc(s.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:i};return b(ke,null,!!e.moreCnt&&b(_n,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),wO(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||ZX,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&b(XX,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Pt(this.linkEl,".fc-view-harness"))}}function ZX(t){return t.text}function Ox(t){if(t.allDayDate)return{start:t.allDayDate,end:Ot(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:vL(e),end:eZ(e)}}function vL(t){return t.reduce(JX).eventRange.range.start}function JX(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function eZ(t){return t.reduce(tZ).eventRange.range.end}function tZ(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class nZ{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class rZ extends nZ{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const iZ=[],yL={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},wL=Object.assign(Object.assign({},yL),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function sZ(t){let e=t.length>0?t[0].code:"en",n=iZ.concat(t),r={en:wL};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function EL(t,e){return typeof t=="object"&&!Array.isArray(t)?_L(t.code,[t.code],t):oZ(t,e)}function oZ(t,e){let n=[].concat(t||[]),r=aZ(n,e)||wL;return _L(t,n,r)}function aZ(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function _L(t,e,n){let r=t_([yL,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function ui(t){return{id:vo(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function lZ(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),r=uZ(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function cZ(){let t=[],e=[],n;return(r,i)=>((!n||!as(r,t)||!as(i,e))&&(n=lZ(r,i)),t=r,e=i,n)}function uZ(t,e){return{premiumReleaseDate:dZ(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function dZ(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Es extends ju{}Es.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Es.prototype.baseIconClass="fc-icon";Es.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Es.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Es.prototype.iconOverrideOption="buttonIcons";Es.prototype.iconOverrideCustomButtonOption="icon";Es.prototype.iconOverridePrefix="fc-icon-";function hZ(t,e){let n={},r;for(r in t)Gy(r,n,t,e);for(r in e)Gy(r,n,t,e);return n}function Gy(t,e,n,r){if(e[t])return e[t];let i=fZ(t,e,n,r);return i&&(e[t]=i),i}function fZ(t,e,n,r){let i=n[t],s=r[t],o=u=>i&&i[u]!==null?i[u]:s&&s[u]!==null?s[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=Gy(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function Lx(t){return ei(t,pZ)}function pZ(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=Vx(e):n&&!(n.prototype instanceof we)&&(n=Vx(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function Vx(t){return e=>b(ci.Consumer,null,n=>b(_n,{elTag:"div",elClasses:RO(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function mZ(t,e,n,r){let i=Lx(t),s=Lx(e.views),o=hZ(i,s);return ei(o,a=>gZ(a,s,e,n,r))}function gZ(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(s&&(o=vZ(s),o)){let h=Vy(o);a=h.unit,h.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=h=>{let f=h.buttonText||{},g=t.defaults.buttonTextKey;return g!=null&&f[g]!=null?f[g]:f[t.type]!=null?f[t.type]:f[l]!=null?f[l]:null},d=h=>{let f=h.buttonHints||{},g=t.defaults.buttonTextKey;return g!=null&&f[g]!=null?f[g]:f[t.type]!=null?f[t.type]:f[l]!=null?f[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(oc)||t.type,buttonTitleOverride:d(r)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(oc)}}let jx={};function vZ(t){let e=JSON.stringify(t),n=jx[e];return n===void 0&&(n=le(t),jx[e]=n),n}function yZ(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function wZ(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function EZ(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function _Z(t,e,n){let r=e?e.activeRange:null;return bL({},RZ(t,n),r,n)}function SZ(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return bL(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return TZ(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?TL(t,i,r):t;case"FETCH_EVENT_SOURCES":return S_(t,e.sourceIds?bO(e.sourceIds):CL(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return AZ(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function bZ(t,e,n){let r=e?e.activeRange:null;return S_(t,CL(t,n),r,!0,n)}function SL(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function bL(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=TL(i,n,r)),Object.assign(Object.assign({},t),i)}function TZ(t,e){return io(t,n=>n.sourceId!==e)}function TL(t,e,n){return S_(t,io(t,r=>CZ(r,e,n)),e,!1,n)}function CZ(t,e,n){return xL(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function S_(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=xZ(a,n,r,i):s[o]=a}return s}function xZ(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=vo();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(s,c,l.response)||c),t.success&&(c=t.success.call(s,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function AZ(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function CL(t,e){return io(t,n=>xL(n,e))}function RZ(t,e){let n=VO(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=LO(s,e,n);o&&i.push(o)}return i}function xL(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function IZ(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function kZ(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function DZ(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function PZ(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function NZ(t,e,n,r,i){let s=t.headerToolbar?Fx(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?Fx(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function Fx(t,e,n,r,i,s){let o={},a=[],l=!1;for(let c in t){let u=t[c],d=MZ(u,e,n,r,i,s);o[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function MZ(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},d=e.buttonHints||{},h=t?t.split(" "):[],f=[],g=!1;return{widgets:h.map(E=>E.split(",").map(w=>{if(w==="title")return g=!0,{buttonName:w};let y,_,S,T,C,x;if(y=a[w])S=A=>{y.click&&y.click.call(A.target,A,A.target)},(T=r.getCustomButtonIconClass(y))||(T=r.getIconClass(w,o))||(C=y.text),x=y.hint||y.text;else if(_=i[w]){f.push(w),S=()=>{s.changeView(w)},(C=_.buttonTextOverride)||(T=r.getIconClass(w,o))||(C=_.buttonTextDefault);let A=_.buttonTextOverride||_.buttonTextDefault;x=sc(_.buttonTitleOverride||_.buttonTitleDefault||e.viewHint,[A,w],A)}else if(s[w])if(S=()=>{s[w]()},(C=l[w])||(T=r.getIconClass(w,o))||(C=c[w]),w==="prevYear"||w==="nextYear"){let A=w==="prevYear"?"prev":"next";x=sc(u[A]||d[A],[c.year||"year","year"],c[w])}else x=A=>sc(u[w]||d[w],[c[A]||A,A],c[w]);return{buttonName:w,buttonClick:S,buttonIcon:T,buttonText:C,buttonHint:x}})),viewsWithButtons:f,hasTitle:g}}class OZ{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let LZ={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const VZ=ui({name:"array-event-source",eventSourceDefs:[LZ]});let jZ={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;XY(i.bind(null,qO(t.range,r)),s=>e({rawEvents:s}),n)}};const FZ=ui({name:"func-event-source",eventSourceDefs:[jZ]}),BZ={method:String,extraParams:R,startParam:String,endParam:String,timeZoneParam:String};let UZ={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=HZ(r,t.range,t.context);ZY(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const $Z=ui({name:"json-event-source",eventSourceRefiners:BZ,eventSourceDefs:[UZ]});function HZ(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,l,c={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[s]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const zZ={daysOfWeek:R,startTime:le,endTime:le,duration:le,startRecur:R,endRecur:R};let WZ={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=lK(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=so(e,{start:t.startRecur,end:t.endRecur});return r?qZ(t.daysOfWeek,t.startTime,r,n):[]}};const GZ=ui({name:"simple-recurring-event",recurringTypes:[WZ],eventRefiners:zZ});function qZ(t,e,n,r){let i=t?bO(t):null,s=Ce(n.start),o=n.end,a=[];for(;s<o;){let l;(!i||i[s.getUTCDay()])&&(e?l=r.add(s,e):l=s,a.push(l)),s=Ot(s,1)}return a}const QZ=ui({name:"change-handler",optionChangeHandlers:{events(t,e){Bx([t],e)},eventSources:Bx}});function Bx(t,e){let n=n_(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function KZ(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},qO(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function YZ(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",$s(t,e))}const XZ=[VZ,FZ,$Z,GZ,QZ,ui({name:"misc",isLoadingFuncs:[t=>SL(t.eventSources)],propSetHandlers:{dateProfile:KZ,eventStore:YZ}})];class ZZ{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new qE(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function JZ(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Ve(e.titleFormat||eJ(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function eJ(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=bf(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class tJ{constructor(e){this.computeCurrentViewData=W(this._computeCurrentViewData),this.organizeRawLocales=W(sZ),this.buildLocale=W(EL),this.buildPluginHooks=cZ(),this.buildDateEnv=W(nJ),this.buildTheme=W(rJ),this.parseToolbars=W(NZ),this.buildViewSpecs=W(mZ),this.buildDateProfileGenerator=uh(iJ),this.buildViewApi=W(sJ),this.buildViewUiProps=uh(lJ),this.buildEventUiBySource=W(oJ,br),this.buildEventUiBases=W(aJ),this.parseContextBusinessHours=uh(cJ),this.buildTitle=W(JZ),this.emitter=new Yp,this.actionRunner=new ZZ(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=dY(r.calendarOptions,r.dateEnv),a=s.dateProfileGenerator.build(o);zr(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of r.pluginHooks.contextInit)h(l);let c=_Z(r.calendarOptions,a,l),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:pn(),renderableEventStore:pn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},d=Object.assign(Object.assign({},l),u);for(let h of r.pluginHooks.reducers)Object.assign(u,h(null,null,d));Rg(u,l)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=wZ(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=yZ(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=uY(u,e),d=EZ(d,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!zr(d.currentRange,u))&&(u=d.currentRange.start);let h=SZ(r.eventSources,e,d,c),f=TY(r.eventStore,e,h,d,c),v=SL(h)&&!l.options.progressiveEventRendering&&r.renderableEventStore||f,{eventUiSingleBase:E,selectionConfig:w}=this.buildViewUiProps(c),y=this.buildEventUiBySource(h),_=this.buildEventUiBases(v.defs,E,y),S={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:d,eventSources:h,eventStore:f,renderableEventStore:v,selectionConfig:w,eventUiBases:_,businessHours:this.parseContextBusinessHours(c),dateSelection:IZ(r.dateSelection,e),eventSelection:kZ(r.eventSelection,e),eventDrag:DZ(r.eventDrag,e),eventResize:PZ(r.eventResize,e)},T=Object.assign(Object.assign({},c),S);for(let A of o.pluginHooks.reducers)Object.assign(S,A(r,e,T));let C=Rg(r,c),x=Rg(S,c);!C&&x?i.trigger("loading",!0):C&&!x&&i.trigger("loading",!1),this.state=S,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=bZ(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=Ix(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=Ix(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);Ux(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(i,s),h=this.parseToolbars(i,this.stableOptionOverrides,d,u,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=wg([oc,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],XZ),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Sx),bx),Tx),l.listenerRefiners),l.optionRefiners),u={},d=wg([oc,a,e,n]),h={},f=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,v=!1;for(let E in d)this.optionsForRefining.indexOf(E)===-1&&(d[E]===f[E]||As[E]&&E in f&&As[E](f[E],d[E]))?h[E]=g[E]:c[E]?(h[E]=c[E](d[E]),v=!0):u[E]=f[E];return v&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);Ux(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,s){let o=wg([oc,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Sx),bx),Tx),UK),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let f in o)o[f]===c[f]||As[f]&&As[f](o[f],c[f])?l[f]=u[f]:(o[f]===this.currentCalendarOptionsInput[f]||As[f]&&As[f](o[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):a[f]?l[f]=a[f](o[f]):h[f]=o[f],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function nJ(t,e,n,r,i,s,o,a){let l=EL(e||o.defaultCode,o.map);return new XK({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function rJ(t,e){let n=e.themeClasses[t.themeSystem]||Es;return new n(t)}function iJ(t){let e=t.dateProfileGeneratorClass||DO;return new e(t)}function sJ(t,e,n){return new OZ(t,e,n)}function oJ(t){return ei(t,e=>e.ui)}function aJ(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function lJ(t){let{options:e}=t;return{eventUiSingleBase:If({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:If({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Rg(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function cJ(t){return NY(t.options.businessHours,t)}function Ux(t,e){for(let n in t)console.warn(`Unknown option '${n}'`+(e?` for view '${e}'`:""))}class uJ extends we{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return b("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(a==="title")s=!1,i.push(b("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,f=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",g=[`fc-${a}-button`,r.getClass("button")];h&&g.push(r.getClass("buttonActive")),i.push(b("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:f,"aria-pressed":h,className:g.join(" "),onClick:l},c||(u?b("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return b("div",{className:o},...i)}return i[0]}}class $x extends we{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,b("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return b(uJ,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class dJ extends we{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ti(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",b("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class hJ extends Xa{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=Oa(r);if(o&&i.isValidSegDownEl(n.target)){let a=Pt(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new Me(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=yO(e.el,"click",".fc-event",this.handleSegClick)}}class fJ extends Xa{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Oa(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=qQ(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=Oa(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new Me(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class pJ extends wo{constructor(){super(...arguments),this.buildViewContext=W(eY),this.buildViewPropTransformers=W(gJ),this.buildToolbarProps=W(mJ),this.headerRef=Gt(),this.footerRef=Gt(),this.interactionsStore={},this.state={viewLabelId:Gp()},this.registerInteractiveComponent=(e,n)=>{let r=tX(e,n),o=[hJ,fJ].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,$y[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete $y[e.uid]},this.resizeRunner=new qE(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Fu(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return b(ci.Provider,{value:l},n.header&&b($x,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},i)),b(dJ,{liquid:s,height:o,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&b($x,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return b(ke,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return b(o,Object.assign({},i))}}function mJ(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!zr(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function gJ(t){return t.map(e=>new e)}let vJ=class extends nX{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Cx(()=>{Zc(b(eX,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),b(AO.Provider,{value:this.customContentRenderId},b(pJ,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Zc(null,this.el),this.setClassNames([]),this.setHeight(""))},jQ(e),this.el=e,this.renderRunner=new qE(this.handleRenderRequest),new tJ({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Cx(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!as(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){gO(this.el,"height",e)}};const yJ=parseInt(String(te.version).split(".")[0]),wJ=yJ<18;class AL extends p.Component{constructor(){super(...arguments),this.elRef=p.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(te.createElement(EJ,{key:n.id,customRendering:n}));return te.createElement("div",{ref:this.elRef},e)}componentDidMount(){const e=new rZ;this.handleCustomRendering=e.handle.bind(e),this.calendar=new vJ(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render();let n;e.subscribe(r=>{const i=Date.now(),s=!n;(wJ||s||this.isUpdating||this.isUnmounting||i-n<100?RL:ar.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}AL.act=RL;class EJ extends p.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return ar.createPortal(r,e.containerEl)}}function RL(t){t()}class _J extends Tr{constructor(){super(...arguments),this.headerElRef=Gt()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=Pf(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),b(Af,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},b(v_,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&Pf(a.options),c=!o.forPrint&&dL(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Wy}]}),b(Af,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},b(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:u}))}}function Od(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Ld(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function Hx(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const IL=Ve({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function kL(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class DL extends we{render(){let{props:e}=this;return b(hL,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:IL,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class PL extends we{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||IL,o=zO(i,s,n,!0,e.defaultDisplayEventEnd);return b(y_,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:GO(e.seg,n),defaultGenerator:SJ,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function SJ(t){return b(ke,null,b("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&b("div",{className:"fc-event-time"},t.timeText),b("div",{className:"fc-event-title"},t.event.title||b(ke,null,"")))}class bJ extends we{constructor(){super(...arguments),this.compileSegs=W(TJ)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return b(gL,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return b(ke,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return b("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},kL(s)?b(PL,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Zi(s,e.todayRange))):b(DL,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Zi(s,e.todayRange))))}))}})}}function TJ(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const CJ=Ve({week:"narrow"});class xJ extends Tr{constructor(){super(...arguments),this.rootElRef=Gt(),this.state={dayNumberId:Gp()},this.handleRootEl=e=>{ti(this.rootElRef,e),ti(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&RJ(a,l.currentRange,o);return b(E_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:AJ,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>b("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&b(mL,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Df(e,a,"week"),date:a,defaultFormat:CJ}),!d.isDisabled&&(n.showDayNumber||__(s)||n.forceDayTop)?b("div",{className:"fc-daygrid-day-top"},b(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Df(e,a)),{id:r.dayNumberId})})):n.showDayNumber?b("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},b("a",{className:"fc-daygrid-day-number"},"")):void 0,b("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,b("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},b(bJ,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),b("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function AJ(t){return t.dayNumberText||b(ke,null,"")}function RJ(t,e,n){const{start:r,end:i}=e,s=ls(i,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(s),c=n.getMonth(s);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function NL(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function ML(t){return NL(t)+":"+t.lastCol}function IJ(t,e,n,r,i,s,o){let a=new PJ(w=>{let y=t[w.index].eventRange.instance.instanceId+":"+w.span.start+":"+(w.span.end-1);return i[y]});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let w=0;w<t.length;w+=1){let y=t[w],_=ML(y);i[_]!=null?l.push({index:w,span:{start:y.firstCol,end:y.lastCol+1}}):c.push(y)}let u=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:f,leftoverMargins:g}=kJ(d,t,o),v=[],E=[];for(let w of c){f[w.firstCol].push({seg:w,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=w.firstCol;y<=w.lastCol;y+=1)h[y].push({seg:ha(w,y,y+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)v.push(0);for(let w of u){let y=t[w.index],_=w.span;f[_.start].push({seg:ha(y,_.start,_.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=_.start;S<_.end;S+=1)v[S]+=1,h[S].push({seg:ha(y,S,S+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)E.push(g[w]);return{singleColPlacements:h,multiColPlacements:f,moreCnts:v,moreMarginTops:E}}function kJ(t,e,n){let r=DJ(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,d=0;for(let f of l){let g=e[f.index];c.push({seg:ha(g,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-u}),u=f.levelCoord+f.thickness}let h=[];u=0,d=0;for(let f of l){let g=e[f.index],v=f.span.end-f.span.start>1,E=f.span.start===a;d+=f.levelCoord-u,u=f.levelCoord+f.thickness,v?(d+=f.thickness,E&&h.push({seg:ha(g,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):E&&(h.push({seg:ha(g,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:d}),d=0)}i.push(c),s.push(h),o.push(d)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function DJ(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function ha(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=so(s,{start:r[e].date,end:Ot(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class PJ extends eL{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[Hs(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=Hs(o);if(!s[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:m_(o.span,n.span)}),d=Hs(u);s[d]=!0,i[a][l]=u,this.splitEntry(o,n,r)}else s[c]=!0,r.push(o)}return super.handleInvalidInsertion(e,n,r)}}class OL extends Tr{constructor(){super(...arguments),this.cellElRefs=new Vr,this.frameElRefs=new Vr,this.fgElRefs=new Vr,this.segHarnessRefs=new Vr,this.rootElRef=Gt(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=Ld(e.businessHourSegs,s),a=Ld(e.bgEventSegs,s),l=Ld(this.getHighlightSegs(),s),c=Ld(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:d,moreCnts:h,moreMarginTops:f}=IJ(HO(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return b("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((v,E)=>{let w=this.renderFgSegs(E,e.forPrint?u[E]:d[E],e.todayRange,g),y=this.renderFgSegs(E,NJ(c[E],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return b(xJ,{key:v.key,elRef:this.cellElRefs.createRef(v.key),innerElRef:this.frameElRefs.createRef(v.key),dateProfile:e.dateProfile,date:v.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&E===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,moreCnt:h[E],moreMarginTop:f[E],singlePlacements:u[E],fgContentElRef:this.fgElRefs.createRef(v.key),fgContent:b(ke,null,b(ke,null,w),b(ke,null,y)),bgContent:b(ke,null,this.renderFillSegs(l[E],"highlight"),this.renderFillSegs(o[E],"non-business"),this.renderFillSegs(a[E],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!br(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,h=s||o||a,f=[];if(u)for(let g of n){let{seg:v}=g,{instanceId:E}=v.eventRange.instance,w=g.isVisible&&!i[E],y=g.isAbsolute,_="",S="";y&&(l.isRtl?(S=0,_=u.lefts[v.lastCol]-u.lefts[v.firstCol]):(_=0,S=u.rights[v.firstCol]-u.rights[v.lastCol])),f.push(b("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:NL(v),ref:h?null:this.segHarnessRefs.createRef(ML(v)),style:{visibility:w?"":"hidden",marginTop:y?"":g.marginTop,top:y?g.absoluteTop:"",left:_,right:S}},kL(v)?b(PL,Object.assign({seg:v,isDragging:s,isSelected:E===c,defaultDisplayEventEnd:d},Zi(v,r))):b(DL,Object.assign({seg:v,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:E===c,defaultDisplayEventEnd:d},Zi(v,r)))))}return f}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(b("div",{key:WO(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?b(fL,Object.assign({seg:a},Zi(a,i))):pL(n)))}return b(ke,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new La(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new La(c,l,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}OL.addStateEquality({segHeights:br});function NJ(t,e){if(!t.length)return[];let n=MJ(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function MJ(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class OJ extends Tr{constructor(){super(...arguments),this.splitBusinessHourSegs=W(Od),this.splitBgEventSegs=W(Od),this.splitFgEventSegs=W(Od),this.splitDateSelectionSegs=W(Od),this.splitEventDrag=W(Hx),this.splitEventResize=W(Hx),this.rowRefs=new Vr}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return b(Bu,{unit:"day"},(d,h)=>b(ke,null,e.cells.map((f,g)=>b(OL,{ref:this.rowRefs.createRef(g),key:f.length?f[0].date.toISOString():g,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:i[g],eventSelection:e.eventSelection,bgEventSegs:s[g].filter(LJ),fgEventSegs:o[g],dateSelectionSegs:a[g],eventDrag:l[g],eventResize:c[g],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new La(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new La(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=Ot(r,1);return{start:r,end:i}}}function LJ(t){return t.eventRange.def.allDay}class VJ extends Tr{constructor(){super(...arguments),this.elRef=Gt(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return b("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},b("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,b("tbody",{role:"presentation"},b(OJ,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=jJ(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function jJ(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${TK(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${ZE(e.currentDate)}"]`)),n}class FJ extends oL{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class LL extends Tr{constructor(){super(...arguments),this.slicer=new FJ,this.tableRef=Gt()}render(){let{props:e,context:n}=this;return b(VJ,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class BJ extends _J{constructor(){super(...arguments),this.buildDayTableModel=W(UJ),this.headerRef=Gt(),this.tableRef=Gt()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&b(rL,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>b(LL,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function UJ(t,e){let n=new iL(t.renderRange,e);return new sL(n,/year|month|week/.test(t.currentRangeUnit))}class $J extends DO{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return HJ({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function HJ(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=gx(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(Ot(n.end,-1))),a=Math.ceil(fK(o,i));i=gx(i,6-a)}return{start:r,end:i}}var zJ=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';GE(zJ);var WJ=ui({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:BJ,dateProfileGeneratorClass:$J},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}}),GJ='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';GE(GJ);class qJ extends aX{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?jY(e)?["timed","allDay"]:["allDay"]:["timed"]}}const QJ=Ve({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function VL(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return b(ci.Consumer,null,n=>{if(!t.isLabeled)return b("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=i.slotLabelFormat==null?QJ:Array.isArray(i.slotLabelFormat)?Ve(i.slotLabelFormat[0]):Ve(i.slotLabelFormat),a={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return b(_n,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:KJ,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>b("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},b(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function KJ(t){return t.text}class YJ extends we{render(){return this.props.slatMetas.map(e=>b("tr",{key:e.key},b(VL,Object.assign({},e))))}}const XJ=Ve({week:"short"}),ZJ=5;class JJ extends Tr{constructor(){super(...arguments),this.allDaySplitter=new qJ,this.headerElRef=Gt(),this.rootElRef=Gt(),this.scrollerElRef=Gt(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,a=yo(s.start,s.end)===1?Df(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?b(mL,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:XJ},l=>b("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},b(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):b("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},b("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return b(_n,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:eee,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>b("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},b(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,o=[],a=Pf(i.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:b("tr",{role:"presentation",className:"fc-scrollgrid-section"},b("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),b(Af,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},b(v_,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,s,o,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,d=!u.forPrint&&Pf(c.options),h=!u.forPrint&&dL(c.options),f=[];e&&f.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>b("tr",{role:"presentation"},this.renderHeadAxis("day",v.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>b("tr",{role:"presentation"},this.renderTableRowAxis(v.rowSyncHeights[0]))},{key:"cols",content:n}]}),f.push({key:"all-day-divider",type:"body",outerContent:b("tr",{role:"presentation",className:"fc-scrollgrid-section"},b("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let g=c.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:v=>b("div",{className:"fc-timegrid-axis-chunk"},b("table",{"aria-hidden":!0,style:{height:v.expandRows?v.clientHeight:""}},v.tableColGroupNode,b("tbody",null,b(YJ,{slatMetas:o}))),b("div",{className:"fc-timegrid-now-indicator-container"},b(Bu,{unit:g?"minute":"day"},E=>{let w=g&&a&&a.safeComputeTop(E);return typeof w=="number"?b(w_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:w},isAxis:!0,date:E}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),h&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Wy},{key:"cols",content:Wy}]}),b(Af,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},b(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=ZJ),{dayMaxEvents:e,dayMaxEventRows:n}}}function eee(t){return t.text}class tee{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(zr(n.currentRange,e)){let r=Ce(e),i=e.valueOf()-r.valueOf();if(i>=Gn(n.slotMinTime)&&i<Gn(n.slotMaxTime))return this.computeTimeTop(le(i))}return null}computeDateTop(e,n){return n||(n=Ce(e)),this.computeTimeTop(le(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-Gn(r.slotMinTime))/Gn(this.slotDuration),o,a;return s=Math.max(0,s),s=Math.min(i,s),o=Math.floor(s),o=Math.min(o,i-1),a=s-o,n.tops[o]+n.getHeight(o)*a}}class nee extends we{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return b("tbody",null,e.slatMetas.map((s,o)=>{let a={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return b("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&b(VL,Object.assign({},s)),b(_n,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class ree extends we{constructor(){super(...arguments),this.rootElRef=Gt(),this.slatElRefs=new Vr}render(){let{props:e,context:n}=this;return b("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},b("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,b(nee,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new tee(new La(this.rootElRef.current,iee(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function iee(t,e){return e.map(n=>t[n.key])}function Tl(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function zx(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class see extends we{render(){let{props:e}=this;return b(gL,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>FL(e.hiddenSegs,e),defaultGenerator:oee,forceTimed:!0},n=>b(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function oee(t){return t.shortText}function aee(t,e,n){let r=new eL;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=EX(i),o=lee(r);return o=hee(o,1),{segRects:fee(o),hiddenGroups:s}}function lee(t){const{entriesByLevel:e}=t,n=b_((r,i)=>r+":"+i,(r,i)=>{let s=dee(t,r,i),o=Wx(s,n),a=e[r][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return Wx(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function Wx(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,o=[];for(;s<i;)o.push(e(n,s)),s+=1;return o.sort(cee),[o.map(uee),o[0][1]]}function cee(t,e){return e[1]-t[1]}function uee(t){return t[0]}function dee(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],o=r[e]+s.thickness,a=r.length,l=e;for(;l<a&&r[l]<o;l+=1);for(;l<a;l+=1){let c=i[l],u,d=zy(c,s.span.start,Hy),h=d[0]+d[1],f=h;for(;(u=c[f])&&u.span.start<s.span.end;)f+=1;if(h<f)return{level:l,lateralStart:h,lateralEnd:f}}return null}function hee(t,e){const n=b_((r,i,s)=>Hs(r),(r,i,s)=>{let{nextLevelNodes:o,thickness:a}=r,l=a+s,c=a/l,u,d=[];if(!o.length)u=e;else for(let f of o)if(u===void 0){let g=n(f,i,l);u=g[0],d.push(g[1])}else{let g=n(f,u,0);d.push(g[1])}let h=(u-i)*c;return[u-h,Object.assign(Object.assign({},r),{thickness:h,nextLevelNodes:d})]});return t.map(r=>n(r,0,0)[1])}function fee(t){let e=[];const n=b_((i,s,o)=>Hs(i),(i,s,o)=>{let a=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){let a=0;for(let l of i)a=Math.max(n(l,s,o),a);return a}return r(t,0,0),e}function b_(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function Gx(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],a=n.computeDateTop(o.start,e),l=Math.max(a+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(a),end:Math.round(l)})}return i}function pee(t,e,n,r){let i=[],s=[];for(let c=0;c<t.length;c+=1){let u=e[c];u?i.push({index:c,thickness:1,span:u}):s.push(t[c])}let{segRects:o,hiddenGroups:a}=aee(i,n,r),l=[];for(let c of o)l.push({seg:t[c.index],rect:c});for(let c of s)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}const mee=Ve({hour:"numeric",minute:"2-digit",meridiem:!1});class jL extends we{render(){return b(hL,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:mee}))}}class gee extends we{constructor(){super(...arguments),this.sortEventSegs=W(HO)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return b(E_,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>b("div",{className:"fc-timegrid-col-frame"},b("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),b("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),b("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),b("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),__(r)&&b(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,o){let{props:a}=this;return a.forPrint?FL(e,a):this.renderPositionedFgSegs(e,n,r,i,s,o)}renderPositionedFgSegs(e,n,r,i,s,o){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:d,slatCoords:h,eventSelection:f,todayRange:g,nowDate:v}=this.props,E=r||i||s,w=Gx(e,d,h,u),{segPlacements:y,hiddenGroups:_}=pee(e,w,c,a);return b(ke,null,this.renderHiddenGroups(_,e),y.map(S=>{let{seg:T,rect:C}=S,x=T.eventRange.instance.instanceId,A=E||!!(!n[x]&&C),N=Ig(C&&C.span),M=!E&&C?this.computeSegHStyle(C):{left:0,right:0},z=!!C&&C.stackForward>0,re=!!C&&C.span.end-C.span.start<l;return b("div",{className:"fc-timegrid-event-harness"+(z?" fc-timegrid-event-harness-inset":""),key:o||x,style:Object.assign(Object.assign({visibility:A?"":"hidden"},N),M)},b(jL,Object.assign({seg:T,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:x===f,isShort:re},Zi(T,g,v))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c}=this.props;return b(ke,null,e.map(u=>{let d=Ig(u.span),h=vee(u.entries,n);return b(see,{key:SO(vL(h)),hiddenSegs:h,top:d.top,bottom:d.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=Gx(e,r.date,r.slatCoords,i.options.eventMinHeight).map((a,l)=>{let c=e[l];return b("div",{key:WO(c.eventRange),className:"fc-timegrid-bg-harness",style:Ig(a)},n==="bg-event"?b(fL,Object.assign({seg:c},Zi(c,r.todayRange,r.nowDate))):pL(n))});return b(ke,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>b(w_,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,a,l;i&&(o=Math.min(1,s+(o-s)*2)),n?(a=1-o,l=s):(a=s,l=1-o);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:l*100+"%"};return i&&!e.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c}}function FL(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return b(ke,null,t.map(a=>{let l=a.eventRange.instance.instanceId;return b("div",{key:l,style:{visibility:o[l]?"hidden":""}},b(jL,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===r,isShort:!1},Zi(a,e,n))))}))}function Ig(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function vee(t,e){return t.map(n=>e[n.index])}class yee extends we{constructor(){super(...arguments),this.splitFgEventSegs=W(Tl),this.splitBgEventSegs=W(Tl),this.splitBusinessHourSegs=W(Tl),this.splitNowIndicatorSegs=W(Tl),this.splitDateSelectionSegs=W(Tl),this.splitEventDrag=W(zx),this.splitEventResize=W(zx),this.rootElRef=Gt(),this.cellElRefs=new Vr}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitBusinessHourSegs(e.businessHourSegs,i),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),d=this.splitEventResize(e.eventResize,i);return b("div",{className:"fc-timegrid-cols",ref:this.rootElRef},b("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,b("tbody",{role:"presentation"},b("tr",{role:"row"},e.axis&&b("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},b("div",{className:"fc-timegrid-col-frame"},b("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&b(w_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((h,f)=>b(gee,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[f],bgEventSegs:o[f],businessHourSegs:a[f],nowIndicatorSegs:l[f],dateSelectionSegs:c[f],eventDrag:u[f],eventResize:d[f],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new La(this.rootElRef.current,wee(this.cellElRefs.currentMap,e.cells),!0,!1))}}function wee(t,e){return e.map(n=>t[n.key])}class Eee extends Tr{constructor(){super(...arguments),this.processSlotOptions=W(_ee),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return b("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},b(ree,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),b(yee,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),u=s.leftToIndex(e),d=a.positions.topToIndex(n);if(u!=null&&d!=null){let h=this.props.cells[u],f=a.positions.tops[d],g=a.positions.getHeight(d),v=(n-f)/g,E=Math.floor(v*c),w=d*c+E,y=this.props.cells[u].date,_=Ly(o.slotMinTime,cK(l,w)),S=r.add(y,_),T=r.add(S,l);return{dateProfile:o,dateSpan:Object.assign({range:{start:S,end:T},allDay:!1},h.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:f,bottom:f+g},layer:0}}return null}}function _ee(t,e){let n=e||t,r=XE(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class See extends oL{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=so(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class bee extends Tr{constructor(){super(...arguments),this.buildDayRanges=W(Tee),this.slicer=new See,this.timeColsRef=Gt()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,a=this.buildDayRanges(i,r,n.dateEnv);return b(Bu,{unit:s?"minute":"day"},(l,c)=>b(Eee,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:s&&this.slicer.sliceNowDate(l,r,o,n,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Tee(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const qx=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Cee(t,e,n,r,i){let s=new Date(0),o=t,a=le(0),l=n||xee(r),c=[];for(;Gn(o)<Gn(e);){let u=i.add(s,o),d=XE(a,l)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:CK(u),isLabeled:d}),o=Ly(o,r),a=Ly(a,r)}return c}function xee(t){let e,n,r;for(e=qx.length-1;e>=0;e-=1)if(n=le(qx[e]),r=XE(n,t),r!==null&&r>1)return n;return t}class Aee extends JJ{constructor(){super(...arguments),this.buildTimeColsModel=W(Ree),this.buildSlatMetas=W(Cee)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,o=this.buildTimeColsModel(s,r),a=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:c}=e,u=!c,d=c,h=e.dayHeaders&&b(rL,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),f=e.allDaySlot!==!1&&(v=>b(LL,Object.assign({},a.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:v.tableMinWidth,colGroupNode:v.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:v.clientWidth,clientHeight:v.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),g=v=>b(bee,Object.assign({},a.timed,{dayTableModel:o,dateProfile:s,axis:u,slotDuration:e.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:v.tableColGroupNode,tableMinWidth:v.tableMinWidth,clientWidth:v.clientWidth,clientHeight:v.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:v.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,f,g,o.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(h,f,g)}}function Ree(t,e){let n=new iL(t.renderRange,e);return new sL(n,!1)}const Iee={allDaySlot:Boolean};var kee=ui({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Iee,views:{timeGrid:{component:Aee,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});g_.touchMouseIgnoreWait=500;let qy=0,Nf=0,Qy=!1;class BL{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Dee(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,Pee()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.pageXOffset-this.prevScrollX+this.prevPageX,i=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Yp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Nee()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Mee()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Pt(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Qy=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Pt(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return qy||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Qy=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}}function Dee(t){return t.button===0&&!t.ctrlKey}function Pee(){qy+=1,setTimeout(()=>{qy-=1},g_.touchMouseIgnoreWait)}function Nee(){Nf+=1,Nf===1&&window.addEventListener("touchmove",UL,{passive:!1})}function Mee(){Nf-=1,Nf||window.removeEventListener("touchmove",UL,{passive:!1})}function UL(t){Qy&&t.preventDefault()}class Oee{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=n-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",ic(r,{left:i.left,top:i.top}),QQ(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(QE(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&ic(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.classList.add("fc-event-dragging"),ic(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class $L extends p_{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class HL extends $L{constructor(e,n){super(new yX(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return gX(this.scrollController.el)}}class Lee extends $L{constructor(e){super(new wX,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Qx=typeof performance=="function"?performance.now:Date.now;class Vee{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(e){let n=Qx();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.pageXOffset,i=n-window.pageYOffset,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Qx()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,d=a.bottom-n;l>=0&&c>=0&&u>=0&&d>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),d<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"bottom",distance:d}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Lee(!1):new HL(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Uu extends SX{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,KQ(document.body),XQ(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,YQ(document.body),ZQ(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new BL(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new Oee,this.autoScroller=new Vee}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class jee{constructor(e){this.origRect=f_(e),this.scrollCaches=JO(e).map(n=>new HL(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!Fee(i.getEventTarget())&&!rX(r,i.clientRect))return!1;return!0}}function Fee(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Xp{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Yp}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=f_(i),r=iX(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=YO(s,o.rect);a&&(r=sX(a))}this.coordAdjust=oX(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Zp(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=ei(this.droppableStore,e=>(e.component.prepareHits(),new jee(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),d=e-c,h=n-u,{origRect:f}=l,g=f.right-f.left,v=f.bottom-f.top;if(d>=0&&d<g&&h>=0&&h<v){let E=a.queryHit(d,h,g,v);E&&Qp(E.dateProfile.activeRange,E.dateSpan.range)&&(!s||E.layer>s.layer)&&(E.componentId=o,E.context=a.context,E.rect.left+=c,E.rect.right+=c,E.rect.top+=u,E.rect.bottom+=u,s=E)}}}return s}}function Zp(t,e){return!t&&!e?!0:!!t!=!!e?!1:qY(t.dateSpan,e.dateSpan)}function zL(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Bee(t,e.dateEnv)),n}function Bee(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class Uee extends Xa{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Zp(o,a)){let{context:l}=i,c=Object.assign(Object.assign({},zL(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new Uu(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Xp(this.dragging,d_(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class $ee extends Xa{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?Hee(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=zee(d,o,l.pluginHooks.dateSelectionTransformers)),(!c||!RX(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?KE():YE(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(BO(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Uu(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Xp(this.dragging,d_(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function Hee(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function zee(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(rK);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class $u extends Xa{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:d}=l.context,h=l.context;this.subjectEl=o.subjectEl;let f=this.subjectSeg=Oa(o.subjectEl),v=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=a_(h.getCurrentData().eventStore,v),c.minDistance=o.isTouch?0:d.eventDragMinDistance,c.delay=o.isTouch&&v!==l.props.eventSelection?Gee(l):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=Pt(a,".fc"),u.revertDuration=d.dragRevertDuration;let E=l.isValidSegDownEl(a)&&!Pt(a,".fc-event-resizer");c.setIgnoreMove(!E),this.isDragging=E&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Me(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,h=null,f=null,g=!1,v={affectedEvents:l,mutatedEvents:pn(),isEvent:!0};if(o){d=o.context;let E=d.options;u===d||E.editable&&E.droppable?(h=Wee(c,o,d.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(f=u_(l,d.getCurrentData().eventUiBases,h,d),v.mutatedEvents=f,aL(v,o.dateProfile,d)||(g=!0,h=null,f=null,v.mutatedEvents=pn()))):d=null}this.displayDrag(d,v),g?KE():YE(),a||(u===d&&Zp(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=h,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,h=this.eventRange.instance,f=new Me(a,d,h),g=this.relevantEvents,v=this.mutatedRelevantEvents,{finalHit:E}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:o.origEvent,view:l}),u){if(c===a){let w=new Me(a,v.defs[d.defId],h?v.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:v});let y={oldEvent:f,event:w,relatedEvents:$s(v,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:g})}},_={};for(let S of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(_,S(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),_),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",y)}else if(c){let w={event:f,relatedEvents:$s(g,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:g})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},w),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:g}),a.emitter.trigger("eventRemove",w);let y=v.defs[d.defId],_=v.instances[h.instanceId],S=new Me(c,y,_);c.dispatch({type:"MERGE_EVENTS",eventStore:v});let T={event:S,relatedEvents:$s(v,c,_),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:v})}};c.emitter.trigger("eventAdd",T),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},zL(E.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:E.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:o.subjectEl,view:E.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Uu(e.el);i.pointer.selector=$u.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Xp(this.dragging,$y);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:pn(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}$u.SELECTOR=".fc-event-draggable, .fc-event-resizable";function Wee(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=r.range.start,o=i.range.start,a={};r.allDay!==i.allDay&&(a.allDay=i.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(s=Ce(s)));let l=Zo(s,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);l.milliseconds&&(a.allDay=!1);let c={datesDelta:l,standardProps:a};for(let u of n)u(c,t,e);return c}function Gee(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class qee extends Xa{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=Oa(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=a_(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=Oa(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new Me(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,f=null,g=!1,v={affectedEvents:c,mutatedEvents:pn(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(h=Qee(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(f=u_(c,l.getCurrentData().eventUiBases,h,l),v.mutatedEvents=f,aL(v,s.dateProfile,l)||(g=!0,h=null,f=null,v.mutatedEvents=null)),f?l.dispatch({type:"SET_EVENT_RESIZE",state:v}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),g?KE():YE(),o||(h&&Zp(u,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=f)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new Me(o,a,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let h=new Me(o,d.defs[a.defId],l?d.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let f={oldEvent:c,event:h,relatedEvents:$s(d,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||le(0),endDelta:this.validMutation.endDelta||le(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",f)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Uu(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Xp(this.dragging,d_(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Pt(e.subjectEl,".fc-event")}}function Qee(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Zo(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}class Kee{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=vO(r.origEvent);this.matchesCancel=!!Pt(s,i),this.matchesEvent=!!Pt(s,$u.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new BL(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Yee={fixedMirrorParent:R},Xee={dateClick:R,eventDragStart:R,eventDragStop:R,eventDrop:R,eventResizeStart:R,eventResizeStop:R,eventResize:R,drop:R,eventReceive:R,eventLeave:R};g_.dataAttrPrefix="";var Zee=ui({name:"@fullcalendar/interaction",componentInteractions:[Uee,$ee,$u,qee],calendarInteractions:[Kee],elementDraggingImpl:Uu,optionRefiners:Yee,listenerRefiners:Xee});function Jee(){const{currentTask:t,editedTask:e,setEditedTask:n,taskLists:r,setTaskLists:i,setCurrentList:s}=En(),{modalContext:o,setModalContext:a}=Ft(),{authContext:l}=on(),c=qM(t,e);return m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Edit task"})}),m.jsxs(si,{className:"d-flex flex-column gap-4 border-0 my-bg-darker modal-body overflow-auto",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelStyle:"my-color-light fw-semibold mb-1 txt-small",labelValue:"Task:",inputType:"text",inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",inputValue:e.title,onChange:u=>{ur(e,n,"title",u)}}),m.jsx(ws,{containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Description",labelClass:"my-color-light fw-semibold mb-1 txt-small",txtAreaClass:"task-details-descripion border-0 shadowHover shadowFocus w-100 txt-small modal-description my-bg-dark rounded fw-semibold my-color-light p-2",txtAreaValue:e.description,onChange:u=>{ur(e,n,"description",u)}}),m.jsxs("div",{className:"d-flex flex-column p-0 gap-2 me-auto",children:[m.jsx(Pu,{containerStyle:"d-flex flex-row p-0 gap-2 fw-semibold ms-auto align-items-center bg-transparent w-100 justify-content-between",label:"List",labelStyle:"my-color-light",selectStyle:"border-0 rounded fw-semibold txt-small text-start p-1 select-purple my-color-lighter ",optionStyle:"fw-semibold txt-small",options:r.map(u=>u.listName),selectedList:e.list,onChange:u=>{ur(e,n,"list",u)}}),m.jsx(Da,{containerSyle:"d-flex flex-row justify-content-between gap-4 my-color-light fw-semibold txt-small align-items-center p-0",labelValue:"Start",inputStyle:"border-0 rounded my-color-light p-1 ms-auto fw-semibold txt-small shadowFocus shadowHover my-bg-dark text-center",inputType:"datetime-local",inputValue:e.start,onChange:u=>{console.log(u.target.value),ur(e,n,"start",u)}}),m.jsx(Da,{containerSyle:"d-flex flex-row justify-content-between gap-4 my-color-light fw-semibold txt-small align-items-center p-0",labelValue:"End",inputStyle:"border-0 rounded my-color-light p-1 ms-auto fw-semibold txt-small shadowFocus shadowHover my-bg-dark text-center",inputType:"datetime-local",inputValue:e.end,onChange:u=>{ur(e,n,"end",u)}})]}),m.jsx(po,{buttonTxt:"Add subtask",function:()=>{const u=new Date().getTime();n({...e,subtasks:[...e.subtasks,{subtaskID:`${u}`,title:"",description:"",subtaskStatus:!1}]})}}),m.jsx("div",{className:"d-flex flex-column",children:m.jsx(Na.Group,{axis:"y",values:e.subtasks,className:"d-flex flex-column p-0 gap-4",onReorder:u=>{n({...e,subtasks:[...u]})},children:e.subtasks.map((u,d)=>m.jsx(Na.Item,{value:u,children:m.jsx(UM,{subtask:u,newTask:e,setNewTask:n,index:d})},u.subtaskID))})})]}),m.jsxs(oi,{className:"my-bg-darker border-0",children:[m.jsx(St,{className:"fw-semibold btn-purple-outline my-color-lighter txt-small",style:{flex:1},onClick:()=>{a({...o,showModal:!o.showModal})},children:"Close"}),m.jsx(St,{className:`${c?"bg-warning text-secondary":"btn-purple my-color-lighter"} border-0 fw-semibold txt-small`,style:{flex:1},onClick:async()=>{c?(zM(t,e,s,i,r),HM(l.userID,t,e),a({...o,showModal:!o.showModal})):(await zE(l.userID,e),WM(r,i,s,t),a({...o,showModal:!o.showModal}))},children:c?"Save Changes":"Delete"})]})]})}function Kx(t,e){const n=[];return t.forEach(r=>{r.tasks.forEach(i=>{const s={id:i.taskID,end:i.end,start:i.start,title:i.title,backgroundColor:i.listColor,data:{list:i.list,taskStatus:i.taskStatus},className:e};n.push(s)})}),n}function Yx(t){const e=new Date(t),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return`${n}-${r}-${i}T${s}:${o}`}function ete(){const{taskLists:t,setTaskLists:e,setCurrentTask:n,setEditedTask:r}=En(),{modalContext:i,setModalContext:s}=Ft(),{authContext:o}=on(),[a,l]=p.useState(Kx(t,"p-2 border-0 rounded eventHover")),[c,u]=p.useState("Ongoing"),d=y=>t.map(S=>{const T=S.tasks.map(C=>C.taskID===y.event.id?{...C,start:Yx(y.event.startStr),end:Yx(y.event.endStr)}:C);return{...S,tasks:T}}),h=(y,_)=>y.find(S=>S.listName===_),f=(y,_)=>y.tasks.find(S=>S.taskID===_),g=y=>{const _=d(y),S=h(_,y.event.extendedProps.data.list),T=f(S,y.event.id);qc(o.userID,T),e(_)},v=y=>{const _=d(y),S=h(_,y.event.extendedProps.data.list),T=f(S,y.event.id);qc(o.userID,T),e(_)},E=y=>{const _=h(t,y.event.extendedProps.data.list),S=f(_,y.event.id);n(S),r(S),s({modalContent:m.jsx(Jee,{}),showModal:!i.showModal})},w=()=>{const y=[...Kx(t,"p-2 border-0 rounded eventHover")];l(c==="Ongoing"?y.filter(_=>_.data.taskStatus===!1):y.filter(_=>_.data.taskStatus===!0))};return p.useEffect(()=>{w()},[t,c]),m.jsxs("div",{className:"d-flex flex-column flex-1 p-2 gap-4 fadeIn",children:[m.jsx(EE,{txt:"Calendar",keyProp:"Calendar",className:"txt-larger fw-semibold ms-2 mb-2 my-color-light"}),m.jsxs("div",{className:"d-flex flex-row w-100",children:[m.jsx(po,{buttonTxt:"Add task",function:()=>{t.length>0?s({showModal:!i.showModal,modalContent:m.jsx($M,{})}):(window.alert("You have no task list created yet. Please create new task list first."),s({showModal:!i.showModal,modalContent:m.jsx(yE,{})}))}}),m.jsx(Pu,{containerStyle:"d-flex flex-row p-0 gap-2 fw-semibold ms-auto align-items-center bg-transparent",label:"Sort by:",labelStyle:"my-color-light",selectStyle:"border-0 rounded fw-semibold txt-small text-start p-1 select-purple my-color-lighter p-2",optionStyle:"fw-semibold txt-small",options:["Ongoing","Done"],selectedList:c,onChange:y=>{u(y.target.value)}})]}),m.jsx(AL,{events:a,plugins:[WJ,kee,Zee],views:{timeGridWeek:{type:"timeGrid",duration:{weeks:1}},timeGridDay:{type:"timeGrid",duration:{days:1}}},headerToolbar:{left:"prev,next,today",center:"title",right:"timeGridDay,timeGridWeek,dayGridMonth"},initialView:"dayGridMonth",eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotLabelFormat:{hour:"numeric",minute:"2-digit",hour12:!1},titleFormat:{month:"short",year:"numeric"},firstDay:1,editable:!0,eventDrop:g,eventResize:v,eventResizableFromStart:!0,eventClick:E,nowIndicator:!0,height:"100%"})]})}function tte(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Jp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Za(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function T_(t){return"nodeType"in t}function an(t){var e,n;return t?Za(t)?t:T_(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function C_(t){const{Document:e}=an(t);return t instanceof e}function Hu(t){return Za(t)?!1:t instanceof an(t).HTMLElement}function WL(t){return t instanceof an(t).SVGElement}function Ja(t){return t?Za(t)?t.document:T_(t)?C_(t)?t:Hu(t)||WL(t)?t.ownerDocument:document:document:document}const Jn=Jp?p.useLayoutEffect:p.useEffect;function x_(t){const e=p.useRef(t);return Jn(()=>{e.current=t}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function nte(){const t=p.useRef(null),e=p.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=p.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function eu(t,e){e===void 0&&(e=[t]);const n=p.useRef(t);return Jn(()=>{n.current!==t&&(n.current=t)},e),n}function zu(t,e){const n=p.useRef();return p.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Mf(t){const e=x_(t),n=p.useRef(null),r=p.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Ky(t){const e=p.useRef();return p.useEffect(()=>{e.current=t},[t]),e.current}let kg={};function Wu(t,e){return p.useMemo(()=>{if(e)return e;const n=kg[t]==null?0:kg[t]+1;return kg[t]=n,t+"-"+n},[t,e])}function GL(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+t*c)}return s},{...e})}}const fa=GL(1),Of=GL(-1);function rte(t){return"clientX"in t&&"clientY"in t}function A_(t){if(!t)return!1;const{KeyboardEvent:e}=an(t.target);return e&&t instanceof e}function ite(t){if(!t)return!1;const{TouchEvent:e}=an(t.target);return e&&t instanceof e}function Yy(t){if(ite(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return rte(t)?{x:t.clientX,y:t.clientY}:null}const tu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[tu.Translate.toString(t),tu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Xx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function ste(t){return t.matches(Xx)?t:t.querySelector(Xx)}const ote={display:"none"};function ate(t){let{id:e,value:n}=t;return te.createElement("div",{id:e,style:ote},n)}function lte(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return te.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function cte(){const[t,e]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const qL=p.createContext(null);function ute(t){const e=p.useContext(qL);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function dte(){const[t]=p.useState(()=>new Set),e=p.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[p.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const hte={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fte={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function pte(t){let{announcements:e=fte,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=hte}=t;const{announce:s,announcement:o}=cte(),a=Wu("DndLiveRegion"),[l,c]=p.useState(!1);if(p.useEffect(()=>{c(!0)},[]),ute(p.useMemo(()=>({onDragStart(d){let{active:h}=d;s(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:f}=d;e.onDragMove&&s(e.onDragMove({active:h,over:f}))},onDragOver(d){let{active:h,over:f}=d;s(e.onDragOver({active:h,over:f}))},onDragEnd(d){let{active:h,over:f}=d;s(e.onDragEnd({active:h,over:f}))},onDragCancel(d){let{active:h,over:f}=d;s(e.onDragCancel({active:h,over:f}))}}),[s,e])),!l)return null;const u=te.createElement(te.Fragment,null,te.createElement(ate,{id:r,value:i.draggable}),te.createElement(lte,{id:a,announcement:o}));return n?ar.createPortal(u,n):u}var et;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(et||(et={}));function Lf(){}function Zx(t,e){return p.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function mte(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const er=Object.freeze({x:0,y:0});function gte(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function vte(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function yte(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function wte(t,e){if(!t||t.length===0)return null;const[n]=t;return e?n[e]:n}function Jx(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Ete=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Jx(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=gte(Jx(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(vte)};function _te(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,c=t.width*t.height,u=o*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const Ste=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=_te(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(yte)};function bte(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function QL(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:er}function Tte(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const Cte=Tte(1);function xte(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Ate(t,e,n){const r=xte(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),c=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,d=s?t.height/s:t.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const Rte={ignoreTransform:!1};function el(t,e){e===void 0&&(e=Rte);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=an(t).getComputedStyle(t);c&&(n=Ate(n,c,u))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function eA(t){return el(t,{ignoreTransform:!0})}function Ite(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function kte(t,e){return e===void 0&&(e=an(t).getComputedStyle(t)),e.position==="fixed"}function Dte(t,e){e===void 0&&(e=an(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function R_(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(C_(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Hu(i)||WL(i)||n.includes(i))return n;const s=an(t).getComputedStyle(i);return i!==t&&Dte(i,s)&&n.push(i),kte(i,s)?n:r(i.parentNode)}return t?r(t):n}function KL(t){const[e]=R_(t,1);return e??null}function Dg(t){return!Jp||!t?null:Za(t)?t:T_(t)?C_(t)||t===Ja(t).scrollingElement?window:Hu(t)?t:null:null}function YL(t){return Za(t)?t.scrollX:t.scrollLeft}function XL(t){return Za(t)?t.scrollY:t.scrollTop}function Xy(t){return{x:YL(t),y:XL(t)}}var lt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(lt||(lt={}));function ZL(t){return!Jp||!t?!1:t===document.scrollingElement}function JL(t){const e={x:0,y:0},n=ZL(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const Pte={x:.2,y:.2};function Nte(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=Pte);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=JL(t),f={x:0,y:0},g={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+v.height?(f.y=lt.Backward,g.y=r*Math.abs((e.top+v.height-s)/v.height)):!u&&l>=e.bottom-v.height&&(f.y=lt.Forward,g.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!h&&a>=e.right-v.width?(f.x=lt.Forward,g.x=r*Math.abs((e.right-v.width-a)/v.width)):!d&&o<=e.left+v.width&&(f.x=lt.Backward,g.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:f,speed:g}}function Mte(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function e2(t){return t.reduce((e,n)=>fa(e,Xy(n)),er)}function Ote(t){return t.reduce((e,n)=>e+YL(n),0)}function Lte(t){return t.reduce((e,n)=>e+XL(n),0)}function Vte(t,e){if(e===void 0&&(e=el),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);KL(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const jte=[["x",["left","right"],Ote],["y",["top","bottom"],Lte]];class I_{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=R_(n),i=e2(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of jte)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ac{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Fte(t){const{EventTarget:e}=an(t);return t instanceof e?t:Ja(t)}function Pg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var xn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(xn||(xn={}));function tA(t){t.preventDefault()}function Bte(t){t.stopPropagation()}var ye;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(ye||(ye={}));const t2={start:[ye.Space,ye.Enter],cancel:[ye.Esc],end:[ye.Space,ye.Enter]},Ute=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ye.Right:return{...n,x:n.x+25};case ye.Left:return{...n,x:n.x-25};case ye.Down:return{...n,y:n.y+25};case ye.Up:return{...n,y:n.y-25}}};class n2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new ac(Ja(n)),this.windowListeners=new ac(an(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(xn.Resize,this.handleCancel),this.windowListeners.add(xn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(xn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Vte(r),n(er)}handleKeyDown(e){if(A_(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=t2,coordinateGetter:o=Ute,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:er;this.referenceCoordinates||(this.referenceCoordinates=u);const d=o(e,{active:n,context:r.current,currentCoordinates:u});if(d){const h=Of(d,u),f={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const E=e.code,{isTop:w,isRight:y,isLeft:_,isBottom:S,maxScroll:T,minScroll:C}=JL(v),x=Mte(v),A={x:Math.min(E===ye.Right?x.right-x.width/2:x.right,Math.max(E===ye.Right?x.left:x.left+x.width/2,d.x)),y:Math.min(E===ye.Down?x.bottom-x.height/2:x.bottom,Math.max(E===ye.Down?x.top:x.top+x.height/2,d.y))},N=E===ye.Right&&!y||E===ye.Left&&!_,M=E===ye.Down&&!S||E===ye.Up&&!w;if(N&&A.x!==d.x){const z=v.scrollLeft+h.x,re=E===ye.Right&&z<=T.x||E===ye.Left&&z>=C.x;if(re&&!h.y){v.scrollTo({left:z,behavior:a});return}re?f.x=v.scrollLeft-z:f.x=E===ye.Right?v.scrollLeft-T.x:v.scrollLeft-C.x,f.x&&v.scrollBy({left:-f.x,behavior:a});break}else if(M&&A.y!==d.y){const z=v.scrollTop+h.y,re=E===ye.Down&&z<=T.y||E===ye.Up&&z>=C.y;if(re&&!h.x){v.scrollTo({top:z,behavior:a});return}re?f.y=v.scrollTop-z:f.y=E===ye.Down?v.scrollTop-T.y:v.scrollTop-C.y,f.y&&v.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(e,fa(Of(d,this.referenceCoordinates),f))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}n2.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=t2,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function nA(t){return!!(t&&"distance"in t)}function rA(t){return!!(t&&"delay"in t)}class k_{constructor(e,n,r){var i;r===void 0&&(r=Fte(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=Ja(o),this.documentListeners=new ac(this.document),this.listeners=new ac(r),this.windowListeners=new ac(an(o)),this.initialCoordinates=(i=Yy(s))!=null?i:er,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(xn.Resize,this.handleCancel),this.windowListeners.add(xn.DragStart,tA),this.windowListeners.add(xn.VisibilityChange,this.handleCancel),this.windowListeners.add(xn.ContextMenu,tA),this.documentListeners.add(xn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(nA(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(xn.Click,Bte,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(xn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=Yy(e))!=null?n:er,c=Of(i,l);if(!r&&a){if(nA(a)){if(a.tolerance!=null&&Pg(c,a.tolerance))return this.handleCancel();if(Pg(c,a.distance))return this.handleStart()}return rA(a)&&Pg(c,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===ye.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const $te={move:{name:"pointermove"},end:{name:"pointerup"}};class r2 extends k_{constructor(e){const{event:n}=e,r=Ja(n.target);super(e,$te,r)}}r2.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Hte={move:{name:"mousemove"},end:{name:"mouseup"}};var Zy;(function(t){t[t.RightClick=2]="RightClick"})(Zy||(Zy={}));class i2 extends k_{constructor(e){super(e,Hte,Ja(e.event.target))}}i2.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Zy.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ng={move:{name:"touchmove"},end:{name:"touchend"}};class s2 extends k_{constructor(e){super(e,Ng)}static setup(){return window.addEventListener(Ng.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ng.move.name,e)};function e(){}}}s2.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var lc;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(lc||(lc={}));var Vf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vf||(Vf={}));function zte(t){let{acceleration:e,activator:n=lc.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=Vf.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:h}=t;const f=Gte({delta:d,disabled:!s}),[g,v]=nte(),E=p.useRef({x:0,y:0}),w=p.useRef({x:0,y:0}),y=p.useMemo(()=>{switch(n){case lc.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case lc.DraggableRect:return i}},[n,i,l]),_=p.useRef(null),S=p.useCallback(()=>{const C=_.current;if(!C)return;const x=E.current.x*w.current.x,A=E.current.y*w.current.y;C.scrollBy(x,A)},[]),T=p.useMemo(()=>a===Vf.TreeOrder?[...c].reverse():c,[a,c]);p.useEffect(()=>{if(!s||!c.length||!y){v();return}for(const C of T){if((r==null?void 0:r(C))===!1)continue;const x=c.indexOf(C),A=u[x];if(!A)continue;const{direction:N,speed:M}=Nte(C,A,y,e,h);for(const z of["x","y"])f[z][N[z]]||(M[z]=0,N[z]=0);if(M.x>0||M.y>0){v(),_.current=C,g(S,o),E.current=M,w.current=N;return}}E.current={x:0,y:0},w.current={x:0,y:0},v()},[e,S,r,v,s,o,JSON.stringify(y),JSON.stringify(f),g,c,T,u,JSON.stringify(h)])}const Wte={x:{[lt.Backward]:!1,[lt.Forward]:!1},y:{[lt.Backward]:!1,[lt.Forward]:!1}};function Gte(t){let{delta:e,disabled:n}=t;const r=Ky(e);return zu(i=>{if(n||!r||!i)return Wte;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[lt.Backward]:i.x[lt.Backward]||s.x===-1,[lt.Forward]:i.x[lt.Forward]||s.x===1},y:{[lt.Backward]:i.y[lt.Backward]||s.y===-1,[lt.Forward]:i.y[lt.Forward]||s.y===1}}},[n,e,r])}function qte(t,e){const n=e!==null?t.get(e):void 0,r=n?n.node.current:null;return zu(i=>{var s;return e===null?null:(s=r??i)!=null?s:null},[r,e])}function Qte(t,e){return p.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var nu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(nu||(nu={}));var Jy;(function(t){t.Optimized="optimized"})(Jy||(Jy={}));const iA=new Map;function Kte(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=p.useState(null),{frequency:a,measure:l,strategy:c}=i,u=p.useRef(t),d=E(),h=eu(d),f=p.useCallback(function(w){w===void 0&&(w=[]),!h.current&&o(y=>y===null?w:y.concat(w.filter(_=>!y.includes(_))))},[h]),g=p.useRef(null),v=zu(w=>{if(d&&!n)return iA;if(!w||w===iA||u.current!==t||s!=null){const y=new Map;for(let _ of t){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){y.set(_.id,_.rect.current);continue}const S=_.node.current,T=S?new I_(l(S),S):null;_.rect.current=T,T&&y.set(_.id,T)}return y}return w},[t,s,n,d,l]);return p.useEffect(()=>{u.current=t},[t]),p.useEffect(()=>{d||f()},[n,d]),p.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),p.useEffect(()=>{d||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{f(),g.current=null},a))},[a,d,f,...r]),{droppableRects:v,measureDroppableContainers:f,measuringScheduled:s!=null};function E(){switch(c){case nu.Always:return!1;case nu.BeforeDragging:return n;default:return!n}}}function o2(t,e){return zu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Yte(t,e){return o2(t,e)}function Xte(t){let{callback:e,disabled:n}=t;const r=x_(e),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function em(t){let{callback:e,disabled:n}=t;const r=x_(e),i=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return p.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Zte(t){return new I_(el(t),t)}function sA(t,e,n){e===void 0&&(e=Zte);const[r,i]=p.useReducer(a,null),s=Xte({callback(l){if(t)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(t)){i();break}}}}),o=em({callback:i});return Jn(()=>{i(),t?(o==null||o.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[t]),r;function a(l){if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function Jte(t){const e=o2(t);return QL(t,e)}const oA=[];function ene(t){const e=p.useRef(t),n=zu(r=>t?r&&r!==oA&&t&&e.current&&t.parentNode===e.current.parentNode?r:R_(t):oA,[t]);return p.useEffect(()=>{e.current=t},[t]),n}function tne(t){const[e,n]=p.useState(null),r=p.useRef(t),i=p.useCallback(s=>{const o=Dg(s.target);o&&n(a=>a?(a.set(o,Xy(o)),new Map(a)):null)},[]);return p.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const c=Dg(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,Xy(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const c=Dg(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),p.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>fa(s,o),er):e2(t):er,[t,e])}function aA(t,e){e===void 0&&(e=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},e),p.useEffect(()=>{const r=t!==er;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Of(t,n.current):er}function nne(t){p.useEffect(()=>{if(!Jp)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function rne(t,e){return p.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function a2(t){return p.useMemo(()=>t?Ite(t):null,[t])}const Mg=[];function ine(t,e){e===void 0&&(e=el);const[n]=t,r=a2(n?an(n):null),[i,s]=p.useReducer(a,Mg),o=em({callback:s});return t.length>0&&i===Mg&&s(),Jn(()=>{t.length?t.forEach(l=>o==null?void 0:o.observe(l)):(o==null||o.disconnect(),s())},[t]),i;function a(){return t.length?t.map(l=>ZL(l)?r:new I_(e(l),l)):Mg}}function sne(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Hu(e)?e:t}function one(t){let{measure:e}=t;const[n,r]=p.useState(null),i=p.useCallback(c=>{for(const{target:u}of c)if(Hu(u)){r(d=>{const h=e(u);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),s=em({callback:i}),o=p.useCallback(c=>{const u=sne(c);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?e(u):null)},[e,s]),[a,l]=Mf(o);return p.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const ane=[{sensor:r2,options:{}},{sensor:n2,options:{}}],lne={current:{}},hh={draggable:{measure:eA},droppable:{measure:eA,strategy:nu.WhileDragging,frequency:Jy.Optimized},dragOverlay:{measure:el}};class cc extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const cne={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hh,measureDroppableContainers:Lf,windowRect:null,measuringScheduled:!1},une={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Lf,draggableNodes:new Map,over:null,measureDroppableContainers:Lf},tm=p.createContext(une),l2=p.createContext(cne);function dne(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cc}}}function hne(t,e){switch(e.type){case et.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case et.DragMove:return t.draggable.active?{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}}:t;case et.DragEnd:case et.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case et.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new cc(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case et.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new cc(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case et.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new cc(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function fne(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=p.useContext(tm),s=Ky(r),o=Ky(n==null?void 0:n.id);return p.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!A_(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=ste(u);if(d){d.focus();break}}})}},[r,e,i,o,s]),null}function pne(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function mne(t){return p.useMemo(()=>({draggable:{...hh.draggable,...t==null?void 0:t.draggable},droppable:{...hh.droppable,...t==null?void 0:t.droppable},dragOverlay:{...hh.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function gne(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=p.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Jn(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=QL(u,r);if(o||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=KL(c);h&&h.scrollBy({top:d.y,left:d.x})}},[e,o,a,r,n])}const c2=p.createContext({...er,scaleX:1,scaleY:1});var Si;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Si||(Si={}));const vne=p.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=ane,collisionDetection:d=Ste,measuring:h,modifiers:f,...g}=e;const v=p.useReducer(hne,void 0,dne),[E,w]=v,[y,_]=dte(),[S,T]=p.useState(Si.Uninitialized),C=S===Si.Initialized,{draggable:{active:x,nodes:A,translate:N},droppable:{containers:M}}=E,z=x?A.get(x):null,re=p.useRef({initial:null,translated:null}),fe=p.useMemo(()=>{var ft;return x!=null?{id:x,data:(ft=z==null?void 0:z.data)!=null?ft:lne,rect:re}:null},[x,z]),ue=p.useRef(null),[it,oe]=p.useState(null),[de,D]=p.useState(null),F=eu(g,Object.values(g)),$=Wu("DndDescribedBy",o),B=p.useMemo(()=>M.getEnabled(),[M]),q=mne(h),{droppableRects:Se,measureDroppableContainers:Oe,measuringScheduled:st}=Kte(B,{dragging:C,dependencies:[N.x,N.y],config:q.droppable}),me=qte(A,x),bt=p.useMemo(()=>de?Yy(de):null,[de]),Xt=w2(),We=Yte(me,q.draggable.measure);gne({activeNode:x?A.get(x):null,config:Xt.layoutShiftCompensation,initialRect:We,measure:q.draggable.measure});const ee=sA(me,q.draggable.measure,We),Ze=sA(me?me.parentElement:null),Tt=p.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:Se,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Sn=M.getNodeFor((n=Tt.current.over)==null?void 0:n.id),ht=one({measure:q.dragOverlay.measure}),ve=(r=ht.nodeRef.current)!=null?r:me,jn=C?(i=ht.rect)!=null?i:ee:null,di=!!(ht.nodeRef.current&&ht.rect),Gu=Jte(di?null:ee),tl=a2(ve?an(ve):null),tr=ene(C?Sn??me:null),Eo=ine(tr),_o=pne(f,{transform:{x:N.x-Gu.x,y:N.y-Gu.y,scaleX:1,scaleY:1},activatorEvent:de,active:fe,activeNodeRect:ee,containerNodeRect:Ze,draggingNodeRect:jn,over:Tt.current.over,overlayNodeRect:ht.rect,scrollableAncestors:tr,scrollableAncestorRects:Eo,windowRect:tl}),nl=bt?fa(bt,N):null,qu=tne(tr),pe=aA(qu),hi=aA(qu,[ee]),Cr=fa(_o,pe),So=jn?Cte(jn,_o):null,rl=fe&&So?d({active:fe,collisionRect:So,droppableRects:Se,droppableContainers:B,pointerCoordinates:nl}):null,M_=wte(rl,"id"),[fi,O_]=p.useState(null),p2=di?_o:fa(_o,hi),m2=bte(p2,(s=fi==null?void 0:fi.rect)!=null?s:null,ee),L_=p.useCallback((ft,ln)=>{let{sensor:cn,options:pi}=ln;if(ue.current==null)return;const bn=A.get(ue.current);if(!bn)return;const Fn=ft.nativeEvent,nr=new cn({active:ue.current,activeNode:bn,event:Fn,options:pi,context:Tt,onStart(Bn){const il=ue.current;if(il==null)return;const sl=A.get(il);if(!sl)return;const{onDragStart:Qu}=F.current,Ku={active:{id:il,data:sl.data,rect:re}};ar.unstable_batchedUpdates(()=>{Qu==null||Qu(Ku),T(Si.Initializing),w({type:et.DragStart,initialCoordinates:Bn,active:il}),y({type:"onDragStart",event:Ku})})},onMove(Bn){w({type:et.DragMove,coordinates:Bn})},onEnd:bo(et.DragEnd),onCancel:bo(et.DragCancel)});ar.unstable_batchedUpdates(()=>{oe(nr),D(ft.nativeEvent)});function bo(Bn){return async function(){const{active:sl,collisions:Qu,over:Ku,scrollAdjustedTranslate:j_}=Tt.current;let ol=null;if(sl&&j_){const{cancelDrop:al}=F.current;ol={activatorEvent:Fn,active:sl,collisions:Qu,delta:j_,over:Ku},Bn===et.DragEnd&&typeof al=="function"&&await Promise.resolve(al(ol))&&(Bn=et.DragCancel)}ue.current=null,ar.unstable_batchedUpdates(()=>{w({type:Bn}),T(Si.Uninitialized),O_(null),oe(null),D(null);const al=Bn===et.DragEnd?"onDragEnd":"onDragCancel";if(ol){const nm=F.current[al];nm==null||nm(ol),y({type:al,event:ol})}})}}},[A]),g2=p.useCallback((ft,ln)=>(cn,pi)=>{const bn=cn.nativeEvent,Fn=A.get(pi);if(ue.current!==null||!Fn||bn.dndKit||bn.defaultPrevented)return;const nr={active:Fn};ft(cn,ln.options,nr)===!0&&(bn.dndKit={capturedBy:ln.sensor},ue.current=pi,L_(cn,ln))},[A,L_]),V_=Qte(u,g2);nne(u),Jn(()=>{ee&&S===Si.Initializing&&T(Si.Initialized)},[ee,S]),p.useEffect(()=>{const{onDragMove:ft}=F.current,{active:ln,activatorEvent:cn,collisions:pi,over:bn}=Tt.current;if(!ln||!cn)return;const Fn={active:ln,activatorEvent:cn,collisions:pi,delta:{x:Cr.x,y:Cr.y},over:bn};ar.unstable_batchedUpdates(()=>{ft==null||ft(Fn),y({type:"onDragMove",event:Fn})})},[Cr.x,Cr.y]),p.useEffect(()=>{const{active:ft,activatorEvent:ln,collisions:cn,droppableContainers:pi,scrollAdjustedTranslate:bn}=Tt.current;if(!ft||ue.current==null||!ln||!bn)return;const{onDragOver:Fn}=F.current,nr=pi.get(M_),bo=nr&&nr.rect.current?{id:nr.id,rect:nr.rect.current,data:nr.data,disabled:nr.disabled}:null,Bn={active:ft,activatorEvent:ln,collisions:cn,delta:{x:bn.x,y:bn.y},over:bo};ar.unstable_batchedUpdates(()=>{O_(bo),Fn==null||Fn(Bn),y({type:"onDragOver",event:Bn})})},[M_]),Jn(()=>{Tt.current={activatorEvent:de,active:fe,activeNode:me,collisionRect:So,collisions:rl,droppableRects:Se,draggableNodes:A,draggingNode:ve,draggingNodeRect:jn,droppableContainers:M,over:fi,scrollableAncestors:tr,scrollAdjustedTranslate:Cr},re.current={initial:jn,translated:So}},[fe,me,rl,So,A,ve,jn,Se,M,fi,tr,Cr]),zte({...Xt,delta:N,draggingRect:So,pointerCoordinates:nl,scrollableAncestors:tr,scrollableAncestorRects:Eo});const v2=p.useMemo(()=>({active:fe,activeNode:me,activeNodeRect:ee,activatorEvent:de,collisions:rl,containerNodeRect:Ze,dragOverlay:ht,draggableNodes:A,droppableContainers:M,droppableRects:Se,over:fi,measureDroppableContainers:Oe,scrollableAncestors:tr,scrollableAncestorRects:Eo,measuringConfiguration:q,measuringScheduled:st,windowRect:tl}),[fe,me,ee,de,rl,Ze,ht,A,M,Se,fi,Oe,tr,Eo,q,st,tl]),y2=p.useMemo(()=>({activatorEvent:de,activators:V_,active:fe,activeNodeRect:ee,ariaDescribedById:{draggable:$},dispatch:w,draggableNodes:A,over:fi,measureDroppableContainers:Oe}),[de,V_,fe,ee,w,$,A,fi,Oe]);return te.createElement(qL.Provider,{value:_},te.createElement(tm.Provider,{value:y2},te.createElement(l2.Provider,{value:v2},te.createElement(c2.Provider,{value:m2},c)),te.createElement(fne,{disabled:(a==null?void 0:a.restoreFocus)===!1})),te.createElement(pte,{...a,hiddenTextDescribedById:$}));function w2(){const ft=(it==null?void 0:it.autoScrollEnabled)===!1,ln=typeof l=="object"?l.enabled===!1:l===!1,cn=C&&!ft&&!ln;return typeof l=="object"?{...l,enabled:cn}:{enabled:cn}}}),yne=p.createContext(null),lA="button",wne="Droppable";function Ene(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Wu(wne),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=p.useContext(tm),{role:f=lA,roleDescription:g="draggable",tabIndex:v=0}=i??{},E=(l==null?void 0:l.id)===e,w=p.useContext(E?c2:yne),[y,_]=Mf(),[S,T]=Mf(),C=rne(o,e),x=eu(n);Jn(()=>(d.set(e,{id:e,key:s,node:y,activatorNode:S,data:x}),()=>{const N=d.get(e);N&&N.key===s&&d.delete(e)}),[d,e]);const A=p.useMemo(()=>({role:f,tabIndex:v,"aria-disabled":r,"aria-pressed":E&&f===lA?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[r,f,v,E,g,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:A,isDragging:E,listeners:r?void 0:C,node:y,over:h,setNodeRef:_,setActivatorNodeRef:T,transform:w}}function _ne(){return p.useContext(l2)}const Sne="Droppable",bne={timeout:25};function Tne(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Wu(Sne),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=p.useContext(tm),u=p.useRef({disabled:n}),d=p.useRef(!1),h=p.useRef(null),f=p.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:E}={...bne,...i},w=eu(v??r),y=p.useCallback(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(w.current)?w.current:[w.current]),f.current=null},E)},[E]),_=em({callback:y,disabled:g||!o}),S=p.useCallback((A,N)=>{_&&(N&&(_.unobserve(N),d.current=!1),A&&_.observe(A))},[_]),[T,C]=Mf(S),x=eu(e);return p.useEffect(()=>{!_||!T.current||(_.disconnect(),d.current=!1,_.observe(T.current))},[T,_]),Jn(()=>(a({type:et.RegisterDroppable,element:{id:r,key:s,disabled:n,node:T,rect:h,data:x}}),()=>a({type:et.UnregisterDroppable,key:s,id:r})),[r]),p.useEffect(()=>{n!==u.current.disabled&&(a({type:et.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:T,over:l,setNodeRef:C}}function D_(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Cne(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Vd(t){return t!==null&&t>=0}function xne(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ane(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const P_=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=D_(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},u2="Sortable",d2=te.createContext({activeIndex:-1,containerId:u2,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:P_,disabled:{draggable:!1,droppable:!1}});function Rne(t){let{children:e,id:n,items:r,strategy:i=P_,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=_ne(),d=Wu(u2,n),h=a.rect!==null,f=p.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),g=o!=null,v=o?f.indexOf(o.id):-1,E=c?f.indexOf(c.id):-1,w=p.useRef(f),y=!xne(f,w.current),_=E!==-1&&v===-1||y,S=Ane(s);Jn(()=>{y&&g&&u(f)},[y,f,g,u]),p.useEffect(()=>{w.current=f},[f]);const T=p.useMemo(()=>({activeIndex:v,containerId:d,disabled:S,disableTransforms:_,items:f,overIndex:E,useDragOverlay:h,sortedRects:Cne(f,l),strategy:i}),[v,d,S.draggable,S.droppable,_,f,E,l,h,i]);return te.createElement(d2.Provider,{value:T},e)}const Ine=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return D_(n,r,i).indexOf(e)},kne=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},Dne={duration:200,easing:"ease"},h2="transform",Pne=tu.Transition.toString({property:h2,duration:0,easing:"linear"}),Nne={roleDescription:"sortable"};function Mne(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=p.useState(null),a=p.useRef(n);return Jn(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const c=el(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,i]),p.useEffect(()=>{s&&o(null)},[s]),s}function One(t){let{animateLayoutChanges:e=kne,attributes:n,disabled:r,data:i,getNewIndex:s=Ine,id:o,strategy:a,resizeObserverConfig:l,transition:c=Dne}=t;const{items:u,containerId:d,activeIndex:h,disabled:f,disableTransforms:g,sortedRects:v,overIndex:E,useDragOverlay:w,strategy:y}=p.useContext(d2),_=Lne(r,f),S=u.indexOf(o),T=p.useMemo(()=>({sortable:{containerId:d,index:S,items:u},...i}),[d,i,S,u]),C=p.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:x,node:A,isOver:N,setNodeRef:M}=Tne({id:o,data:T,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...l}}),{active:z,activatorEvent:re,activeNodeRect:fe,attributes:ue,setNodeRef:it,listeners:oe,isDragging:de,over:D,setActivatorNodeRef:F,transform:$}=Ene({id:o,data:T,attributes:{...Nne,...n},disabled:_.draggable}),B=tte(M,it),q=!!z,Se=q&&!g&&Vd(h)&&Vd(E),Oe=!w&&de,st=Oe&&Se?$:null,bt=Se?st??(a??y)({rects:v,activeNodeRect:fe,activeIndex:h,overIndex:E,index:S}):null,Xt=Vd(h)&&Vd(E)?s({id:o,items:u,activeIndex:h,overIndex:E}):S,We=z==null?void 0:z.id,ee=p.useRef({activeId:We,items:u,newIndex:Xt,containerId:d}),Ze=u!==ee.current.items,Tt=e({active:z,containerId:d,isDragging:de,isSorting:q,id:o,index:S,items:u,newIndex:ee.current.newIndex,previousItems:ee.current.items,previousContainerId:ee.current.containerId,transition:c,wasDragging:ee.current.activeId!=null}),Sn=Mne({disabled:!Tt,index:S,node:A,rect:x});return p.useEffect(()=>{q&&ee.current.newIndex!==Xt&&(ee.current.newIndex=Xt),d!==ee.current.containerId&&(ee.current.containerId=d),u!==ee.current.items&&(ee.current.items=u)},[q,Xt,d,u]),p.useEffect(()=>{if(We===ee.current.activeId)return;if(We&&!ee.current.activeId){ee.current.activeId=We;return}const ve=setTimeout(()=>{ee.current.activeId=We},50);return()=>clearTimeout(ve)},[We]),{active:z,activeIndex:h,attributes:ue,data:T,rect:x,index:S,newIndex:Xt,items:u,isOver:N,isSorting:q,isDragging:de,listeners:oe,node:A,overIndex:E,over:D,setNodeRef:B,setActivatorNodeRef:F,setDroppableNodeRef:M,setDraggableNodeRef:it,transform:Sn??bt,transition:ht()};function ht(){if(Sn||Ze&&ee.current.newIndex===S)return Pne;if(!(Oe&&!A_(re)||!c)&&(q||Tt))return tu.Transition.toString({...c,property:h2})}}function Lne(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}ye.Down,ye.Right,ye.Up,ye.Left;async function Vne(t){return await oE(Vn(Wt,"users",t))}const f2=p.createContext(null);function jne({children:t}){const[e,n]=p.useState([]),{authContext:r}=on();return p.useEffect(()=>{r.userID&&Vne(r.userID).then(i=>{const s=[];i.exists()&&i.data().notesDB!==void 0&&i.data().notesDB.forEach(o=>{s.push(o)}),n([...s])})},[r]),m.jsx(f2.Provider,{value:{notes:e,setNotes:n},children:t})}function N_(){const t=p.useContext(f2);if(!t)throw new Error("useNotesContext should be used within a NotesContextProvider");return t}function Fne(t,e,n){const r=[...t];r.splice(n,1),e(r)}function Bne(t,e,n,r){let i=[...n];i[e]=t,r(i)}async function Une(t,e,n,r){let i=[...r];i[n]=e,await Nn(Vn(Wt,"users",t),{notesDB:i},{merge:!0})}function $ne(t){const{modalContext:e,setModalContext:n}=Ft(),{authContext:r}=on(),{notes:i,setNotes:s}=N_(),[o,a]=p.useState(t.note),[l,c]=p.useState(!1),u=GM;return p.useEffect(()=>{u(o,t.note,c)},[o]),m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Edit note"})}),m.jsxs(si,{className:"d-flex flex-column gap-4 border-0 my-bg-darker",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Title",labelStyle:"my-color-light fw-semibold mb-1 txt-small",inputType:"text",inputValue:o.title,inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:d=>{a({...o,title:d.target.value})}}),m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Color",labelStyle:"my-color-light fw-semibold mb-1 txt-small",inputType:"color",inputValue:o.noteColor,inputStyle:"shadowHover shadowFocus border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:d=>{a({...o,noteColor:d.target.value})}}),m.jsx(ws,{containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Description",labelClass:"my-color-light fw-semibold mb-1 txt-small",txtAreaClass:"modal-description w-100 txt-small shadowHover shadowFocus my-bg-dark rounded border-0 my-color-light p-2 fw-semibold",txtAreaValue:o.description,onChange:d=>{a({...o,description:d.target.value})}})]}),m.jsx(oi,{className:"my-bg-darker border-0",children:m.jsxs(no,{className:"d-flex flex-row gap-4",children:[m.jsx(St,{className:"fw-semibold btn-purple-outline my-color-lighter txt-small",style:{flex:1},onClick:()=>{n({...e,showModal:!e.showModal})},children:"Close"}),m.jsx(St,{className:`${l?"bg-warning text-secondary":"btn-purple my-color-lighter"} border-0 fw-semibold txt-small`,style:{flex:1},onClick:async()=>{l?(n({...e,showModal:!e.showModal}),Une(r.userID,o,t.index,i),Bne(o,t.index,i,s)):(Fne(i,s,t.index),n({...e,showModal:!e.showModal}))},children:l?"Save Changes":"Delete"})]})})]})}function Hne(t){return t.split(`
`).map(n=>m.jsxs(m.Fragment,{children:[n,m.jsx("br",{})]}))}function zne(t){const{modalContext:e,setModalContext:n}=Ft(),{attributes:r,listeners:i,setNodeRef:s,transform:o,transition:a}=One({id:t.note.id}),l={transition:a,transform:tu.Transform.toString(o)};return m.jsx("div",{ref:s,...r,...i,style:l,onDoubleClick:()=>{n({modalContent:m.jsx($ne,{note:t.note,index:t.index}),showModal:!e.showModal})},children:m.jsxs("div",{className:`my-bg-dark d-flex flex-column shadowHover sticky-note rounded p-4 gap-4 ${t.note.noteColor!==""?"":"sticky-note-border-color"}`,style:t.note.noteColor!==""?{border:`solid 2px ${t.note.noteColor}`}:{},children:[m.jsx("div",{children:m.jsx("span",{className:"txt-large my-color-lighter",children:t.note.title})}),m.jsx("span",{className:"my-color-light",style:{wordBreak:"break-word"},children:Hne(t.note.description)})]})})}function Wne(t,e,n){const r=[...e];r.push(t),n(r)}async function Gne(t,e,n){await Nn(Vn(Wt,"users",t),{notesDB:[e,...n]},{merge:!0})}function qne(){const{setModalContext:t,modalContext:e}=Ft(),{authContext:n}=on(),{setNotes:r,notes:i}=N_(),[s,o]=p.useState({title:"",noteColor:"#FFFFFF",description:"",id:new Date().getTime()}),a=()=>s.title!==""&&s.description!==""&&s.noteColor!=="";return m.jsxs(m.Fragment,{children:[m.jsx(ai,{className:"my-bg-darker my-color-light border-0",children:m.jsx(li,{id:"contained-modal-title-vcenter",className:"my-color-light border-0",children:"Add note"})}),m.jsxs(si,{className:"d-flex flex-column gap-4 border-0 my-bg-darker modal-body overflow-auto",children:[m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Title",labelStyle:"my-color-light fw-semibold mb-1 txt-small",inputType:"text",inputPlaceholder:"Title...",inputValue:s.title,inputStyle:"shadowHover shadowFocus w-100 border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:l=>{o({...s,title:l.target.value})}}),m.jsx(rt,{containerStyle:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Color",labelStyle:"my-color-light fw-semibold mb-1 txt-small",inputType:"color",inputValue:s.noteColor,inputStyle:"shadowHover shadowFocus border-0 p-2 my-bg-dark my-color-light fw-semibold rounded",onChange:l=>{o({...s,noteColor:l.target.value})}}),m.jsx(ws,{containerClass:"fw-semibold d-flex flex-column justify-content-center gap-2",labelValue:"Description",labelClass:"my-color-light fw-semibold mb-1 txt-small",txtAreaClass:"modal-description w-100 txt-small shadowHover shadowFocus my-bg-dark rounded border-0 my-color-light p-2 fw-semibold",placeholder:"Description...",txtAreaValue:s.description,onChange:l=>{o({...s,description:l.target.value})}})]}),m.jsx(oi,{className:"my-bg-darker border-0",children:m.jsx(St,{className:`${a()?"bg-warning text-secondary":"btn-purple my-color-lighter"} border-0 fw-semibold  txt-small`,onClick:async()=>{a()?(await Gne(n.userID,s,i),Wne(s,i,r),t({...e,showModal:!e.showModal})):t({...e,showModal:!e.showModal})},children:a()?"Add task":"Close"})})]})}function Qne(){const{notes:t,setNotes:e}=N_(),{modalContext:n,setModalContext:r}=Ft(),{authContext:i}=on(),s=mte(Zx(i2),Zx(s2)),o=async a=>{const{active:l,over:c}=a;if(l.id===c.id)return;const u=t.findIndex(f=>f.id===l.id),d=t.findIndex(f=>f.id===c.id),h=D_(t,u,d);e([...h]),await Nn(Vn(Wt,"users",i.userID),{notes:h})};return m.jsxs("div",{className:"d-flex flex-column flex-1 p-2 gap-4 fadeIn",children:[m.jsx(EE,{txt:"Notes",keyProp:"Calendar",className:"txt-larger fw-semibold ms-2 mb-2 my-color-light fadeIn"}),m.jsx(po,{buttonTxt:"Add note",function:()=>{r({showModal:!n.showModal,modalContent:m.jsx(qne,{})})}}),m.jsx("div",{className:"p-3 my-scrollbar sticky-notes-container rounded",style:{flex:1},children:t.length?m.jsx("div",{className:"sticky-note-container gap-4",children:m.jsx(vne,{onDragEnd:o,collisionDetection:Ete,sensors:s,children:m.jsx(Rne,{items:t,strategy:P_,children:t.map((a,l)=>m.jsx(zne,{note:a,index:l},a.id))})})}):m.jsx("div",{className:"my-color-light fw-semibold d-flex flex-1 h-100 align-items-center justify-content-center",children:"Create your first note"})})]})}function Kne(){return m.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:m.jsx("span",{style:{fontWeight:700,fontSize:"26px"},children:"Page doesn't exist"})})}function Yne(){const{authContext:t}=on();return m.jsx(Q5,{children:m.jsxs($5,{children:[m.jsxs(xr,{path:"/",children:[m.jsx(xr,{index:!0,element:m.jsx(nW,{})}),m.jsx(xr,{path:"signup",element:m.jsx(iW,{})}),t.isLogged&&m.jsxs(xr,{path:"dashboard",element:m.jsx(xW,{}),children:[m.jsx(xr,{index:!0,element:m.jsx(vQ,{})}),m.jsx(xr,{path:"calendar",element:m.jsx(ete,{})}),m.jsx(xr,{path:"sticky_notes",element:m.jsx(Qne,{})})]})]}),m.jsx(xr,{path:"*",element:m.jsx(Kne,{})})]})})}function Xne(){return m.jsx("div",{className:"App",children:m.jsx(G3,{children:m.jsx(Q3,{children:m.jsx(K3,{children:m.jsx(jne,{children:m.jsx(Yne,{})})})})})})}Og.createRoot(document.getElementById("root")).render(m.jsx(Xne,{}));
